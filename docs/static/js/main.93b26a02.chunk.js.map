{"version":3,"sources":["components/CustomIcons/EVD.svg","frameStyles.js","components/FrameButton.jsx","stores/GuiSlice.js","stores/generateUuid.js","stores/gripper.js","stores/helpers.js","stores/ReviewSlice.js","stores/issueDetectors/safety.js","stores/issueDetectors/quality.js","stores/issueDetectors/performance.js","stores/issueDetectors/business.js","stores/EvdSlice.js","stores/initialSim.js","stores/ComputedSlice.js","stores/Store.js","stores/RosSlice.js","components/Review/ReviewIssue.jsx","components/Review/ReviewSection.jsx","components/Body/ReviewTile.jsx","components/Controls.jsx","components/ContextualInfo/Blurb.jsx","components/ContextualInfo/Scene.jsx","components/Body/InfoTile.jsx","components/ContextualInfo/Locations.jsx","components/ContextualInfo/Waypoints.jsx","components/ContextualInfo/Machines.jsx","components/ContextualInfo/Things.jsx","components/ContextualInfo/ProgramBlock.jsx","components/ContextualInfo/SkillBlock.jsx","components/ContextualInfo/PrimitiveBlock.jsx","components/ContextualInfo/TrajectoryBlock.jsx","components/ContextualInfo/Plots.jsx","components/Body/SimulatorTile.jsx","components/CustomIcons/Container.svg","components/ProgramEditor/acceptLookup.js","components/ProgramEditor/blockStyles.js","components/CustomIcons/Location.svg","components/CustomIcons/Gear.svg","components/CustomIcons/Thing.svg","components/CustomIcons/Waypoint.svg","components/CustomIcons/Primitive.svg","components/ProgramEditor/UUIDBlock.jsx","components/ProgramEditor/SortableSeparator.jsx","components/ProgramEditor/TrajectoryBlock.jsx","components/ProgramEditor/NodeZone.jsx","components/CustomIcons/Skill.svg","components/ProgramEditor/PrimitiveBlock.jsx","components/ProgramEditor/SkillCallBlock.jsx","components/ProgramEditor/ActionBlock.jsx","components/ProgramEditor/HierarchicalBlock.jsx","components/ProgramEditor/ProgramBlock.jsx","components/ProgramEditor/Grid.jsx","components/ProgramEditor/Tags/EditableTag.jsx","components/ProgramEditor/Tags/EditableTagGroup.jsx","components/ProgramEditor/SkillBlock.jsx","components/ProgramEditor/Canvas.jsx","stores/templates.js","components/ProgramEditor/PrimitivesDrawer.jsx","components/ProgramEditor/ContainersDrawer.jsx","components/ProgramEditor/UUIDDrawer.jsx","components/ProgramEditor/DeleteZone.jsx","components/ProgramEditor/SkillCallDrawer.jsx","components/ProgramEditor/Editor.jsx","components/ProgramEditor/index.jsx","components/Detail/Geometry.js","components/Detail/OrientationInput.jsx","components/Detail/PositionInput.jsx","components/Detail/LocationDetail.jsx","components/Detail/InputOutputComponent.jsx","components/Detail/MachineInOutTypeDetail.jsx","components/Detail/MachineDetail.jsx","components/Detail/ThingDetail.jsx","components/Detail/WaypointDetail.jsx","components/Detail/MachineInOutRegionDetail.jsx","components/Detail/index.jsx","components/Body/ProgramTile.jsx","components/Modals/SettingsModal.jsx","components/Modals/SyncModal.jsx","components/Modals/index.jsx","App.jsx","serviceWorker.js","index.jsx"],"names":["_g","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgEvd","_ref","svgRef","title","titleId","props","width","height","viewBox","xmlns","xmlnsXlink","xmlSpace","style","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","ref","id","transform","d","ForwardRef","frameStyles","colors","safety","quality","performance","business","StyledButton","styled","button","frame","active","FrameButton","onClick","fontSize","color","text","ACTIVE_TFS","generateUuid","type","uuidv4","GRIPPER_FRAMES","GRIPPER_CONFIGURATIONS","range","typeToKey","ROBOT_FRAMES","HUMAN_ZONE","x","y","z","DEFAULT_LOCATION_COLOR","r","g","b","a","DEFAULT_WAYPOINT_COLOR","DEFAULT_TRAJECTORY_COLOR","UNREACHABLE_COLOR","OCCUPANCY_ERROR_COLOR","start","end","step","occupancyOverlap","position","occupancyZones","noOverlap","values","forEach","zone","position_x","scale_x","position_z","scale_z","flattenProgram","primitives","skills","parentData","flattenedPrimitives","flattenedSkills","primitive","includes","newPrimitive","lodash","omit","primitiveIds","map","uuid","push","primitiveChildren","skill","newSkill","executablePrimitiveInner","primitiveId","state","context","executable","some","childId","children","data","innerContext","parameters","parameterKey","value","skill_uuid","thing_uuid","machine_uuid","trajectory_uuid","location_uuid","executablePrimitive","placeholders","locations","waypoints","thingTypes","regions","trajectories","trajectory","sequence","trace","start_location_uuid","end_location_uuid","waypoint_uuids","waypoint_uuid","console","log","executableTrajectory","machines","machine","inputData","outputData","inputs","thingType","thingInfo","region","region_uuid","thing","outputs","placeholder","placeholder_uuids","executableMachine","gripperFramesFromValue","distance","idx","fn","lastIdx","findLastSatisfiedFromReference","cmd","v","frames","frameName","rawFrame","capture","translation","rotation","w","robotFramesFromPose","pose","robotFramesFromIdx","tfAnimationFromExecutable","startingTfs","steps","time","tfs","machineProcessing","cancelled","currentTime","activePlaceholders","carriedPlaceholder","chunk","prevTfs","cloneDeep","duration","delta","direction","Math","abs","speed","timeOffset","tempGripperState","pose1","pose2","translationDistance","sqrt","pow","quat1","Quaternion","quaternion","quat2","angle","angleTo","poseDiff","process_time","outputObj","center_position","center_orientation","time_data","simulated_tool0","in_timeout","objectMap","val","tempAnimatedTfs","_","tfNames","timesteps","tfName","tf","interpolateScalar","stepsToAnimatedTfs","object","mapFn","reduce","result","arrayMove","arr","old_index","new_index","k","undefined","splice","unFlattenProgramPrimitives","ids","unFlattenedPrimitives","unFlattenProgramSkills","unflattenedSkillSet","unFlattenedSkills","poseToColor","focused","inHumanZone","reachable","poseDataToShapes","pose_stored","name","shape","scale","highlighted","showName","orientation","SECTION_INFO","endEffectorPoses","updater","dependencies","pinchPoints","collisions","occupancy","thingMovement","program","unrolled","issues","semantic","thingUUID","thingTypeUUID","pending_node","thing_type_uuid","is_safe","requiresChanges","description","complete","focus","graphData","missingBlocks","missingParameters","parameterName","unusedSkills","allSkills","usedSkills","filter","unusedFeatures","allLocations","allWaypoints","allMachines","allThingPlaceholders","usedLocations","usedWaypoints","usedMachines","usedThingPlaceholders","paramKey","argument","paramName","parameter_key","parameter_type","unusedLocations","unusedWaypoints","unusedMachines","unusedThingPlaceholders","unused_feature_uuid","location","waypoint","emptyBlocks","reachability","usedPoses","startLocation","joints","endLocation","jointSpeed","jointNames","jointNameMap","jointThresholds","warning","error","jointColorMap","jointVelocities","jointGraphData","timeData","allJointData","joint_data","jointDataLength","hasErrorVelocity","shouldGraphJoint","j","calcVel","graphDataPoint","floor","jointColors","series","lineColors","xAxisLabel","yAxisLabel","sceneData","endEffectorSpeed","endEffectorVelocities","endEffectorGraphData","tool0","shouldGraphLine","endEffectorVelocity","payload","spaceUsage","cycleTime","stats","randY","random","priorData","idleTime","returnOnInvestment","roi","ROI","EvdSlice","set","get","gradeTypes","collisionMeshes","reachSpheres","setProgram","setName","setUuid","setType","setDescription","environment","grade_types","gradeType","addItem","occupancy_zones","occupancyZone","collision_meshes","collisionMesh","pinch_points","pinchPoint","reach_sphere","thing_types","addChildPrimitive","getProgram","parentId","deleteChildPrimitive","oldPrimitiveIds","newPrimitiveIds","primitiveData","deleteHierarchical","hierarchical","deleteItem","moveTrajectoryWaypoint","waypointId","oldParentId","newParentId","oldIndex","newIndex","insertTrajectoryWaypoint","deleteTrajectoryWaypoint","index","moveChildPrimitive","parentType","newParentType","oldParentType","insertChildPrimitive","moveTrajectoryBlock","argKey","field","deletePrimitiveTrajectory","trajectoryId","item","setItemProperty","property","setPoseTransform","local","setRegionTransform","setPrimitiveParameter","other_uuid","moveItem","createAndPlaceItem","createSkillArgument","deleteArgumentFromChild","deleteArgumentsFromHierarchical","hier_uuid","deleteArgumentFromSkill","arg","deleteSkillArgument","getSkillArugment","argument_uuid","setArgumentProperty","COLLISION_MESHES","EVD_MESH_LOOKUP","INITIAL_SIM","staticScene","table","showCollision","pedestal","showCollison","robotBase","robotShoulderLink","robotUpperArmLink","collision","robotForearmLink","robotWrist1Link","robotWrist2Link","robotWrist3Link","gripperBaseLink","gripperLeftKnuckle","gripperRightKnuckle","gripperLeftFinger","gripperRightFinger","gripperLeftInnerKnuckle","gripperRightInnerKnuckle","gripperLeftFingerTip","gripperRightFingerTip","ROBOT_PARTS","GRIPPER_PARTS","ComputedSlice","computed","executablePrimitives","executableLookup","focusItem","items","focusedTrajectoryChildren","itemKey","secondaryFocusItem","transformMode","e","stopPropagation","setFocusItem","onMove","wireframe","hidden","collisionsVisible","occupancy_type","occupancyVisible","focusedInputs","focusedOutputs","regionInfo","input","output","mesh","mesh_id","pose_offset","link","zoneInfo","debouncedOnMove","debounce","machineInput","machineOutput","uncertainty_x","uncertainty_y","uncertainty_z","uncertainty_radius","trajectoryFocused","E","sin","requestJointProcessorUpdate","lines","poses","vertices","hulls","useStore","create","primaryColor","setFrame","activeModal","setActiveModal","modal","closeModal","activeDrawer","setActiveDrawer","drawer","clearFocusItem","searchTerm","setSearchTerm","term","clearSearchTerm","simMode","setSimMode","mode","setSecondaryFocusItem","clearSecondaryFocusItem","childrenDrawer","setChildrenDrawer","clearChildrenDrawer","updateFromTfs","msg","transforms","transformstamped","child_frame_id","setTF","setCollisionsVisible","visible","setOccupancyVisible","GuiSlice","sections","section","setIssueCompletion","refresh","newIssues","unrolledProgram","allNewStats","entries","sectionKey","newSectionIssues","newStats","issueKey","existingIssue","newIssueKey","newIssue","ReviewSlice","url","setUrl","connection","ros","updateProgramTopic","configureProgramProcessorsTopic","jointProcessorRequestTopic","jointProcessorResponseTopic","traceProcessorRequestTopic","traceProcessorResponseTopic","onConnection","configuration","publish","JSON","stringify","setTimeout","doBulkJointRequest","onError","onClose","connect","ROSLIB","Ros","on","Topic","messageType","handleJointProcessorResponseFn","updateJointFromProcessor","handleTraceProcessorResponseFn","updateTraceFromProcessor","subscribe","updateJointAndTraceData","joint","pybullet_frame_data","parse","status","requestTraceProcessorUpdate","pybullet_joint_data","pybullet_collisions","pybullet_self_collisions","postprocess_occupancy","env_collisions","self_collisions","poseInfo","point","trajectoryInfo","points","RosSlice","middleware","config","api","partial","replace","nextState","produce","getState","KnifeAssembly","ReviewIssue","issueId","issue","useCallback","Item","extra","align","size","disabled","defaultChecked","onChange","icon","EllipsisOutlined","borderRadius","boxShadow","backgroundColor","margin","padding","Meta","marginRight","avatar","StopOutlined","ExclamationOutlined","isComplete","sectionId","FRAMES","ReviewSection","blocked","initialBlocked","issueIds","dep","depNames","depFrames","sectionFrame","justify","marginBottom","marginTop","marginLeft","border","collapsible","expandIcon","isActive","CaretRightOutlined","rotate","flex","opacity","expandIconPosition","Panel","header","checkedChildren","checked","split","dataSource","renderItem","ReviewTile","frameInfo","min","isBlocked","shallow","frameId","blockages","frameIdx","paddingLeft","paddingRight","paddingBottom","display","flexDirection","justifyContent","SyncOutlined","bodyStyle","overflow","borderWidth","borderColor","Controls","placement","FullscreenOutlined","FullscreenExitOutlined","CaretRightFilled","PauseOutlined","RollbackOutlined","content","Blurb","div","highlight","ROBOT_DATA","GRIPPER_DATA","INFO","printer","bladeConveyor","knifeConveyor","conveyorDispatcher","conveyorReceiver","assemblyJig","InfoTile","focusData","secondaryFocusData","currentIssue","useState","currentTab","setCurrentTab","tabs","contents","issueParams","editorPane","setupTab","getSceneInfo","getLocationInfo","getWaypointInfo","getMachineInfo","getThingInfo","getProgramInfo","getSkillInfo","getPrimitiveInfo","getTrajectoryInfo","temp","showLegend","intervalLength","minHeight","fill","textAlign","ResponsiveContainer","aspect","LineChart","CartesianGrid","strokeDasharray","XAxis","dataKey","interval","Label","offset","YAxis","label","entry","Line","stroke","dot","Tooltip","contentStyle","Legend","verticalAlign","layout","getPlotInfo","concat","tab","fontFamily","fontWeight","fontVariant","lineHeight","overflowY","SimulatorTile","headStyle","displayTfs","displayGrid","isPolar","planeColor","highlightColor","plane","fov","store","onPointerMissed","acceptLookup","default","accepts","all","PRIMITIVE_STYLE","SKILL_STYLE","blockStyles","SvgContainer","SvgLocation","_path","SvgGear","SvgThing","SvgWaypoint","ICONS","MachineIcon","LocationIcon","ThingIcon","WaypointIcon","ContainerIcon","validDrop","ancestors","ancestor","UUIDBlock","onDelete","onDrop","onNameChange","dragDisabled","dropDisabled","hoverBehavior","dragBehavior","after","itemType","useDrag","options","dragEffect","canDrag","collect","monitor","isDragging","drag","preview","editing","setEditing","useDrop","accept","drop","otherItem","canDrop","isOver","dragItem","getItem","inDrawer","isReal","real","showMore","blockStyle","zIndex","displayData","Fragment","className","wrap","minWidth","maxWidth","cursor","Icon","component","bordered","textTransform","editable","UnlockOutlined","LockOutlined","overlay","domEvent","EyeOutlined","EditOutlined","deleteable","DeleteOutlined","SortableSeparator","spacing","dropConfig","dropRef","showPreview","useMeasure","previewRef","usedHeight","previewStyle","useSpring","stiff","top","staticData","locked","bottom","TrajectoryBlock","start_location","end_location","unfocused","editingEnabled","settingsExpanded","setSettingsExpanded","settingsRef","settingsStyle","styles","trajectoryWaypointAncestors","trajectoryLocationAncestors","fieldStyle","selectionStyle","startDrop","dropData","waypointDrop","newIdx","endDrop","span","DownOutlined","RightOutlined","move_type","max","defaultValue","velocity","emptyMessage","NodeZone","empty","showChildren","SvgPrimitive","SvgSkill","PrimitiveBlock","parameterValues","focusExists","parameterAncestors","Glyph","SkillIcon","PrimitiveIcon","parameterDrop","parameter","trajectoryDrop","suffix","formatter","TYPE_LOOKUP","PRETTY_LOOKUP","SkillCallBlock","callVal","argInfo","COMPONENT_LOOKUP","expanded","setExpanded","nodeListRef","nodeListStyle","primitiveDrop","fieldData","primitiveAncestors","dragBlockStyles","onChildDelete","SaveOutlined","count","showZero","ActionBlock","Component","ProgramBlock","programAncestors","left","onDrag","Grid","EditableTag","parent","newName","closefunc","EditableTagGroup","closeTag","determineItemType","param_type","obj","paddingTop","DEFAULT_ARG_NAMES","SkillBlock","skillAncestors","menuClickCreateArgument","is_list","currentContext","Canvas","useRef","acceptTypes","nameLookup","getDifferenceFromInitialOffset","getClientOffset","rect","current","getBoundingClientRect","primitiveTemplates","effort","manual_safety","containerTemplates","primitiveTypes","fromPrimitiveTemplate","fromContainerTemplate","PrimitivesDrawer","ContainersDrawer","UUIDDrawer","datum","DeleteZone","right","DeleteFilled","skill2Call","SkillCallDrawer","SEARCHABLE","Editor","drawerStyle","drawers","addFn","newMachine","collision_mesh_uuid","createMachine","newLocation","joint_positions","joint_names","newWaypoint","thingTypeUuid","newPlaceholder","pending_fields","createPlaceholder","containers","actions","Sider","collapsed","trigger","drawerKey","block","alignItems","PlusOutlined","addonAfter","CloseOutlined","Content","ProgramEditor","DndProvider","backend","HTML5Backend","_AXES2TUPLE","sxyz","sxyx","sxzy","sxzx","syzx","syzy","syxz","syxy","szxy","szxz","szyx","szyz","rzyx","rxyx","ryzx","rxzx","rxzy","ryzy","rzxy","ryxy","ryxz","rzxz","rxyz","rzyz","_NEXT_AXIS","_EPS","m","n","quaternionFromEuler","vec3","axes","ai","aj","ak","toLowerCase","firstaxis","parity","repetition","ci","cos","si","cj","sj","ck","sk","cc","cs","sc","ss","q","eulerFromMatrix","matrix","ax","ay","az","M","sy","atan2","cy","quaternionMatrix","RAD_2_DEG","PI","DEG_2_RAD","eulerVecToRadians","vec","OrientationInput","eulerFromQuaternion","eulerValues","setEulerValues","limits","onlyPositive","preVec","setPrevVec","openStatus","precision","updatedEulerValues","onOpen","PositionInput","inputVec","setInputVec","minMax","updatedVec","LocationDetail","TextArea","Input","activeTransform","setActiveTransform","debouncedRequest","borderTopColor","InputOutputComponent","typeuuid","quantity","MachineInOutTypeDetail","comKeys","MachineDetail","ThingDetail","WaypointDetail","MachineInOutRegionDetail","defaultShape","setShape","changeShape","newShape","dimension","sbyle","free_orientation","EDITOR_TYPES","Detail","childItem","danger","getContainer","mask","footer","ProgramTile","SettingsModal","connectButtonText","onOk","onCancel","showIcon","message","Search","enterButton","loading","onSearch","SyncModal","fileInputRef","upload","event","fileUploaded","files","reader","FileReader","onabort","onerror","onload","YAML","readAsText","UploadOutlined","click","DownloadOutlined","blob","Blob","saveAs","Modals","App","simStyle","editStyle","programName","useEffect","document","body","classList","remove","add","menuItems","modalKey","SettingOutlined","Header","float","EvdIcon","Boolean","window","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"+KAAIA,EAAIC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,E,4IAElCC,EAAY,CAAC,QAAS,WAE1B,SAASC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkBH,EAASY,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASoB,EAAOC,EAAMC,GACpB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQd,EAAyBU,EAAMzB,GAE3C,OAAoB,gBAAoB,MAAOC,EAAS,CACtD6B,MAAO,OACPC,OAAQ,OACRC,QAAS,gBACTC,MAAO,6BACPC,WAAY,+BACZC,SAAU,WACVC,MAAO,CACLC,SAAU,UACVC,SAAU,UACVC,eAAgB,QAChBC,iBAAkB,GAEpBC,IAAKf,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3De,GAAId,GACHD,GAAS,KAAMnC,IAAOA,EAAkB,gBAAoB,IAAK,CAClEmD,UAAW,mCACG,gBAAoB,OAAQ,CAC1CC,EAAG,ixBACCnD,IAAQA,EAAmB,gBAAoB,IAAK,CACxDkD,UAAW,iEACG,gBAAoB,OAAQ,CAC1CC,EAAG,ycACClD,IAAQA,EAAmB,gBAAoB,IAAK,CACxDiD,UAAW,+DACG,gBAAoB,OAAQ,CAC1CC,EAAG,sPACCjD,IAAQA,EAAmB,gBAAoB,IAAK,CACxDgD,UAAW,mCACG,gBAAoB,OAAQ,CAC1CC,EAAG,gQACChD,IAAQA,EAAmB,gBAAoB,IAAK,CACxD+C,UAAW,uDACG,gBAAoB,OAAQ,CAC1CC,EAAG,gQACC/C,IAAQA,EAAmB,gBAAoB,IAAK,CACxD8C,UAAW,uDACG,gBAAoB,OAAQ,CAC1CC,EAAG,gQACC9C,IAAQA,EAAmB,gBAAoB,IAAK,CACxD6C,UAAW,iEACG,gBAAoB,OAAQ,CAC1CC,EAAG,gQACC7C,IAAQA,EAAmB,gBAAoB,IAAK,CACxD4C,UAAW,iEACG,gBAAoB,OAAQ,CAC1CC,EAAG,iQAIP,I,EAAIC,EAA0B,aAAiBrB,G,GAChC,I,uEC7DAsB,EATK,CAChBC,OAAQ,CACJC,OAAQ,UACRC,QAAS,UACTC,YAAa,UACbC,SAAU,Y,OCDZC,EAAeC,IAAOC,OAAV,wUAKM,SAAAzB,GAAK,OAAEiB,EAAYC,OAAOlB,EAAM0B,UAEhC,SAAA1B,GAAK,OAAGA,EAAM2B,OAASV,EAAYC,OAAOlB,EAAM0B,OAAS,mBAErD,SAAA1B,GAAK,OAAEiB,EAAYC,OAAOlB,EAAM0B,UAAS,SAAA1B,GAAK,OAAGA,EAAM2B,OAAS,KAAO,QAK5F,SAASC,EAAY5B,GAIxB,OAAO,cAACuB,EAAD,CAAcG,MAAO1B,EAAM0B,MAAOC,OAAQ3B,EAAM2B,OAAQE,QAAS7B,EAAM6B,QAAvE,SAAgF,sBAAMtB,MAAO,CAACuB,SAAS,QAAQC,MAAM/B,EAAM2B,OAAS,QAAUV,EAAYC,OAAOlB,EAAM0B,QAAvF,SAAiG1B,EAAMgC,S,sBChB5LC,EAAa,CACjB,sBACA,0BACA,2BACA,yBACA,yBACA,yBACA,0B,UCXIC,EAAe,SAACC,GAClB,MAAM,GAAN,OAAUA,EAAV,eAAqBC,gB,mDCHZC,EAAiB,CAC1B,iCACA,wCACA,4CACA,+CACA,yCACA,yCACA,6CACA,gDACA,2CAGSC,EAAyB,CAClC,QAAW,CACP,+BAAkC,CAC9B,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,oBAGR,CACI,CACI,EACA,EACA,GAEJ,CACI,mBACC,kBACD,kBACA,qBAIZ,sCAAyC,CACrC,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,KAIZ,0CAA6C,CACzC,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,kBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,qBAIZ,6CAAgD,CAC5C,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,kBACD,qBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,OACA,MACA,GAEJ,CACI,mBACC,mBACD,sBACA,yBAIZ,uCAA0C,CACtC,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,kBACD,qBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,wBAGR,CACI,CACI,aACA,aACA,GAEJ,CACI,mBACC,mBACD,sBACA,yBAIZ,uCAA0C,CACtC,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,IAGR,CACI,EACK,cACA,aACD,GAEJ,CACI,EACA,EACA,EACA,KAIZ,2CAA8C,CAC1C,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,kBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,GACC,oBACD,qBAIZ,8CAAiD,CAC7C,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,kBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,QACC,MACD,GAEJ,CACI,EACA,EACA,oBACA,qBAIZ,wCAA2C,CACvC,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,kBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,oBAGR,CACI,CACI,cACC,aACD,GAEJ,CACI,EACA,EACA,oBACA,sBAKhB,IAAO,CACH,EACA,KACA,IACA,MACA,GACA,MACA,KACA,MACA,GACA,MACA,KACA,MACA,GACA,MACA,KACA,MACA,GACA,MACA,KACA,MACA,IAEJ,QAAW,CACP,CACI,gBACA,iBAEJ,CACI,gBACA,gCAEJ,CACI,+BACA,wCAEJ,CACI,+BACA,yCAEJ,CACI,uCACA,uCAEJ,CACI,wCACA,wCAEJ,CACI,+BACA,8CAEJ,CACI,+BACA,+CAEJ,CACI,6CACA,2CAEJ,CACI,8CACA,8C,oBClzEFC,IAvCH,IAAMC,GAAY,SAACL,GACtB,IAAIvD,EACJ,OAAQuD,GACJ,IAAK,aACDvD,EAAM,eACN,MACJ,IAAK,gBACDA,EAAM,kBACN,MACJ,QACIA,EAAMuD,EAAO,IAErB,OAAOvD,GAGL6D,GAAe,CACjB,YACA,gBACA,iBACA,eACA,eACA,eACA,eACA,SACA,SAGSC,GAAuB,EAAvBA,GAAkC,EAAlCA,GAA+C,CAAEC,EAAG,EAAGC,GAAI,EAAGC,EAAG,GAEjEC,GAAyB,CAAEC,EAAG,GAAIC,EAAG,GAAIC,EAAG,IAAKC,EAAG,GAEpDC,GAAyB,CAAEJ,EAAG,IAAKC,EAAG,GAAIC,EAAG,IAAKC,EAAG,GAErDE,GAA2B,CAAEL,EAAG,IAAKC,EAAG,EAAGC,EAAG,IAAKC,EAAG,GAEtDG,GAAoB,CAAEN,EAAG,IAAKC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAE/CI,GAAwB,CAAEP,EAAG,IAAKC,EAAG,GAAIC,EAAG,IAAKC,EAAG,GAEjE,SAAUX,GAAMgB,EAAOC,GAAvB,qFAA4BC,EAA5B,+BAAiC,EACpBjF,EAAI+E,EADjB,YACwB/E,GAAKgF,GAD7B,gBAEQ,OAFR,SAEchF,EAFd,OACkCA,GAAGiF,EADrC,uDAMO,IAOMC,GAAmB,SAACC,EAAUC,GACvC,IAAIC,GAAY,EAShB,OARAxF,OAAOyF,OAAOF,GAAgBG,SAAQ,SAAAC,GAC9BL,EAAShB,EAAIqB,EAAKC,WAAaD,EAAKE,SACpCP,EAAShB,EAAIqB,EAAKC,WAAaD,EAAKE,SACpCP,EAASf,EAAIoB,EAAKG,WAAaH,EAAKI,SACpCT,EAASf,EAAIoB,EAAKG,WAAaH,EAAKI,UACpCP,GAAY,OAGZA,GAGL,SAASQ,GAAeC,EAAYC,EAAQC,GAE/C,IAAIC,EAAsB,GACtBC,EAAkB,GAwBtB,OAtBAJ,EAAWP,SAAQ,SAAAY,GACf,GAAIA,EAAUxC,KAAKyC,SAAS,gBAAiB,CACzC,IAAIC,EAAeC,IAAOC,KAAKJ,EAAW,cAC1CE,EAAaG,aAAeL,EAAUL,WAAWW,KAAI,SAAAN,GAAS,OAAIA,EAAUO,QAC5EL,EAAaL,WAAa,CAAErC,KAAM,YAAa+C,KAAMP,GACrDF,EAAoBU,KAAKN,GACzB,IAAMO,EAAoBf,GAAeM,EAAUL,WAAY,GAAI,CAAEnC,KAAM,YAAa+C,KAAMP,EAAUO,OAAQ,GAChHT,EAAmB,sBAAOA,GAAP,YAA+BW,SAElDX,EAAoBU,KAApB,2BAA8BR,GAA9B,IAAyCH,mBAGjDD,EAAOR,SAAQ,SAAAsB,GACX,GAAIA,EAAMlD,KAAKyC,SAAS,gBAAiB,CACrC,IAAIU,EAAWR,IAAOC,KAAKM,EAAO,cAClCC,EAASN,aAAeK,EAAMf,WAAWW,KAAI,SAAAN,GAAS,OAAIA,EAAUO,QACpER,EAAgBS,KAAKG,GACrB,IAAMF,EAAoBf,GAAegB,EAAMf,WAAY,GAAI,CAAEnC,KAAM,QAAS+C,KAAMG,EAAMH,OAAQ,GACpGT,EAAmB,sBAAOA,GAAP,YAA+BW,QAInD,CAACX,EAAqBC,GAwCjC,SAASa,GAAyBC,EAAaC,EAAOC,GAClD,IAAIC,EAAa,GACjB,GAAIH,IAAgBC,EAAMP,KAEtB,OAAIO,EAAMT,aAAaY,MAAK,SAAAC,GACxB,IAAMC,EAAWP,GAAyBM,EAASJ,EAAOC,GAC1D,QAAiB,OAAbI,IAAqBA,EAASlB,SAAS,SAGvCe,EAAU,sBAAOA,GAAP,YAAsBG,KACzB,MAIJ,KAEAH,EAGX,IAAMhB,EAAYc,EAAMM,KAAKzB,WAAWkB,GACxC,GAAIb,EAAUxC,KAAKyC,SAAS,gBACxB,OAAID,EAAUK,aAAaY,MAAK,SAAAC,GAC5B,IAAMC,EAAWP,GAAyBM,EAASJ,EAAOC,GAC1D,QAAiB,OAAbI,IAAqBA,EAASlB,SAAS,SAGvCe,EAAU,sBAAOA,GAAP,YAAsBG,KACzB,MAIJ,KAEAH,EAER,GAAIhB,EAAUxC,KAAKyC,SAAS,cAAe,CAC9C,IAAIoB,EAAY,eAAQN,GACxB,OAAIrH,OAAOgB,KAAKsF,EAAUsB,YAAYL,MAAK,SAAAM,GACvC,IAAMC,EAAQxB,EAAUsB,WAAWC,GACnC,MAAqB,eAAjBA,GAAiCR,EAAQS,IACzCH,EAAaE,GAAgBR,EAAQS,IAC9B,GACiB,eAAjBD,MAQKT,EAAMM,KAAKxB,OAAOI,EAAUsB,WAAWG,YAC3CpB,aAAaY,MAAK,SAAAC,GAC9B,IAAMC,EAAWP,GAAyBM,EAASJ,EAAOO,GAC1D,QAAiB,OAAbF,IAAqBA,EAASlB,SAAS,SAGvCe,EAAU,sBAAOA,GAAP,YAAsBG,KACzB,MATJ,KAeAH,EAER,MAAuB,+BAAnBhB,EAAUxC,MAA4D,0BAAnBwC,EAAUxC,KAC9D,GAAN,mBAAWwD,GAAX,CAAuBhB,IACG,4BAAnBA,EAAUxC,KACbuD,EAAQf,EAAUsB,WAAWI,YACvB,GAAN,mBAAWV,GAAX,4BAA4BhB,GAA5B,IAAuCsB,WAAW,2BAAMtB,EAAUsB,YAAjB,IAA6BI,WAAYX,EAAQf,EAAUsB,WAAWI,kBAEhH,KAEJ1B,EAAUxC,KAAKyC,SAAS,qBAC3Bc,EAAQf,EAAUsB,WAAWK,cACvB,GAAN,mBAAWX,GAAX,4BAA4BhB,GAA5B,IAAuCsB,WAAW,2BAAMtB,EAAUsB,YAAjB,IAA6BK,aAAcZ,EAAQf,EAAUsB,WAAWK,oBAElH,KAEe,oCAAnB3B,EAAUxC,KACbwC,EAAUsB,WAAWM,iBAAmBb,EAAQf,EAAUsB,WAAWM,iBAC/D,GAAN,mBAAWZ,GAAX,4BAA4BhB,GAA5B,IAAuCsB,WAAW,2BAAMtB,EAAUsB,YAAjB,IAA6BM,gBAAiBb,EAAQf,EAAUsB,WAAWM,uBAErH,KAEe,mCAAnB5B,EAAUxC,MACbuD,EAAQf,EAAUsB,WAAWO,eACvB,GAAN,mBAAWb,GAAX,4BAA4BhB,GAA5B,IAAuCsB,WAAW,2BAAMtB,EAAUsB,YAAjB,IAA6BO,cAAed,EAAQf,EAAUsB,WAAWO,qBAM/H,KAGJ,SAASC,GAAoBjB,EAAaC,GAC7C,IAAIC,EAAO,+DACJD,EAAMM,KAAKW,cACXjB,EAAMM,KAAKY,WACXlB,EAAMM,KAAKa,WACXnB,EAAMM,KAAKc,YACXpB,EAAMM,KAAKe,SAQlB,OANAzI,OAAOyF,OAAO2B,EAAMM,KAAKgB,cAAchD,SAAQ,SAAAiD,GAC3CtB,EAAQsB,EAAW9B,MA9I3B,SAA8B8B,EAAYtB,GACtC,IAAIC,EAAa,CAAET,KAAM8B,EAAW9B,KAAM+B,SAAU,GAAIC,MAAO,MAC/D,OAAKF,EAAWG,qBAAwBH,EAAWI,mBAAsBJ,EAAWE,OAIpFvB,EAAWsB,SAAS9B,KAAKO,EAAQsB,EAAWG,sBAC5CH,EAAWK,eAAetD,SAAQ,SAAAuD,GAC9B3B,EAAWsB,SAAS9B,KAAKO,EAAQ4B,OAErC3B,EAAWsB,SAAS9B,KAAKO,EAAQsB,EAAWI,oBAC5CzB,EAAWuB,MAAQF,EAAWE,MACvBvB,IATH4B,QAAQC,IAAI,mBACL,MA0IoBC,CAAqBT,EAAYtB,MAEhErH,OAAOyF,OAAO2B,EAAMM,KAAK2B,UAAU3D,SAAQ,SAAA4D,GACvCjC,EAAQiC,EAAQzC,MAlIjB,SAA2ByC,EAASjC,GACvC,IAAIC,EAAU,2BAAOgC,GAAP,IAAeC,UAAU,GAAGC,WAAW,KAkBrD,OAjBAxJ,OAAOgB,KAAKsI,EAAQG,QAAQ/D,SAAQ,SAAAgE,GAChC,IAAMC,EAAYtC,EAAQqC,GAC1BJ,EAAQG,OAAOC,GAAWhE,SAAQ,SAAA8D,GAC9B,IAAMI,EAASvC,EAAQmC,EAAWK,aAElCvC,EAAWiC,UAAUzC,KAAK,CAACgD,MAAMH,EAAUC,iBAGnD5J,OAAOgB,KAAKsI,EAAQS,SAASrE,SAAQ,SAAAgE,GACjC,IAAMC,EAAYtC,EAAQqC,GAC1BJ,EAAQS,QAAQL,GAAWhE,SAAQ,SAAA8D,GAC/B,IAAMI,EAASvC,EAAQmC,EAAWK,aAElCvC,EAAWkC,WAAW1C,KAAK,CAACgD,MAAMH,EAAUC,SAAOI,YAAY3C,EAAQmC,EAAWS,kBAAkB,YAIrG3C,EA+GqB4C,CAAkBZ,EAASjC,MAEhDH,GAAyBC,EAAaC,EAAOC,GAGxD,IAYM8C,GAAyB,SAACC,GAC5B,IAAMC,EAb6B,SAAC/F,EAAGgG,GAEvC,IADA,IAAIC,EAAU,EACLpK,EAAI,EAAGA,EAAImE,EAAEjE,QACdiK,EAAGhG,EAAEnE,IADiBA,IAEtBoK,EAAUpK,EAKlB,OAAOoK,EAIKC,CAA+BvG,EAAuBwG,KAAK,SAAAC,GAAC,OAAIA,GAAKN,KAC7EO,EAAS,GAiBb,OAhBA3G,EAAe0B,SAAQ,SAAAkF,GACnB,IAAMC,EAAW5G,EAAuB6G,QAAQF,GAAWP,GAC3DM,EAAOC,GAAa,CAChBG,YAAa,CACTzG,EAAGuG,EAAS,GAAG,GACftG,EAAGsG,EAAS,GAAG,GACfrG,EAAGqG,EAAS,GAAG,IAEnBG,SAAU,CACN1G,EAAGuG,EAAS,GAAG,GACftG,EAAGsG,EAAS,GAAG,GACfrG,EAAGqG,EAAS,GAAG,GACfI,EAAGJ,EAAS,GAAG,QAIpBF,GAGEO,GAAsB,SAACC,GAChC,IAAIR,EAAS,GAkBb,OAjBAzB,QAAQC,IAAIgC,EAAKR,QACjBvG,GAAasB,SAAQ,SAAArC,GACjB,IAAMwH,EAAWM,EAAKR,OAAOtH,GAC7BsH,EAAO,aAAatH,GAAS,CACzB0H,YAAa,CACTzG,EAAGuG,EAAS,GAAG,GACftG,EAAGsG,EAAS,GAAG,GACfrG,EAAGqG,EAAS,GAAG,IAEnBG,SAAU,CACN1G,EAAGuG,EAAS,GAAG,GACftG,EAAGsG,EAAS,GAAG,GACfrG,EAAGqG,EAAS,GAAG,GACfI,EAAGJ,EAAS,GAAG,QAIpBF,GAmBLS,GAAqB,SAACf,EAAIxB,GAC5B,IAAI8B,EAAS,GAiBb,OAhBAvG,GAAasB,SAAQ,SAAArC,GACjB,IAAMwH,EAAWhC,EAAM8B,OAAOtH,GAAOgH,GACrCM,EAAO,aAAatH,GAAS,CACzB0H,YAAa,CACTzG,EAAGuG,EAAS,GAAG,GACftG,EAAGsG,EAAS,GAAG,GACfrG,EAAGqG,EAAS,GAAG,IAEnBG,SAAU,CACN1G,EAAGuG,EAAS,GAAG,GACftG,EAAGsG,EAAS,GAAG,GACfrG,EAAGqG,EAAS,GAAG,GACfI,EAAGJ,EAAS,GAAG,QAIpBF,GA0DJ,SAASU,GAA0B/D,EAAYgE,GAClD,IAAIC,EAAQ,CAAC,CAAEC,KAAM,EAAGC,IAAKH,IACzBI,EAAoB,GACpBC,GAAY,EACZC,EAAc,EAEdC,EAAqB,GACrBC,EAAqB,KAsFzB,OArFAxE,EAAW5B,SAAQ,SAAAqG,GACf,IAAIC,EAAUvF,IAAOwF,UAAUV,EAAMA,EAAMlL,OAAS,IAChD6L,EAAW,EACf,IAAKP,EACD,GAAmB,4BAAfI,EAAMjI,KAAoC,CAC1C,IAAMqI,EAAQJ,EAAMnE,WAAWtC,SARxB,GASD8G,EAAYD,GAAS,EAAI,GAAK,EACpCD,EAAW,IAAOG,KAAKC,IAAIH,GAASJ,EAAMnE,WAAW2E,MAHX,oBAInBrI,GAAM,EAAEgI,EAAS,MAJE,IAI1C,2BAA8C,CAAC,IAAtCM,EAAqC,QACpCC,EAAmBV,EAAMnE,WAAW2E,MAAQC,EAAaJ,EAC/DJ,EAAQP,IAAR,2BAAkBO,EAAQP,KAAOtB,GAAuBsC,IACxDT,EAAQR,KAAOI,EAAYY,EAC3BjB,EAAMzE,KAAKkF,GACXA,EAAUvF,IAAOwF,UAAUV,EAAMA,EAAMlL,OAAS,KATV,+BAWvB,IAAf+L,GACAP,EAAmBnG,SAAQ,SAAAsE,GACvB,MAhFP,SAAC0C,EAAMC,GACpB,IAAMC,EAAsBP,KAAKQ,KAC7BR,KAAKS,IAAIJ,EAAMpH,SAAShB,EAAEqI,EAAMrH,SAAShB,EAAE,GAC3C+H,KAAKS,IAAIJ,EAAMpH,SAASf,EAAEoI,EAAMrH,SAASf,EAAE,GAC3C8H,KAAKS,IAAIJ,EAAMpH,SAASd,EAAEmI,EAAMrH,SAASd,EAAE,IAEzCuI,EAAQC,sBAAWN,EAAMO,WAAW3I,EAAEoI,EAAMO,WAAW1I,EAAEmI,EAAMO,WAAWzI,EAAEkI,EAAMO,WAAWhC,GAC7FiC,EAAQF,sBAAWL,EAAMM,WAAW3I,EAAEqI,EAAMM,WAAW1I,EAAEoI,EAAMM,WAAWzI,EAAEmI,EAAMM,WAAWhC,GACnG,MAAO,CAACb,SAASwC,EAAqBO,MAAMJ,EAAMK,QAAQF,IAwEZG,CAASrB,EAAQhC,GAAagC,EAAO,iBAAxD5B,EAAP,EAAOA,SAAU+C,EAAjB,EAAiBA,MACb/C,EAAW,KAAQ+C,EAAQ,MAC3BrB,EAAqB9B,MAIf,IAAdoC,GAAmBN,IACnBA,EAAqB,WAEtB,GAAmB,0BAAfC,EAAMjI,KACboI,EAAuC,IAA5BH,EAAMnE,WAAWsE,SAC5BX,EAAMzE,KAAN,2BAAgBkF,GAAhB,IAAyBR,KAAMI,EAAcM,UAC1C,GAAmB,+BAAfH,EAAMjI,KACb6H,GAAY,OACT,GAAmB,yDAAfI,EAAMjI,WAEV,GAAmB,oDAAfiI,EAAMjI,KACb4H,EAAkBK,EAAMnE,WAAWK,aAAapB,MAAQkF,EAAMnE,WAAWK,aAAaqF,kBACnF,GAAmB,mDAAfvB,EAAMjI,KAA2D,CACxDiI,EAAMnE,WAAWK,aACzBuB,WAAW9D,SAAQ,SAAA6H,GAzInB,IAAC3D,EA0ILoC,EAAQP,IAAI8B,EAAUvD,YAAYnD,MAzI3C,CACHkE,YAAa,CACTzG,GAHasF,EA0IqD2D,EAAU3D,QAvIlE4D,gBAAgBlJ,EAC1BC,EAAGqF,EAAO4D,gBAAgBjJ,EAC1BC,EAAGoF,EAAO4D,gBAAgBhJ,GAE9BwG,SAAU,CACN1G,EAAGsF,EAAO6D,mBAAmBnJ,EAC7BC,EAAGqF,EAAO6D,mBAAmBlJ,EAC7BC,EAAGoF,EAAO6D,mBAAmBjJ,EAC7ByG,EAAGrB,EAAO6D,mBAAmBxC,IAgIhBY,EAAmBtF,SAASgH,EAAUvD,YAAYnD,OACnDgF,EAAmB/E,KAAKyG,EAAUvD,YAAYnD,cAGnD,GAAmB,mDAAfkF,EAAMjI,KACT4H,EAAkBK,EAAMnE,WAAWK,aAAapB,QAChDqF,EAAWR,EAAkBK,EAAMnE,WAAWK,aAAapB,OAE/D0E,EAAMzE,KAAKkF,QACR,GAAmB,oCAAfD,EAAMjI,KAA4C,CAEzD,GADAoI,EAA6D,IAAlDH,EAAMnE,WAAWM,gBAAgBW,MAAMqD,SAC9CH,EACJ,IAAK,IAAI5L,EAAI,EAAGA,EAAI4L,EAAMnE,WAAWM,gBAAgBW,MAAM6E,UAAUrN,OAAO,EAAGF,IAC3E6L,EAAQP,IAAR,2BAAkBO,EAAQP,KAAOL,GAAmBjL,EAAE4L,EAAMnE,WAAWM,gBAAgBW,QACnFiD,IAEAE,EAAQP,IAAIK,GAAsBE,EAAQP,IAAIkC,iBAElD3B,EAAQR,KAAOI,EAAgE,IAApDG,EAAMnE,WAAWM,gBAAgBW,MAAM6E,UAAUvN,GAC5EoL,EAAMzE,KAAKkF,GACXA,EAAUvF,IAAOwF,UAAUV,EAAMA,EAAMlL,OAAS,IAEhD0L,EAAMnE,WAAWM,gBAAgBW,MAAM+E,aACvCjC,GAAY,OAEM,mCAAfI,EAAMjI,OACboI,EAAW,IACXF,EAAQR,KAAOQ,EAAQR,KAAO,IAC9BQ,EAAQP,IAAR,2BAAkBO,EAAQP,KAAOP,GAAoBa,EAAMnE,WAAWO,gBAClE2D,IAEAE,EAAQP,IAAIK,GAAsBE,EAAQP,IAAIkC,iBAElDpC,EAAMzE,KAAKkF,GACXA,EAAUvF,IAAOwF,UAAUV,EAAMA,EAAMlL,OAAS,KAGxDuL,GAAeM,EACfR,EAAoBmC,GAAUnC,GAAmB,SAAAoC,GAC7C,OAAIA,EAAM5B,EAAW,EACV,EAEA4B,EAAM5B,QArIF,SAACX,GACxB,GAAqB,IAAjBA,EAAMlL,OACN,MAAO,GAEX,IAAI0N,EAAkBF,GAAUtC,EAAM,GAAGE,KAAI,SAAAuC,GAAC,MAAG,CACzCjD,YAAY,CAACzG,EAAE,GAAGC,EAAE,GAAGC,EAAE,IACzBwG,SAAS,CAACC,EAAE,GAAG3G,EAAE,GAAGC,EAAE,GAAGC,EAAE,QAG7ByJ,EAAUjO,OAAOgB,KAAK+M,GAC5B7E,QAAQC,IAAI8E,GACZ,IAAIC,EAAY3C,EAAM3E,KAAI,SAAAxB,GAAI,OAAEA,EAAKoG,QA8BrC,OA7BAD,EAAM7F,SAAQ,SAAAN,GACV6I,EAAQvI,SAAQ,SAAAyI,GACZJ,EAAgBI,GAAQpD,YAAYzG,EAAEwC,KAAK1B,EAAKqG,IAAI0C,GAAQpD,YAAYzG,GACxEyJ,EAAgBI,GAAQpD,YAAYxG,EAAEuC,KAAK1B,EAAKqG,IAAI0C,GAAQpD,YAAYxG,GACxEwJ,EAAgBI,GAAQpD,YAAYvG,EAAEsC,KAAK1B,EAAKqG,IAAI0C,GAAQpD,YAAYvG,GACxEuJ,EAAgBI,GAAQnD,SAASC,EAAEnE,KAAK1B,EAAKqG,IAAI0C,GAAQnD,SAASC,GAClE8C,EAAgBI,GAAQnD,SAAS1G,EAAEwC,KAAK1B,EAAKqG,IAAI0C,GAAQnD,SAAS1G,GAClEyJ,EAAgBI,GAAQnD,SAASzG,EAAEuC,KAAK1B,EAAKqG,IAAI0C,GAAQnD,SAASzG,GAClEwJ,EAAgBI,GAAQnD,SAASxG,EAAEsC,KAAK1B,EAAKqG,IAAI0C,GAAQnD,SAASxG,SAItDqJ,GAAUE,GAAgB,SAAAK,GAAE,MAAG,CAC/CrD,YAAY,CACRzG,EAAG+J,GAAkBH,EAAWE,EAAGrD,YAAYzG,GAC/CC,EAAG8J,GAAkBH,EAAWE,EAAGrD,YAAYxG,GAC/CC,EAAG6J,GAAkBH,EAAWE,EAAGrD,YAAYvG,IAEnDwG,SAAS,CACLC,EAAGoD,GAAkBH,EAAWE,EAAGpD,SAASC,GAC5C3G,EAAG+J,GAAkBH,EAAWE,EAAGpD,SAAS1G,GAC5CC,EAAG8J,GAAkBH,EAAWE,EAAGpD,SAASzG,GAC5CC,EAAG6J,GAAkBH,EAAWE,EAAGpD,SAASxG,QAuG7C8J,CAAmB/C,GAK9B,SAAS8C,GAAkB/J,EAAGC,GAE1B,GAAID,EAAEjE,QAAU,EACZ,OAAO,KAcX,OAZe,SAACqK,GAGZ,IAFA,IAAMoD,EAAMpD,EAAIpG,EAAEA,EAAEjE,OAAS,GAAKqK,EAAIpG,EAAIoG,EACtCH,EAAU,EACLpK,EAAI,EAAGA,EAAImE,EAAEjE,QACdiE,EAAEnE,IAAM2N,EADc3N,IAEtBoK,EAAUpK,EAKlB,OAAOoE,EAAEgG,IAKV,SAASsD,GAAUU,EAAQC,GAC9B,OAAOxO,OAAOgB,KAAKuN,GAAQE,QAAO,SAAUC,EAAQnO,GAEhD,OADAmO,EAAOnO,GAAOiO,EAAMD,EAAOhO,GAAMA,GAC1BmO,IACR,IAGA,SAASC,GAAUC,EAAKC,EAAWC,GACtC,KAAOD,EAAY,GACfA,GAAaD,EAAIvO,OAErB,KAAOyO,EAAY,GACfA,GAAaF,EAAIvO,OAErB,GAAIyO,GAAaF,EAAIvO,OAEjB,IADA,IAAI0O,EAAID,EAAYF,EAAIvO,OAAS,EAC1B0O,KACHH,EAAI9H,UAAKkI,GAIjB,OADAJ,EAAIK,OAAOH,EAAW,EAAGF,EAAIK,OAAOJ,EAAW,GAAG,IAC3CD,EAGJ,SAASM,GAA2BjJ,EAAYkJ,GACnD,IAAIC,EAAwB,GAQ5B,OAPAD,EAAIzJ,SAAQ,SAAAlD,GACR,IAAIgE,EAAeC,IAAOC,KAAKT,EAAWzD,GAAK,gBAC3CgE,EAAa1C,KAAKyC,SAAS,kBAC3BC,EAAaP,WAAaiJ,GAA2BjJ,EAAYA,EAAWzD,GAAImE,eAEpFyI,EAAsBtI,KAAKN,MAExB4I,EAGJ,SAASC,GAAuBnJ,EAAQD,GAC3C,IAAIqJ,EAAsBtP,OAAOyF,OAAOS,GACpCqJ,EAAoB,GAMxB,OALAD,EAAoB5J,SAAQ,SAAAsB,GACxB,IAAIC,EAAWR,IAAOC,KAAKM,EAAO,gBAClCC,EAAShB,WAAaiJ,GAA2BjJ,EAAYe,EAAML,cACnE4I,EAAkBzI,KAAKG,MAEpBsI,EAGJ,SAASC,GAAYrE,EAAM9H,EAAOoM,GACrC,IAAI/L,EAAQ,CAAEgB,EAAG,IAAKC,EAAG,IAAKC,EAAG,IAAKC,EAAG4K,EAAU,EAAI,GAUvD,MATc,WAAVpM,GAngBmB,SAAC,GAAiB,IAAfiB,EAAc,EAAdA,EAAGC,EAAW,EAAXA,EAAGC,EAAQ,EAARA,EAChC,OAAIH,GAAoBG,EAAwB,GAApBH,GAA0BG,GAAKH,GAAoBG,EAAwB,GAApBH,GAA0BG,GAClG6H,KAAKS,IAAIxI,EAAID,GAAoBC,EAAG,GAAK+H,KAAKS,IAAIvI,EAAIF,GAAoBE,EAAG,GAAK8H,KAAKS,IAAIzI,GAAmB,GAigB/FqL,CAAYvE,EAAK7F,WACvC5B,EAAMgB,EAAI,IACVhB,EAAMiB,EAAI,GACVjB,EAAMkB,EAAI,KACO,gBAAVvB,GAA4B8H,EAAKwE,YACxCjM,EAAMgB,EAAI,IACVhB,EAAMiB,EAAI,GACVjB,EAAMkB,EAAI,IAEPlB,EAmBJ,SAASkM,GAAiBzE,EAAM9H,GACnC,IAAIwM,EAAc1E,EAClB,MAAO,CACH,CACItE,KAAK,GAAD,OAAKgJ,EAAYhJ,KAAjB,QACJxD,MAAO,QACPyM,KAAM3E,EAAK2E,KACXC,MAAOF,EAAY/L,KAAKyC,SAAS,YAAc,OAAS,MACxDjB,SAAUuK,EAAYvK,SACtB0F,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCwL,MAAO,CAAE1L,GAAI,IAAMC,EAAG,IAAMC,EAAG,KAC/ByL,aAAa,EACbC,UAAU,EACVxM,MAAO8L,GAAYK,EAAaxM,GAAO,IAE3C,CACIwD,KAAK,GAAD,OAAKgJ,EAAYhJ,KAAjB,YACJxD,MAAO,QACP0M,MAAOF,EAAY/L,KAAKyC,SAAS,YAAc,0CAA4C,8CAC3FjB,SAAUuK,EAAYvK,SACtB0F,SAAU6E,EAAYM,YACtBH,MAAO,CAAE1L,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACxByL,aAAa,EACbC,UAAU,EACVxM,MAAO8L,GAAYK,EAAaxM,GAAO,KAqE5C,ICl0BD+M,GAAe,CACjBC,iBAAiB,CACbP,KAAK,qBACLQ,QCRiC,SAACtC,GAGtC,MAAO,CAFM,GAEG,KDMZuC,aAAa,CAAC,iBAGlBC,YAAY,CACRV,KAAK,eACLQ,QCI4B,SAACtC,GAGjC,MAAO,CAFM,GAEG,KDNZuC,aAAa,IAEjBE,WAAW,CACPX,KAAK,aACLQ,QCb2B,SAACtC,GAGhC,MAAO,CAFM,GAEG,KDWZuC,aAAa,IAEjBG,UAAU,CACNZ,KAAK,YACLQ,QCZ2B,SAACtC,GAGhC,MAAO,CAFM,GAEG,KDUZuC,aAAa,CAAC,eAElBI,cAAc,CACVb,KAAK,iBACLQ,QCL+B,SAAC,GAAwB,IAAvBM,EAAsB,EAAtBA,QAAQC,EAAc,EAAdA,SACzCC,EAAS,GAwCb,OAtCA9Q,OAAOyF,OAAOoL,GAAUnL,SAAQ,SAAAY,GAG5B,GADA4C,QAAQC,IAAI7C,EAAUxC,MACC,4BAAnBwC,EAAUxC,MAAwE,aAAlCwC,EAAUsB,WAAWmJ,SAAwB,CAC7F,IAAMC,EAAY1K,EAAUsB,WAAWI,WAAWnB,KAClDqC,QAAQC,IAAI6H,EAAY,SACxBhR,OAAOyF,OAAOmL,EAAQlJ,KAAKW,cAAc3C,SAAQ,SAAAsE,GAE7C,GADAd,QAAQC,IAAIa,EAAYnD,MACpBmD,EAAYnD,OAASmK,EAAU,CACjC,IAAMC,EAAgBjH,EAAYkH,aAAaC,gBAC/CjI,QAAQC,IAAI,QACZnJ,OAAOyF,OAAOmL,EAAQlJ,KAAKc,YAAY9C,SAAQ,SAAAgE,GAE3C,GADFR,QAAQC,IAAIO,EAAU7C,KAAO,MAAQoK,GAChCvH,EAAU7C,OAASoK,IAAuC,IAAtBvH,EAAU0H,QAAkB,CAEjE,IAAMvK,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACfA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,4BACN6P,YAAY,4CACZC,UAAU,EACVC,MAAO,CAAC3K,KAAKP,EAAUO,KAAM/C,KAAK,aAClC2N,UAAW,WAGTvI,QAAQC,IAAI,oBAY3B,CAAC2H,EAAQ,KDnCZP,aAAa,CAAC,qBAGlBmB,cAAc,CACV5B,KAAK,iBACLQ,QElC8B,SAAC,GAAe,IAAdM,EAAa,EAAbA,QAChCE,EAAS,GAmBb,OAjBA9Q,OAAOyF,OAAOmL,EAAQlJ,KAAKzB,YAAYP,SAAQ,SAAAY,GAC3C,GAAuB,oCAAnBA,EAAUxC,MACmC,OAAzCwC,EAAUsB,WAAWM,gBAA0B,CAC/C,IAAMrB,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,2BACN6P,YAAY,+DACZC,UAAU,EACVC,MAAO,CAAC3K,KAAKP,EAAUO,KAAM/C,KAAK,aAClC2N,UAAW,UAMpB,CAACX,EAAQ,KFeZP,aAAa,IAEjBoB,kBAAkB,CACd7B,KAAK,qBACLQ,QEhBkC,SAAC,GAAe,IAAdM,EAAa,EAAbA,QACpCE,EAAS,GA2Cb,OAzCA9Q,OAAOyF,OAAOmL,EAAQlJ,KAAKzB,YAAYP,SAAQ,SAAAY,GAE3CtG,OAAOgB,KAAKsF,EAAUsB,YAAYlC,SAAQ,SAAAkM,GACtC,GAAsB,eAAlBA,GAAsE,OAApCtL,EAAUsB,WAAWI,WAAqB,CAC5E,IAAMnB,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,oCACN6P,YAAY,oFACZC,UAAU,EACVC,MAAO,CAAC3K,KAAKP,EAAUO,KAAM/C,KAAK,aAClC2N,UAAW,MAGnB,GAAsB,iBAAlBG,GAA0E,OAAtCtL,EAAUsB,WAAWK,aAAuB,CAChF,IAAMpB,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,sCACN6P,YAAY,sFACZC,UAAU,EACVC,MAAO,CAAC3K,KAAKP,EAAUO,KAAM/C,KAAK,aAClC2N,UAAW,MAGnB,GAAsB,kBAAlBG,GAA4E,OAAvCtL,EAAUsB,WAAWO,cAAwB,CAClF,IAAMtB,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,uCACN6P,YAAY,uFACZC,UAAU,EACVC,MAAO,CAAC3K,KAAKP,EAAUO,KAAM/C,KAAK,aAClC2N,UAAW,aAKpB,CAACX,EAAQ,KF3BZP,aAAa,IAEjBsB,aAAa,CACT/B,KAAK,gBACLQ,QE0B6B,SAAC,GAAe,IAAdM,EAAa,EAAbA,QAK/BE,EAAS,GACPgB,EAAY9R,OAAOgB,KAAK4P,EAAQlJ,KAAKxB,QACvC6L,EAAa,GAqBjB,OApBA/R,OAAOyF,OAAOmL,EAAQlJ,KAAKzB,YAAY+L,QAAO,SAAA1L,GAAS,MAAmB,+BAAjBA,EAAUxC,QAAqC4B,SAAQ,SAAAY,GACxGA,EAAUsB,WAAWG,YACrBgK,EAAWjL,KAAKR,EAAUsB,WAAWG,eAIxB+J,EAAUE,QAAO,SAAAhL,GAAK,OAAE+K,EAAW9Q,QAAQ+F,GAAO,KAC1DtB,SAAQ,SAAAqC,GACjB,IAAMf,EAAQ4J,EAAQlJ,KAAKxB,OAAO6B,GAC5BlB,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,iBAAD,OAAmBuF,EAAM8I,KAAzB,KACLwB,YAAY,8EACZC,UAAU,EACVC,MAAO,CAAC3K,KAAKkB,EAAYjE,KAAK,SAC9B2N,UAAW,SAGZ,CAACX,EAAQ,KFrDZP,aAAa,IAEjB0B,eAAe,CACXnC,KAAK,kBACLQ,QEoD+B,SAAC,GAAe,IAAdM,EAAa,EAAbA,QAKjCE,EAAS,GACPoB,EAAelS,OAAOgB,KAAK4P,EAAQlJ,KAAKY,WACxC6J,EAAenS,OAAOgB,KAAK4P,EAAQlJ,KAAKa,WACxC6J,EAAcpS,OAAOgB,KAAK4P,EAAQlJ,KAAK2B,UACvCgJ,EAAuBrS,OAAOgB,KAAK4P,EAAQlJ,KAAKW,cAElDiK,EAAgB,GAChBC,EAAgB,GAChBC,EAAe,GACfC,EAAwB,GAG5BzS,OAAOyF,OAAOmL,EAAQlJ,KAAKzB,YAAYP,SAAQ,SAAAY,GACpB,+BAAnBA,EAAUxC,KAEV9D,OAAOgB,KAAKsF,EAAUsB,YAAYlC,SAAQ,SAAAgN,GACrB,kBAAbA,GAAuE,OAAvCpM,EAAUsB,WAAWO,cACrDmK,EAAcxL,KAAKR,EAAUsB,WAAWO,eACpB,kBAAbuK,GAAuE,OAAvCpM,EAAUsB,WAAWqB,cAC5DsJ,EAAczL,KAAKR,EAAUsB,WAAWqB,eACpB,iBAAbyJ,GAAqE,OAAtCpM,EAAUsB,WAAWK,aAC3DuK,EAAa1L,KAAKR,EAAUsB,WAAWK,cACnB,eAAbyK,GAAiE,OAApCpM,EAAUsB,WAAWI,YACzDyK,EAAsB3L,KAAKR,EAAUsB,WAAWI,eAKtC4I,EAAQlJ,KAAKxB,OAAOI,EAAUsB,WAAWG,YACjD3H,UAAUsF,SAAQ,SAAAiN,GACxB,IAAMC,EAAYD,EAASE,cACa,OAApCvM,EAAUsB,WAAWgL,KACW,kBAA5BD,EAASG,eACTN,EAAa1L,KAAKR,EAAUsB,WAAWgL,IACJ,iCAA5BD,EAASG,eAChBR,EAAcxL,KAAKR,EAAUsB,WAAWgL,IACL,wBAA5BD,EAASG,eAChBP,EAAczL,KAAKR,EAAUsB,WAAWgL,IACL,qBAA5BD,EAASG,gBAChBL,EAAsB3L,KAAKR,EAAUsB,WAAWgL,WAQpE5S,OAAOyF,OAAOmL,EAAQlJ,KAAKgB,cAAchD,SAAQ,SAAAiD,GACzCA,EAAWG,qBACXwJ,EAAcxL,KAAK6B,EAAWG,qBAE9BH,EAAWI,mBACXuJ,EAAcxL,KAAK6B,EAAWI,mBAElCJ,EAAWK,eAAetD,SAAQ,SAAAuD,GAAa,OAAEsJ,EAAczL,KAAKmC,SAGxE,IAAM8J,EAAkBb,EAAaF,QAAO,SAAAnL,GAAI,OAAEyL,EAAcrR,QAAQ4F,GAAM,KACxEmM,EAAkBb,EAAaH,QAAO,SAAAnL,GAAI,OAAE0L,EAActR,QAAQ4F,GAAM,KACxEoM,EAAiBb,EAAYJ,QAAO,SAAAnL,GAAI,OAAE2L,EAAavR,QAAQ4F,GAAM,KACrEqM,EAA0Bb,EAAqBL,QAAO,SAAAnL,GAAI,OAAE4L,EAAsBxR,QAAQ4F,GAAM,KAwDtG,OAtDAkM,EAAgBrN,SAAQ,SAAAyN,GACpB,IAAMC,EAAWxC,EAAQlJ,KAAKY,UAAU6K,GAClCtM,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,oBAAD,OAAsB2R,EAAStD,KAA/B,KACLwB,YAAY,iFACZC,UAAU,EACVC,MAAO,CAAC3K,KAAKsM,EAAqBrP,KAAK,YACvC2N,UAAW,SAGnBuB,EAAgBtN,SAAQ,SAAAyN,GACpB,IAAME,EAAWzC,EAAQlJ,KAAKa,UAAU4K,GAClCtM,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,oBAAD,OAAsB4R,EAASvD,KAA/B,KACLwB,YAAY,iFACZC,UAAU,EACVC,MAAO,CAAC3K,KAAKsM,EAAqBrP,KAAK,YACvC2N,UAAW,SAGnBwB,EAAevN,SAAQ,SAAAyN,GACnB,IAAM7J,EAAUsH,EAAQlJ,KAAK2B,SAAS8J,GAChCtM,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,mBAAD,OAAqB6H,EAAQwG,KAA7B,KACLwB,YAAY,gFACZC,UAAU,EACVC,MAAO,CAAC3K,KAAKsM,EAAqBrP,KAAK,WACvC2N,UAAW,SAGnByB,EAAwBxN,SAAQ,SAAAyN,GAC5B,IAAMnJ,EAAc4G,EAAQlJ,KAAKW,aAAa8K,GACxCtM,EAAOhD,EAAa,SAE1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,iBAAD,OAAmBuI,EAAYkH,aAAapB,KAA5C,KACLwB,YAAY,8EACZC,UAAU,EACVC,MAAO,CAAC3K,KAAKsM,EAAqBrP,KAAK,SACvC2N,UAAW,SAIZ,CAACX,EAAQ,KF5KZP,aAAa,IAEjB+C,YAAY,CACRxD,KAAK,eACLQ,QE2K4B,SAAC,GAAe,IAAdM,EAAa,EAAbA,QAC9BE,EAAS,GAgCb,GA9BA9Q,OAAOyF,OAAOmL,EAAQlJ,KAAKxB,QAAQR,SAAQ,SAAAsB,GACvC,GAAkC,IAA9BA,EAAML,aAAatG,OAAc,CACjC,IAAMwG,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,gBAAD,OAAkBuF,EAAM8I,MAC7BwB,YAAY,+CACZC,UAAU,EACVC,MAAO,CAAC3K,KAAKG,EAAMH,KAAM/C,KAAK,SAC9B2N,UAAW,UAKvBzR,OAAOyF,OAAOmL,EAAQlJ,KAAKzB,YAAYP,SAAQ,SAAAY,GAC3C,GAAIA,EAAUxC,KAAKyC,SAAS,iBAAqD,IAAlCD,EAAUK,aAAatG,OAAc,CAChF,IAAMwG,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,4BACN6P,YAAY,sEACZC,UAAU,EACVC,MAAO,CAAC3K,KAAKP,EAAUO,KAAM/C,KAAK,aAClC2N,UAAW,UAKa,IAAhCb,EAAQjK,aAAatG,OAAc,CACnC,IAAMwG,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,mBACN6P,YAAY,iFACZC,UAAU,EACVC,MAAO,CAAC3K,KAAK+J,EAAQ/J,KAAM/C,KAAK,WAChC2N,UAAW,MAInB,MAAO,CAACX,EAAQ,KFxNZP,aAAa,IAEjBgD,aAAa,CACTzD,KAAK,eACLQ,QG3D8B,SAAC,GAAe,IAAdM,EAAa,EAAbA,QAChCE,EAAS,GACT0C,EAAY,GA8GhB,OA5GAxT,OAAOyF,OAAOmL,EAAQlJ,KAAKgB,cAAchD,SAAQ,SAAAiD,GAE7C,GAAIA,EAAWG,oBAAqB,CAChC,IAAM2K,EAAgB7C,EAAQlJ,KAAKY,UAAUK,EAAWG,qBACxD,IAAK2K,EAAcC,OAAO/D,WAAa6D,EAAUvS,QAAQ0H,EAAWG,qBAAuB,EAAG,CAC1F0K,EAAU1M,KAAK6B,EAAWG,qBAC1B,IAAMjC,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,aAAD,OAAegS,EAAc3D,KAA7B,mBACLwB,YAAY,aAAD,OAAemC,EAAc3D,KAA7B,gEACXyB,UAAU,EACVC,MAAO,CAAC3K,KAAK8B,EAAWG,oBAAqBhF,KAAK,YAClD2N,UAAW,OAKvB,GAAI9I,EAAWI,kBAAmB,CAC9B,IAAM4K,EAAc/C,EAAQlJ,KAAKY,UAAUK,EAAWI,mBACtD,IAAK4K,EAAYD,OAAO/D,WAAa6D,EAAUvS,QAAQ0H,EAAWI,mBAAqB,EAAG,CACtFyK,EAAU1M,KAAK6B,EAAWI,mBAC1B,IAAMlC,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,aAAD,OAAekS,EAAY7D,KAA3B,mBACLwB,YAAY,aAAD,OAAeqC,EAAY7D,KAA3B,gEACXyB,UAAU,EACVC,MAAO,CAAC3K,KAAK8B,EAAWI,kBAAmBjF,KAAK,YAChD2N,UAAW,OAKvB9I,EAAWK,eAAetD,SAAQ,SAAAuD,GAC9B,IAAMoK,EAAWzC,EAAQlJ,KAAKa,UAAUU,GACxC,IAAKoK,EAASK,OAAO/D,WAAa6D,EAAUvS,QAAQgI,GAAiB,EAAG,CACpEuK,EAAU1M,KAAKmC,GACf,IAAMpC,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,aAAD,OAAe4R,EAASvD,KAAxB,mBACLwB,YAAY,aAAD,OAAe+B,EAASvD,KAAxB,gEACXyB,UAAU,EACVC,MAAO,CAAC3K,KAAKoC,EAAenF,KAAK,YACjC2N,UAAW,aAO3BzR,OAAOyF,OAAOmL,EAAQlJ,KAAKzB,YAAYP,SAAQ,SAAAY,GACpB,+BAAnBA,EAAUxC,MACV9D,OAAOgB,KAAKsF,EAAUsB,YAAYoK,QAAO,SAAAzR,GAAG,OAAEA,EAAIgG,SAAS,eAAab,SAAQ,SAAAnF,GAC5E,IAAM4H,EAAgB7B,EAAUsB,WAAWrH,GAE3C,GADA2I,QAAQC,IAAIhB,GACRA,GAAiByI,EAAQlJ,KAAKY,UAAUH,GAAeuL,SAAW9C,EAAQlJ,KAAKY,UAAUH,GAAeuL,OAAO/D,UAAW,CAC1H,IAAM9I,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,2BAAD,OAA6BmP,EAAQlJ,KAAKY,UAAUH,GAAe2H,KAAnE,mBACLwB,YAAY,aAAD,OAAeV,EAAQlJ,KAAKY,UAAUH,GAAe2H,KAArD,sDACXyB,UAAU,EACVC,MAAO,CAAC3K,KAAKsB,EAAerE,KAAK,YACjC2N,UAAW,aAQ/BzR,OAAOyF,OAAOmL,EAAQlJ,KAAKY,WAAW5C,SAAQ,SAAA0N,GAC1C,IAAKA,EAASM,OAAO/D,WAAa6D,EAAUvS,QAAQmS,EAASvM,MAAQ,EAAG,CACpE2M,EAAU1M,KAAKsM,EAASvM,MACxB,IAAMA,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,oBAAD,OAAsB2R,EAAStD,KAA/B,mBACLwB,YAAY,aAAD,OAAe8B,EAAStD,KAAxB,oEACXyB,UAAU,EACVC,MAAO,CAAC3K,KAAKuM,EAASvM,KAAM/C,KAAK,YACjC2N,UAAW,UAKvBzR,OAAOyF,OAAOmL,EAAQlJ,KAAKa,WAAW7C,SAAQ,SAAA2N,GAC1C,IAAKA,EAASK,OAAO/D,WAAa6D,EAAUvS,QAAQoS,EAASxM,MAAQ,EAAG,CACpE2M,EAAU1M,KAAKuM,EAASxM,MACxB,IAAMA,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAM,oBAAD,OAAsB4R,EAASvD,KAA/B,mBACLwB,YAAY,aAAD,OAAe+B,EAASvD,KAAxB,oEACXyB,UAAU,EACVC,MAAO,CAAC3K,KAAKwM,EAASxM,KAAM/C,KAAK,YACjC2N,UAAW,UAIhB,CAACX,EAAQ,KHpDZP,aAAa,IAEjBqD,WAAW,CACP9D,KAAK,cACLQ,QGoD4B,SAAC,GAAe,IAAdM,EAAa,EAAbA,QAC9BE,EAAS,GAEP+C,EAAa,CAAC,qBAAsB,sBAAuB,cAAe,gBAAiB,gBAAiB,iBAC5GC,EAAe,CACjB,mBAAsB,qBACtB,oBAAuB,sBACvB,YAAe,cACf,cAAiB,gBACjB,cAAiB,gBACjB,cAAiB,iBAEfC,EAAkB,CACpB,mBAAsB,CAACC,QAAS,IAAKC,MAAO,GAC5C,oBAAuB,CAACD,QAAS,IAAKC,MAAO,GAC7C,YAAe,CAACD,QAAS,IAAKC,MAAO,GACrC,cAAiB,CAACD,QAAS,IAAKC,MAAO,GACvC,cAAiB,CAACD,QAAS,IAAKC,MAAO,GACvC,cAAiB,CAACD,QAAS,IAAKC,MAAO,IAErCC,EAAgB,CAClB,mBAAsB,UACtB,oBAAuB,UACvB,YAAe,UACf,cAAiB,UACjB,cAAiB,UACjB,cAAiB,WA4ErB,OAtEAlU,OAAOyF,OAAOmL,EAAQlJ,KAAKgB,cAAchD,SAAQ,SAAAiD,GAW7C,IAVA,IAAIwL,EAAkB,GAClBC,EAAiB,GACjBC,EAAW1L,EAAWE,MAAM6E,UAC5B4G,EAAe3L,EAAWE,MAAM0L,WAEhCC,EAAkB7L,EAAWE,MAAM0L,WAAWV,EAAW,IAAIxT,OAE7DoU,GAAmB,EACnBC,EAAmB,GAEdvU,EAAI,EAAGA,EAAI0T,EAAWxT,OAAQF,IACnCgU,EAAgBN,EAAW1T,IAAM,CAAC,GAClCuU,EAAiB5N,MAAK,GAI1B,IAAK,IAAI3G,EAAI,EAAGA,EAAI0T,EAAWxT,OAAQF,IACnC,IAAK,IAAIwU,EAAI,EAAGA,EAAIH,EAAiBG,IAAK,CACtC,IAAIC,EAAUvI,KAAKC,KAAKgI,EAAaT,EAAW1T,IAAIwU,GAAKL,EAAaT,EAAW1T,IAAIwU,EAAE,KAAON,EAASM,GAAKN,EAASM,EAAE,MAElHD,EAAiBvU,IAAMyU,EAAUb,EAAgBF,EAAW1T,IAAI6T,UACjEU,EAAiBvU,IAAK,IAGrBsU,GAAoBG,EAAUb,EAAgBF,EAAW1T,IAAI8T,QAC9DQ,GAAmB,GAGvBN,EAAgBN,EAAW1T,IAAI2G,KAAK8N,GAK5C,IAAK,IAAIzU,EAAI,EAAGA,EAAIqU,EAAiBrU,IAAK,CAEtC,IADA,IAAI0U,EAAiB,CAACvQ,EAAG+H,KAAKyI,MArCpB,IAqC0BT,EAASlU,IArCnC,KAsCDwU,EAAI,EAAGA,EAAId,EAAWxT,OAAQsU,IAC/BD,EAAiBC,KACjBE,EAAef,EAAaD,EAAWc,KAAOR,EAAgBN,EAAWc,IAAIxU,IAGrFiU,EAAetN,KAAK+N,GAIxB,IADA,IAAIE,EAAc,GACT5U,EAAI,EAAGA,EAAI0T,EAAWxT,OAAQF,IAC/BuU,EAAiBvU,IACjB4U,EAAYjO,KAAKoN,EAAcL,EAAW1T,KAIlD,IAAM0G,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,gBAAiBoD,EACjBhT,MAAM,eAAD,OAAiBkH,EAAWmH,KAA5B,oBACLwB,YAAY,qCAAD,OAAuC3I,EAAWmH,KAAlD,kBACXyB,UAAU,EACVC,MAAO,CAAC3K,KAAK8B,EAAW9B,KAAM/C,KAAK,cACnC2N,UAAW,CACPuD,OAAQZ,EACRa,WAAYF,EACZG,WAAY,YACZC,WAAY,WACZ1T,MAAO,IAEX2T,UAAW,CAACjB,gBAAiBA,OAI9B,CAACrD,EAAQ,KHzJZP,aAAa,CAAC,iBAElB8E,iBAAiB,CACbvF,KAAK,qBACLQ,QGyJkC,SAAC,GAAe,IAAdM,EAAa,EAAbA,QACpCE,EAAS,GA8Cb,OAvCA9Q,OAAOyF,OAAOmL,EAAQlJ,KAAKgB,cAAchD,SAAQ,SAAAiD,GAQ7C,IAPA,IAAI2M,EAAwB,GACxBC,EAAuB,GACvBlB,EAAW1L,EAAWE,MAAM6E,UAC5B/C,EAAShC,EAAWE,MAAM8B,OAAO6K,MAEjCf,GAAmB,EAEdtU,EAAI,EAAGA,EAAIwK,EAAOtK,OAAQF,IAAK,CACpC,IAAIyU,EAAUvI,KAAKQ,KAAKR,KAAKS,IAAInC,EAAOxK,GAAG,GAAG,GAAKwK,EAAOxK,EAAE,GAAG,GAAG,GAAI,GAAKkM,KAAKS,IAAInC,EAAOxK,GAAG,GAAG,GAAKwK,EAAOxK,EAAE,GAAG,GAAG,GAAI,GAAKkM,KAAKS,IAAInC,EAAOxK,GAAG,GAAG,GAAKwK,EAAOxK,EAAE,GAAG,GAAG,GAAI,KAAOkU,EAASlU,GAAKkU,EAASlU,EAAE,KAEvMsU,GAAoBG,EAhBd,MAiBPH,GAAmB,GAGvBc,EAAqBzO,KAAK,CAACxC,EAAG+H,KAAKyI,MAjBzB,IAiB+BT,EAASlU,IAjBxC,IAiBqE,wBAAyByU,IACxGU,EAAsBxO,KAAK8N,GAG/B,IAAM/N,EAAOhD,EAAa,SAC1BiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,gBAAiBoD,EACjBhT,MAAM,8BACN6P,YAAY,mDAAD,OAAqD3I,EAAWmH,KAAhE,KACXyB,UAAU,EACVC,MAAO,CAAC3K,KAAK8B,EAAW9B,KAAM/C,KAAK,cACnC2N,UAAW,CACPuD,OAAQO,EACRN,WAAY,CAAC,WACbQ,gBAAiB,EAAC,GAClBP,WAAY,YACZC,WAAY,WACZ1T,MAAO,IAEX2T,UAAW,CAACM,oBAAqBJ,OAIlC,CAACxE,EAAQ,KHvMZP,aAAa,CAAC,iBAElBoF,QAAQ,CACJ7F,KAAK,UACLQ,QGsMyB,SAACtC,GAG9B,MAAO,CAFM,GAEG,KHxMZuC,aAAa,CAAC,kBAElBqF,WAAW,CACP9F,KAAK,cACLQ,QGuM4B,SAACtC,GAKjC,MAAO,CAJM,GAIG,KH3MZuC,aAAa,IAEjBsF,UAAU,CACN/F,KAAK,aACLQ,QInF2B,SAAC,GAAgC,IAA/BM,EAA8B,EAA9BA,QAAmBkF,GAAW,EAArBjF,SAAqB,EAAXiF,OAChDhF,EAAS,GAGTiF,EAAQ1J,KAAK2J,SAGbC,EAAY,GACZ9V,EAAI,EACR,IAAKA,EAAI,EAAGA,EAAI2V,EAAMzV,OAAQF,IACtB2V,EAAM3V,GAAG0V,WACTI,EAAUnP,KAAK,CAACxC,EAAEnE,EAAG0V,UAAUC,EAAM3V,GAAG0V,YAGhDI,EAAUnP,KAAK,CAACxC,EAAEnE,EAAG0V,UAAUE,IAG/B,IAAIlP,EAAOhD,EAAa,SAiBxB,OAhBAiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAO,mBACP6P,YAAa,mBACbC,UAAU,EACVC,MAAO,CAAC3K,KAAK+J,EAAQ/J,KAAM/C,KAAK,WAChC2N,UAAW,CACPuD,OAAQiB,EACRhB,WAAY,CAAC,WACbC,WAAY,oBACZC,WAAY,aACZ1T,MAAO,KAIR,CAACqP,EAAQ,CAAC+E,UAAWE,KJkDxBxF,aAAa,IAEjB2F,SAAS,CACLpG,KAAK,YACLQ,QInD0B,SAAC,GAAgC,IAA/BM,EAA8B,EAA9BA,QAAmBkF,GAAW,EAArBjF,SAAqB,EAAXiF,OAC/ChF,EAAS,GAGTiF,EAAQ1J,KAAK2J,SAGbC,EAAY,GACZ9V,EAAI,EACR,IAAKA,EAAI,EAAGA,EAAI2V,EAAMzV,OAAQF,IACtB2V,EAAM3V,GAAG+V,UACTD,EAAUnP,KAAK,CAACxC,EAAEnE,EAAG+V,SAASJ,EAAM3V,GAAG+V,WAG/CD,EAAUnP,KAAK,CAACxC,EAAEnE,EAAG+V,SAASH,IAI9B,IAAIlP,EAAOhD,EAAa,SAiBxB,OAhBAiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAO,kBACP6P,YAAa,kBACbC,UAAU,EACVC,MAAO,CAAC3K,KAAK+J,EAAQ/J,KAAM/C,KAAK,WAChC2N,UAAW,CACPuD,OAAQiB,EACRhB,WAAY,CAAC,WACbC,WAAY,oBACZC,WAAY,YACZ1T,MAAO,KAIR,CAACqP,EAAQ,CAACoF,SAAUH,KJiBvBxF,aAAa,IAEjB4F,mBAAmB,CACfrG,KAAK,uBACLQ,QIlBoC,SAAC,GAAgC,IAA/BM,EAA8B,EAA9BA,QAAmBkF,GAAW,EAArBjF,SAAqB,EAAXiF,OACzDhF,EAAS,GAGTiF,EAAQ1J,KAAK2J,SAGbC,EAAY,GACZ9V,EAAI,EACR,IAAKA,EAAI,EAAGA,EAAI2V,EAAMzV,OAAQF,IACtB2V,EAAM3V,GAAGiW,KACTH,EAAUnP,KAAK,CAACxC,EAAEnE,EAAGkW,IAAIP,EAAM3V,GAAGiW,MAG1CH,EAAUnP,KAAK,CAACxC,EAAEnE,EAAGkW,IAAIN,IAGzB,IAAIlP,EAAOhD,EAAa,SAiBxB,OAhBAiN,EAAOjK,GAAQ,CACXA,KAAMA,EACNwK,iBAAiB,EACjB5P,MAAO,uBACP6P,YAAa,uBACbC,UAAU,EACVC,MAAO,CAAC3K,KAAK+J,EAAQ/J,KAAM/C,KAAK,WAChC2N,UAAW,CACPuD,OAAQiB,EACRhB,WAAY,CAAC,WACbC,WAAY,oBACZC,WAAY,MACZ1T,MAAO,KAIR,CAACqP,EAAQ,CAACsF,IAAKL,KJflBxF,aAAa,CAAC,YAAY,cK7FrB+F,GAAW,SAACC,EAAKC,GAAN,MAAe,CACrC1G,KAAM,uBACNjJ,KAAM,UACN/C,KAAM,uCACNwN,YAAa,8BACb7O,UAAW,CAAE6B,EAAG,GAAIC,EAAG,IACvBmD,KAAM,CAEJ+O,WAAY,GACZlR,eAAgB,GAChBmR,gBAAiB,GACjBlG,YAAa,GACbmG,aAAc,GACdrO,UAAW,GACXI,aAAc,GACdH,UAAW,GACXc,SAAU,GACVb,WAAY,GACZH,aAAc,GACdI,QAAS,GACTxC,WAAY,GAGZC,OAAQ,IAEVS,aAAc,GAEdiQ,WAAY,SAAChG,GACX4F,IAAMK,QAAQjG,EAAQd,MACtB0G,IAAMM,QAAQlG,EAAQ/J,MACtB2P,IAAMO,QAAQnG,EAAQ9M,MACtB0S,IAAMQ,eAAepG,EAAQU,aAE7BV,EAAQqG,YAAYC,YAAYxR,SAAQ,SAACyR,GACvCX,IAAMY,QAAQ,YAAaD,MAE7BvG,EAAQqG,YAAYI,gBAAgB3R,SAAQ,SAAC4R,GAC3Cd,IAAMY,QAAQ,gBAAiBE,MAEjC1G,EAAQqG,YAAYM,iBAAiB7R,SAAQ,SAAC8R,GAC5ChB,IAAMY,QAAQ,gBAAiBI,MAEjC5G,EAAQqG,YAAYQ,aAAa/R,SAAQ,SAACgS,GACxClB,IAAMY,QAAQ,aAAcM,MAE9BlB,IAAMY,QAAQ,cAAexG,EAAQqG,YAAYU,cACjD/G,EAAQqG,YAAY3O,UAAU5C,SAAQ,SAAC0N,GACrCoD,IAAMY,QAAQ,WAAYhE,MAE5BxC,EAAQqG,YAAY1O,UAAU7C,SAAQ,SAAC2N,GACrCmD,IAAMY,QAAQ,WAAY/D,MAE5BzC,EAAQqG,YAAYvO,aAAahD,SAAQ,SAACiD,GACxC6N,IAAMY,QAAQ,aAAczO,MAE9BiI,EAAQqG,YAAYxO,QAAQ/C,SAAQ,SAACkE,GACnC4M,IAAMY,QAAQ,SAAUxN,MAE1BgH,EAAQqG,YAAY5N,SAAS3D,SAAQ,SAAC4D,GACpCkN,IAAMY,QAAQ,UAAW9N,MAE3BsH,EAAQqG,YAAYW,YAAYlS,SAAQ,SAACgE,GACvC8M,IAAMY,QAAQ,YAAa1N,MAE7BkH,EAAQqG,YAAY5O,aAAa3C,SAAQ,SAACsE,GACxCwM,IAAMY,QAAQ,cAAepN,MAE/B,MAA+ChE,GAAe4K,EAAQ3K,WAAY2K,EAAQ1K,OAAQ,CAAEpC,KAAM,UAAW+C,KAAM+J,EAAQ/J,OAAnI,mBAAOT,EAAP,KAA4BC,EAA5B,KACAD,EAAoBV,SAAQ,SAACY,GAC3BkQ,IAAMY,QAAQ,YAAa9Q,MAE7BD,EAAgBX,SAAQ,SAACsB,EAAOqD,GAC9BmM,IAAMY,QAAQ,QAAd,2BAA4BpQ,GAA5B,IAAmCvE,UAAW,CAAE6B,EAAG,IAAY,IAAN+F,EAAW9F,EAAG,UAEzEqM,EAAQ3K,WAAWP,SAAQ,SAACY,GAC1BkQ,IAAMqB,kBAAkBvR,EAAWsK,EAAQ/J,UAI/CiR,WAAY,iBAAO,CACjBhI,KAAM0G,IAAM1G,KACZjJ,KAAM2P,IAAM3P,KACZ/C,KAAM0S,IAAM1S,KACZwN,YAAakF,IAAMlF,YACnB7O,UAAW+T,IAAM/T,UACjBwU,YAAa,CACXC,YAAalX,OAAOyF,OAAO+Q,IAAM9O,KAAK+O,YACtCY,gBAAiBrX,OAAOyF,OAAO+Q,IAAM9O,KAAKnC,gBAC1CgS,iBAAkBvX,OAAOyF,OAAO+Q,IAAM9O,KAAKgP,iBAC3Ce,aAAczX,OAAOyF,OAAO+Q,IAAM9O,KAAK8I,aACvCmH,aAAc3X,OAAOyF,OAAO+Q,IAAM9O,KAAKiP,cAAc,GACrDrO,UAAWtI,OAAOyF,OAAO+Q,IAAM9O,KAAKY,WACpCC,UAAWvI,OAAOyF,OAAO+Q,IAAM9O,KAAKa,WACpCc,SAAUrJ,OAAOyF,OAAO+Q,IAAM9O,KAAK2B,UACnCX,aAAc1I,OAAOyF,OAAO+Q,IAAM9O,KAAKgB,cACvCkP,YAAa5X,OAAOyF,OAAO+Q,IAAM9O,KAAKc,YACtCH,aAAcrI,OAAOyF,OAAO+Q,IAAM9O,KAAKW,cACvCI,QAASzI,OAAOyF,OAAO+Q,IAAM9O,KAAKe,UAEpCxC,WAAYiJ,GAA2BsH,IAAM9O,KAAKzB,WAAYuQ,IAAM7P,cACpET,OAAQmJ,GAAuBmH,IAAM9O,KAAKxB,OAAQsQ,IAAM9O,KAAKzB,cAG/D4Q,QAAS,SAAClT,GAAD,OAAU4S,GAAI,SAACvI,GAAD,MAAQ,CAAE8B,KAAMnM,OACvCmT,QAAS,SAACnT,GAAD,OAAU4S,GAAI,SAACvI,GAAD,MAAQ,CAAEnH,KAAMlD,OACvCoT,QAAS,SAACpT,GAAD,OAAU4S,GAAI,SAACvI,GAAD,MAAQ,CAAElK,KAAMH,OACvCqT,eAAgB,SAACrT,GAAD,OAAU4S,GAAI,SAACvI,GAAD,MAAQ,CAAEsD,YAAa3N,OACrDkU,kBAAmB,SAACvR,EAAWyR,GAAZ,OAAyBxB,GAAI,SAACnP,GAC1CA,EAAMM,KAAKzB,WAAWK,EAAUO,QACnCO,EAAMM,KAAKzB,WAAWK,EAAUO,MAAQP,GAEtCyR,IAAa3Q,EAAMP,MAErBO,EAAMM,KAAKzB,WAAWK,EAAUO,MAAMV,WAAa,CAAErC,KAAM,UAAW+C,KAAMO,EAAMP,MAClFO,EAAMT,aAAaG,KAAKR,EAAUO,OACzBO,EAAMM,KAAKzB,WAAW8R,IAE/B3Q,EAAMM,KAAKzB,WAAWK,EAAUO,MAAMV,WAAa,CAAErC,KAAM,YAAa+C,KAAMkR,GAC9E3Q,EAAMM,KAAKzB,WAAW8R,GAAUpR,aAAaG,KAAKR,EAAUO,OACnDO,EAAMM,KAAKxB,OAAO6R,KAE3B3Q,EAAMM,KAAKzB,WAAWK,EAAUO,MAAMV,WAAa,CAAErC,KAAM,QAAS+C,KAAMkR,GAC1E3Q,EAAMM,KAAKxB,OAAO6R,GAAUpR,aAAaG,KAAKR,EAAUO,WAG5DmR,qBAAsB,SAACD,EAAU5Q,GAAX,OAA2BoP,GAAI,SAACnP,GACpD,GAAI2Q,IAAa3Q,EAAMP,KAAM,CAC3BqC,QAAQC,IAAI,sBAAsBhC,EAAY,iBAAiB4Q,GAC/D,IAAME,EAAkB7Q,EAAMT,aACxBuR,EAAkB9Q,EAAMT,aAAaqL,QAAO,SAAAxP,GAAE,OAAIA,IAAO2E,KAC/D+B,QAAQC,IAAI8O,GACZ/O,QAAQC,IAAI+O,GACZ9Q,EAAMT,aAAeuR,OACZ9Q,EAAMM,KAAKxB,OAAO6R,GAC3B3Q,EAAMM,KAAKxB,OAAO6R,GAAUpR,aAAeS,EAAMM,KAAKxB,OAAO6R,GAAUpR,aAAaqL,QAAO,SAAAxP,GAAE,OAAIA,IAAO2E,KAC/FC,EAAMM,KAAKzB,WAAW8R,KAC/B3Q,EAAMM,KAAKzB,WAAW8R,GAAUpR,aAAeS,EAAMM,KAAKzB,WAAW8R,GAAUpR,aAAaqL,QAAO,SAAAxP,GAAE,OAAIA,IAAO2E,MAElH,GAAgD,oCAA5CC,EAAMM,KAAKzB,WAAWkB,GAAarD,MAA8CsD,EAAMM,KAAKzB,WAAWkB,GAAaS,WAAWM,uBAC1Hd,EAAMM,KAAKgB,aAAatB,EAAMM,KAAKzB,WAAWkB,GAAaS,WAAWM,sBACxE,GAAgD,8BAA5Cd,EAAMM,KAAKzB,WAAWkB,GAAarD,KAAsC,CAClF,IAAMqU,EAAgB/Q,EAAMM,KAAKzB,WAAWkB,GAC9BC,EAAMM,KAAKxB,OAAOiS,EAAcvQ,WAAWG,YACnD3H,UAAUsF,SAAQ,SAAAiN,GACU,qBAA5BA,EAASG,gBACPqF,EAAcvQ,WAAW+K,EAAS9L,OAASO,EAAMM,KAAKgB,aAAayP,EAAcvQ,WAAW+K,EAAS9L,eAChGO,EAAMM,KAAKgB,aAAayP,EAAcvQ,WAAW+K,EAAS9L,iBAKlEO,EAAMM,KAAKzB,WAAWkB,OAE/BiR,mBAAoB,SAACC,EAAcN,GAEjCM,EAAa1R,aAAajB,SAAQ,SAAAlD,GAC5BgU,IAAM9O,KAAKzB,WAAWzD,GAAIsB,KAAKyC,SAAS,gBAC1CiQ,IAAM4B,mBAAmB5B,IAAM9O,KAAKzB,WAAWzD,GAAI6V,EAAaxR,MAEhE2P,IAAMwB,qBAAqBK,EAAaxR,KAAMrE,MAIxB,uCAAtB6V,EAAavU,MACf9D,OAAOyF,OAAO+Q,IAAM9O,KAAKzB,YAAYP,SAAQ,SAAAY,GACpB,8BAAnBA,EAAUxC,MAAwCwC,EAAUsB,WAAWG,YACzEyO,IAAMwB,qBAAqBK,EAAaxR,KAAMP,EAAUO,SAG5D2P,IAAM8B,WAAW,QAASD,EAAaxR,OAEvC2P,IAAMwB,qBAAqBD,EAAUM,EAAaxR,OAItD0R,uBAAwB,SAACC,EAAYC,EAAaC,EAAaC,EAAUC,GAAjD,OAA8DrC,GAAI,SAACnP,GACrFqR,IAAgBC,EAClB/J,GAAUvH,EAAMM,KAAKgB,aAAagQ,GAAa1P,eAAe2P,EAASC,IAEvExR,EAAMM,KAAKgB,aAAa+P,GAAazP,eAAeiG,OAAO0J,EAAU,GACrEvR,EAAMM,KAAKgB,aAAagQ,GAAa1P,eAAeiG,OAAO2J,EAAU,EAAGJ,QAK5EK,yBAA0B,SAACL,EAAYE,EAAaE,GAA1B,OAAuCrC,GAAI,SAACnP,GACpEA,EAAMM,KAAKgB,aAAagQ,GAAa1P,eAAeiG,OAAO2J,EAAU,EAAGJ,OAG1EM,yBAA0B,SAACf,EAAUgB,GAAX,OAAqBxC,GAAI,SAACnP,GAClDA,EAAMM,KAAKgB,aAAaqP,GAAU/O,eAAeiG,OAAO8J,EAAO,OAEjEC,mBAAoB,SAAC7R,EAAasR,EAAaC,EAAaC,EAAUC,GAAlD,OAA+DrC,GAAI,SAACnP,GACtF,GAAIqR,IAAgBC,GAAetR,EAAMP,OAAS4R,EAGhD9J,GAAUvH,EAAMT,aAAagS,EAASC,QACjC,GAAIH,IAAgBC,EAAa,CAGtC,IAAMO,EAAa7R,EAAMM,KAAKxB,OAAOwS,GAAe,SAAW,aAC/D/J,GAAUvH,EAAMM,KAAKuR,GAAYP,GAAa/R,aAAagS,EAASC,QAC/D,GAAIxR,EAAMP,OAAS4R,EAAa,CAGrC,IAAMS,EAAgB9R,EAAMM,KAAKxB,OAAOwS,GAAe,SAAW,aAClEtR,EAAMT,aAAasI,OAAO0J,EAAU,GACpCvR,EAAMM,KAAKwR,GAAeR,GAAa/R,aAAasI,OAAO2J,EAAU,EAAGzR,QACnE,GAAIC,EAAMP,OAAS6R,EAAa,CACrC,IAAMS,EAAgB/R,EAAMM,KAAKxB,OAAOuS,GAAe,SAAW,aAClErR,EAAMM,KAAKyR,GAAeV,GAAa9R,aAAasI,OAAO0J,EAAU,GACrEvR,EAAMT,aAAasI,OAAO2J,EAAU,EAAGzR,OAClC,CACL,IAAM+R,EAAgB9R,EAAMM,KAAKxB,OAAOwS,GAAe,SAAW,aAC5DS,EAAgB/R,EAAMM,KAAKxB,OAAOuS,GAAe,SAAW,aAClErR,EAAMM,KAAKyR,GAAeV,GAAa9R,aAAasI,OAAO0J,EAAU,GACrEvR,EAAMM,KAAKwR,GAAeR,GAAa/R,aAAasI,OAAO2J,EAAU,EAAGzR,QAG5EiS,qBAAsB,SAAC9S,EAAWoS,EAAaE,GAAzB,OAAsCrC,GAAI,SAAAnP,GACzDA,EAAMM,KAAKzB,WAAWK,EAAUO,QAEnCO,EAAMM,KAAKzB,WAAWK,EAAUO,MAAQJ,IAAOC,KAAKJ,EAAU,MAAM,aAAa,eAAe,aAE9FoS,IAAgBtR,EAAMP,KACxBO,EAAMT,aAAasI,OAAO2J,EAAU,EAAGtS,EAAUO,MACxCO,EAAMM,KAAKxB,OAAOwS,GAC3BtR,EAAMM,KAAKxB,OAAOwS,GAAa/R,aAAasI,OAAO2J,EAAU,EAAGtS,EAAUO,MAE1EO,EAAMM,KAAKzB,WAAWyS,GAAa/R,aAAasI,OAAO2J,EAAU,EAAGtS,EAAUO,UAGlFwS,oBAAqB,SAAC1Q,EAAY+P,EAAaY,GAA1B,OAAqC/C,GAAI,SAACnP,GAC9CA,EAAMM,KAAKgB,aAAaC,EAAW9B,QAEhDqC,QAAQC,IAAI,2CACZ/B,EAAMM,KAAKgB,aAAaC,EAAW9B,MAAQJ,IAAOC,KAAKiC,EAAW,aAAa,eAAe,aAEhG,IAAM4Q,EAAQD,GAAkB,kBACG,WAA/B3Q,EAAWxC,WAAWrC,OACxBoF,QAAQC,IAAI,6BACZ/B,EAAMM,KAAKzB,WAAW0C,EAAWxC,WAAWU,MAAMe,WAAWe,EAAWxC,WAAWoT,OAAS,MAE9FrQ,QAAQC,IAAR,wBAA6BoQ,EAA7B,eAAyCb,EAAzC,eAA2D/P,EAAW9B,OACtEO,EAAMM,KAAKzB,WAAWyS,GAAa9Q,WAAW2R,GAAS5Q,EAAW9B,SAEpE2S,0BAA2B,SAACzB,EAAUwB,EAAOE,GAAlB,OAAmClD,GAAI,SAAAnP,GAChEA,EAAMM,KAAKzB,WAAW8R,GAAUnQ,WAAW2R,GAAS,YAC7CnS,EAAMM,KAAKgB,aAAa+Q,OAGjCrC,QAAS,SAACtT,EAAM4V,GAAP,OAAgBnD,GAAI,SAACnP,GAC5BA,EAAMM,KAAKvD,GAAUL,IAAO4V,EAAK7S,MAAQ6S,MAK3CC,gBAAiB,SAAC7V,EAAM+C,EAAM+S,EAAU9R,GAAvB,OAAiCyO,GAAI,SAACnP,GACrDA,EAAMM,KAAKvD,GAAUL,IAAO+C,GAAM+S,GAAY9R,EAIjC,cAAThE,GAA6D,4BAArCsD,EAAMM,KAAKzB,WAAWY,GAAM/C,MAAmD,aAAb8V,IAE1FxS,EAAMM,KAAKzB,WAAWY,GAAMiJ,KAD1BhI,EAAQ,GACyB,QAC1BA,EAAQ,GACkB,UAEA,oBAIzC+R,iBAAkB,SAAChT,EAAMpE,GAAP,OAAqB8T,GAAI,SAAAnP,GACrCA,EAAMM,KAAKY,UAAUzB,IACvBO,EAAMM,KAAKY,UAAUzB,GAAMvB,SAAShB,EAAI7B,EAAUqX,MAAMxU,SAAShB,EACjE8C,EAAMM,KAAKY,UAAUzB,GAAMvB,SAASf,EAAI9B,EAAUqX,MAAMxU,SAASf,EACjE6C,EAAMM,KAAKY,UAAUzB,GAAMvB,SAASd,EAAI/B,EAAUqX,MAAMxU,SAASd,EACjE4C,EAAMM,KAAKY,UAAUzB,GAAMsJ,YAAY7L,EAAI7B,EAAUqX,MAAM7M,WAAW3I,EACtE8C,EAAMM,KAAKY,UAAUzB,GAAMsJ,YAAY5L,EAAI9B,EAAUqX,MAAM7M,WAAW1I,EACtE6C,EAAMM,KAAKY,UAAUzB,GAAMsJ,YAAY3L,EAAI/B,EAAUqX,MAAM7M,WAAWzI,EACtE4C,EAAMM,KAAKY,UAAUzB,GAAMsJ,YAAYlF,EAAIxI,EAAUqX,MAAM7M,WAAWhC,GAE7D7D,EAAMM,KAAKa,UAAU1B,KAC9BO,EAAMM,KAAKa,UAAU1B,GAAMvB,SAAShB,EAAI7B,EAAUqX,MAAMxU,SAAShB,EACjE8C,EAAMM,KAAKa,UAAU1B,GAAMvB,SAASf,EAAI9B,EAAUqX,MAAMxU,SAASf,EACjE6C,EAAMM,KAAKa,UAAU1B,GAAMvB,SAASd,EAAI/B,EAAUqX,MAAMxU,SAASd,EACjE4C,EAAMM,KAAKa,UAAU1B,GAAMsJ,YAAY7L,EAAI7B,EAAUqX,MAAM7M,WAAW3I,EACtE8C,EAAMM,KAAKa,UAAU1B,GAAMsJ,YAAY5L,EAAI9B,EAAUqX,MAAM7M,WAAW1I,EACtE6C,EAAMM,KAAKa,UAAU1B,GAAMsJ,YAAY3L,EAAI/B,EAAUqX,MAAM7M,WAAWzI,EACtE4C,EAAMM,KAAKa,UAAU1B,GAAMsJ,YAAYlF,EAAIxI,EAAUqX,MAAM7M,WAAWhC,OAI1E8O,mBAAoB,SAAClT,EAAMpE,GAAP,OAAqB8T,GAAI,SAAAnP,GACvCA,EAAMM,KAAKe,QAAQ5B,KACrBO,EAAMM,KAAKe,QAAQ5B,GAAM2G,gBAAgBlJ,EAAI7B,EAAUqX,MAAMxU,SAAShB,EACtE8C,EAAMM,KAAKe,QAAQ5B,GAAM2G,gBAAgBjJ,EAAI9B,EAAUqX,MAAMxU,SAASf,EACtE6C,EAAMM,KAAKe,QAAQ5B,GAAM2G,gBAAgBhJ,EAAI/B,EAAUqX,MAAMxU,SAASd,EACtE4C,EAAMM,KAAKe,QAAQ5B,GAAM4G,mBAAmBnJ,EAAI7B,EAAUqX,MAAM7M,WAAW3I,EAC3E8C,EAAMM,KAAKe,QAAQ5B,GAAM4G,mBAAmBlJ,EAAI9B,EAAUqX,MAAM7M,WAAW1I,EAC3E6C,EAAMM,KAAKe,QAAQ5B,GAAM4G,mBAAmBjJ,EAAI/B,EAAUqX,MAAM7M,WAAWzI,EAC3E4C,EAAMM,KAAKe,QAAQ5B,GAAM4G,mBAAmBxC,EAAIxI,EAAUqX,MAAM7M,WAAWhC,OAG/E+O,sBAAuB,SAAClW,EAAM+C,EAAM+S,EAAU9R,GAAvB,OAAiCyO,GAAI,SAACnP,GAC3DA,EAAMM,KAAKvD,GAAUL,IAAO+C,GAAMe,WAAWgS,GAAY9R,MAE3DwQ,WAAY,SAACxU,EAAM+C,GAAP,OAAgB0P,GAAI,SAACnP,UACxBA,EAAMM,KAAKvD,GAAUL,IAAO+C,GACtB,aAAT/C,EAEF9D,OAAOgB,KAAKoG,EAAMM,KAAKgB,cAAchD,SAAQ,SAAAwC,GAC3Cd,EAAMM,KAAKgB,aAAaR,GAAiBc,eAAiB5B,EAAMM,KAAKgB,aAAaR,GAAiBc,eAAegJ,QAAO,SAAAiI,GAAU,OAAIA,IAAepT,QAItI,aAAT/C,GACT9D,OAAOgB,KAAKoG,EAAMM,KAAKgB,cAAchD,SAAQ,SAAAwC,GACvCd,EAAMM,KAAKgB,aAAaR,GAAiBY,sBAAwBjC,IACnEO,EAAMM,KAAKgB,aAAaR,GAAiBY,oBAAsB,MAE7D1B,EAAMM,KAAKgB,aAAaR,GAAiBa,oBAAsBlC,IACjEO,EAAMM,KAAKgB,aAAaR,GAAiBa,kBAAoB,aAOrEmR,SAAU,SAACpW,EAAM+C,EAAMvC,EAAGC,GAAhB,OAAsBgS,GAAI,SAACnP,GACtB,YAATtD,GACFsD,EAAM3E,UAAU6B,GAAKA,EACrB8C,EAAM3E,UAAU8B,GAAKA,GACH,UAATT,IACTsD,EAAMM,KAAKvD,GAAUL,IAAO+C,GAAMpE,UAAU6B,GAAKA,EACjD8C,EAAMM,KAAKvD,GAAUL,IAAO+C,GAAMpE,UAAU8B,GAAKA,OAGrD4V,mBAAoB,SAACrW,EAAM4V,EAAMpV,EAAGC,GAAhB,OAAsBgS,GAAI,SAACnP,GAChC,UAATtD,IACFsD,EAAMM,KAAKvD,GAAUL,IAAO4V,EAAK7S,MAAQJ,IAAOC,KAAP,2BAAiBgT,GAAjB,IAAuBjX,UAAW,CAAE6B,IAAGC,OAAO,mBAG3F6V,oBAAqB,SAACrS,EAAY4K,GAAb,OAA0B4D,GAAI,SAACnP,GAClDA,EAAMM,KAAKvD,GAAU,UAAU4D,GAAY3H,UAAU0G,KAAK6L,OAE5D0H,wBAAyB,SAACxT,EAAM8L,GAAP,OAAoB4D,GAAI,SAACnP,GAChB,kBAA5BuL,EAASG,gBAAsC1L,EAAMM,KAAKzB,WAAWY,GAAMe,WAAWK,eAAiB0K,EAAS9L,KAClHO,EAAMM,KAAKzB,WAAWY,GAAMe,WAAWK,aAAe,KACjB,qBAA5B0K,EAASG,gBAAyC1L,EAAMM,KAAKzB,WAAWY,GAAMe,WAAWI,aAAe2K,EAAS9L,KAC1HO,EAAMM,KAAKzB,WAAWY,GAAMe,WAAWI,WAAa,KACf,qBAA5B2K,EAASG,gBAAyC1L,EAAMM,KAAKzB,WAAWY,GAAMe,WAAWM,kBAAoByK,EAAS9L,KAC/HO,EAAMM,KAAKzB,WAAWY,GAAMe,WAAWM,gBAAkB,KACpB,iCAA5ByK,EAASG,gBAAqD1L,EAAMM,KAAKzB,WAAWY,GAAMe,WAAWO,gBAAkBwK,EAAS9L,OACzIO,EAAMM,KAAKzB,WAAWY,GAAMe,WAAWO,cAAgB,UAG3DmS,gCAAiC,SAACC,EAAW5H,GAC3C6D,IAAM9O,KAAKzB,WAAWsU,GAAW5T,aAAajB,SAAQ,SAAAmB,GAEhDA,EAAKN,SAAS,iBAChBiQ,IAAM8D,gCAAgCzT,EAAM8L,GAI9C6D,IAAM6D,wBAAwBxT,EAAM8L,OAGxC6H,wBAAyB,SAACzS,EAAY4K,GAAb,OAA0B4D,GAAI,SAACnP,GACtDA,EAAMM,KAAKvD,GAAU,UAAU4D,GAAY3H,UAAYgH,EAAMM,KAAKvD,GAAU,UAAU4D,GAAY3H,UAAU4R,QAAO,SAAAyI,GAAG,OAAIA,EAAI5T,OAAS8L,EAAS9L,YAElJ6T,oBAAqB,SAAC1T,EAAO2L,GAC3B3L,EAAML,aAAajB,SAAQ,SAAAmB,GAErBA,EAAKN,SAAS,iBAChBiQ,IAAM8D,gCAAgCzT,EAAM8L,GAI9C6D,IAAM6D,wBAAwBxT,EAAM8L,MAItC6D,IAAMgE,wBAAwBxT,EAAMH,KAAM8L,IAE5CgI,iBAAkB,SAAC5S,EAAY6S,GAAb,OAA+BpE,GAAI,SAACpP,GACpD,IAAK,IAAIjH,EAAI,EAAGA,EAAIiH,EAAMM,KAAKvD,GAAU,UAAU4D,GAAY3H,UAAUC,OAAQF,IAC/E,GAAIiH,EAAMM,KAAKvD,GAAU,UAAU4D,GAAY3H,UAAUD,GAAG0G,OAAS+T,EACnE,OAAOxT,EAAMM,KAAKvD,GAAU,UAAU4D,GAAY3H,UAAUD,OAKlE0a,oBAAqB,SAAC9S,EAAY6S,EAAehB,EAAU9R,GAAtC,OAAgDyO,GAAI,SAACnP,GACxE,IAAK,IAAIjH,EAAI,EAAGA,EAAIiH,EAAMM,KAAKvD,GAAU,UAAU4D,GAAY3H,UAAUC,OAAQF,IAC3EiH,EAAMM,KAAKvD,GAAU,UAAU4D,GAAY3H,UAAUD,GAAG0G,OAAS+T,IACnExT,EAAMM,KAAKvD,GAAU,UAAU4D,GAAY3H,UAAUD,GAAGyZ,GAAY9R,S,0CChZ/DgT,GAAmB,CAC5B,kFAAkF,kFAClF,SAAW,qBACX,kBAAoB,8BACpB,oBAAsB,gCACtB,6FAA6F,yFAC7F,8FAA8F,4FAC9F,aAAe,yBACf,sDAAsD,yDACtD,0DAA0D,6DAC1D,0DAA0D,6DAC1D,yDAAyD,4DACzD,wDAAwD,2DACxD,wDAAwD,2DACxD,wDAAwD,2DACxD,0EAA0E,6EAC1E,6EAA6E,gFAC7E,4EAA4E,+EAC5E,mFAAmF,sFACnF,gFAAgF,oFAGvEC,GAAkB,CAC3B,mEAAmE,8FACnE,qEAAqE,eACrE,iEAAiE,WACjE,qEAAqE,oBACrE,qEAAqE,sBACrE,8DAA8D,WAC9D,+DAA+D,WAC/D,wDAAwD,QACxD,+DAA+D,gBAC/D,2EAA2E,2BAC3E,2EAA2E,4BAGlEC,GACT,CACIvP,IAAI,CACA,kBAAkB,CACdpI,MAAM,QACN0H,YAAa,CAAEzG,GAAI,IAAMC,EAAG,IAAMC,EAAG,IACrCwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,IAErC,kBAAoB,CAChBnB,MAAM,QACN0H,YAAa,CAAEzG,EAAG,GAAKC,EAAG,IAAMC,EAAG,KACnCwG,SAAU,CAAEC,GAAI,GAAK3G,EAAG,GAAKC,GAAI,GAAKC,GAAI,KAE9C,oBAAsB,CAClBnB,MAAM,QACN0H,YAAa,CAAEzG,GAAI,IAAMC,GAAI,IAAMC,GAAI,KACvCwG,SAAU,CAAEC,EAAG,KAAO3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,OAEzC,kBAAoB,CAChBnB,MAAM,QACN0H,YAAa,CAAEzG,GAAI,IAAMC,GAAI,IAAMC,GAAI,KACvCwG,SAAU,CAAEC,EAAG,KAAO3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,OAEzC,oBAAsB,CAClBnB,MAAM,QACN0H,YAAa,CAAEzG,EAAG,IAAMC,GAAI,IAAMC,GAAI,KACtCwG,SAAU,CAAEC,EAAG,KAAO3G,EAAG,EAAGC,EAAG,EAAGC,GAAI,OAE1C,kBAAoB,CAChBnB,MAAM,QACN0H,YAAa,CAAEzG,EAAG,IAAMC,GAAI,IAAMC,GAAI,KACtCwG,SAAU,CAAEC,EAAG,KAAO3G,EAAG,EAAGC,EAAG,EAAGC,GAAI,OAE1C,oBAAsB,CAClBnB,MAAM,QACN0H,YAAa,CAAEzG,EAAG,EAAGC,GAAI,IAAMC,EAAG,GAClCwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,IAErC,wBAA0B,CACtBnB,MAAM,QACN0H,YAAa,CAAEzG,EAAG,EAAGC,GAAI,IAAMC,EAAG,QAClCwG,SAAU,CAAEC,EAAG,kBAAoB3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,mBAEtD,yBAA2B,CACvBnB,MAAM,QACN0H,YAAa,CAAEzG,EAAG,EAAGC,GAAI,IAAMC,EAAG,QAClCwG,SAAU,CAAEC,GAAI,kBAAoB3G,EAAG,kBAAoBC,GAAI,kBAAoBC,EAAG,oBAE1F,uBAAyB,CACrBnB,MAAM,QACN0H,YAAa,CAAEzG,GAAI,mBAAqBC,EAAG,mBAAqBC,EAAG,oBACnEwG,SAAU,CAAEC,EAAG,kBAAoB3G,EAAG,kBAAoBC,EAAG,iBAAmBC,EAAG,oBAEvF,uBAAyB,CACrBnB,MAAM,QACN0H,YAAa,CAAEzG,EAAG,mBAAqBC,GAAI,oBAAsBC,EAAG,mBACpEwG,SAAU,CAAEC,GAAI,mBAAqB3G,EAAG,kBAAoBC,GAAI,mBAAqBC,EAAG,oBAE5F,uBAAyB,CACrBnB,MAAM,QACN0H,YAAa,CAAEzG,EAAG,kBAAoBC,EAAG,mBAAqBC,EAAG,oBACjEwG,SAAU,CAAEC,EAAG,kBAAoB3G,GAAI,mBAAqBC,GAAI,mBAAqBC,GAAI,sBAE7F,uBAAyB,CACrBnB,MAAM,QACN0H,YAAa,CAAEzG,EAAG,mBAAqBC,EAAG,mBAAqBC,EAAG,oBAClEwG,SAAU,CAAEC,GAAI,mBAAqB3G,EAAG,kBAAoBC,GAAI,mBAAqBC,EAAG,sBAE5F,iBAAmB,CACfnB,MAAM,QACN0H,YAAa,CAAEzG,EAAG,mBAAqBC,EAAG,mBAAqBC,EAAG,oBAClEwG,SAAU,CAAEC,EAAG,mBAAqB3G,EAAG,iBAAmBC,EAAG,kBAAoBC,GAAI,qBAEzF,gBAAkB,CACdnB,MAAM,QACN0H,YAAa,CAAEzG,EAAG,mBAAqBC,EAAG,mBAAqBC,EAAG,oBAClEwG,SAAU,CAAEC,GAAI,mBAAqB3G,EAAG,kBAAoBC,GAAI,mBAAqBC,EAAG,sBAG5F,+BAAiC,CAC7BnB,MAAM,kBACN0H,YAAa,CAACzG,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC7BwG,SAAU,CAAEC,EAAG,GAAK3G,EAAG,GAAKC,GAAI,GAAKC,EAAG,KAE5C,uCAAyC,CACrCnB,MAAM,iCACN0H,YAAa,CAAEzG,EAAG,aAAeC,EAAG,aAAeC,EAAG,GACtDwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,IAErC,wCAA0C,CACtCnB,MAAM,iCACN0H,YAAa,CAAEzG,EAAG,aAAeC,GAAI,aAAeC,EAAG,GACvDwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,IAErC,sCAAwC,CACpCnB,MAAM,yCACN0H,YAAa,CAAEzG,GAAI,aAAeC,GAAI,aAAeC,EAAG,GACxDwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,IAErC,uCAAyC,CACrCnB,MAAM,0CACN0H,YAAa,CAAEzG,GAAI,aAAeC,GAAI,aAAeC,EAAG,GACxDwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,IAErC,6CAA+C,CAC3CnB,MAAM,iCACN0H,YAAa,CAAEzG,EAAG,OAASC,EAAG,MAAQC,EAAG,GACzCwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,IAErC,8CAAgD,CAC5CnB,MAAM,iCACN0H,YAAa,CAAEzG,EAAG,OAASC,GAAI,MAAQC,EAAG,GAC1CwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,IAErC,0CAA4C,CACxCnB,MAAM,+CACN0H,YAAa,CAAEzG,EAAG,aAAeC,GAAI,aAAeC,EAAG,GACvDwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,IAErC,2CAA6C,CACzCnB,MAAM,gDACN0H,YAAa,CAAEzG,EAAG,aAAeC,GAAI,aAAeC,EAAG,GACvDwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,KAGzCyW,YAAa,CACTC,MAAO,CACHnL,MAAO,kFACPD,KAAM,QACNzM,MAAO,QACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,IAAMC,GAAI,KAC/BwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCd,MAAO,CAACgB,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAChCsW,eAAe,EACflL,aAAa,EACbD,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,IA0CtB4W,SAAU,CACNrL,MAAO,6FACPD,KAAM,WACNzM,MAAO,QACPiC,SAAU,CAAEhB,EAAG,EAAGC,GAAI,IAAMC,GAAI,KAChCwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCd,MAAO,CAACgB,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAChCwW,cAAc,EACdpL,aAAa,EACbD,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,IAqBtB8W,UAAW,CACPvL,MAAO,sDACPD,KAAM,aACNzM,MAAO,sBACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC3BwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB6W,cAAc,EACdpL,aAAa,GAEjBsL,kBAAmB,CACfxL,MAAO,0DACPD,KAAM,gBACNzM,MAAO,0BACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC3BwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB6W,cAAc,EACdpL,aAAa,GAEjBuL,kBAAmB,CACfzL,MAAO,0DACP0L,UAAW,6DACX3L,KAAM,iBACNzM,MAAO,2BACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,EAAG,KAC3BwG,SAAU,CAAEC,EAAG,GAAK3G,EAAG,GAAKC,GAAI,GAAKC,GAAI,IACzCwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB6W,cAAc,EACdpL,aAAa,GAEjByL,iBAAkB,CACd3L,MAAO,yDACP0L,UAAW,4DACX3L,KAAM,eACNzM,MAAO,yBACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,EAAG,MAC3BwG,SAAU,CAAEC,EAAG,GAAK3G,EAAG,GAAKC,GAAI,GAAKC,GAAI,IACzCwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB6W,cAAc,EACdpL,aAAa,GAEjB0L,gBAAiB,CACb5L,MAAO,wDACP0L,UAAW,2DACX3L,KAAM,eACNzM,MAAO,yBACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,GAAI,MAC5BwG,SAAU,CAAEC,EAAG,SAAW3G,EAAG,SAAWC,EAAG,EAAGC,EAAG,GACjDwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB6W,cAAc,EACdpL,aAAa,GAEjB2L,gBAAiB,CACb7L,MAAO,wDACP0L,UAAW,2DACX3L,KAAM,eACNzM,MAAO,yBACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,GAAI,QAC5BwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB6W,cAAc,EACdpL,aAAa,GAEjB4L,gBAAiB,CACb9L,MAAO,wDACP0L,UAAW,2DACX3L,KAAM,eACNzM,MAAO,yBACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,GAAI,OAC5BwG,SAAU,CAAEC,EAAG,SAAW3G,EAAG,SAAWC,EAAG,EAAGC,EAAG,GACjDwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB6W,cAAc,EACdpL,aAAa,GAEjB6L,gBAAgB,CACZ/L,MAAO,0EACPD,KAAM,eACNzM,MAAO,iCACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC3BwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB0L,UAAU,EACVD,aAAa,GAEf8L,mBAAmB,CACjBhM,MAAO,6EACPD,KAAM,uBACNzM,MAAO,yCACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC3BwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB0L,UAAU,EACVD,aAAa,GAEf+L,oBAAoB,CAClBjM,MAAO,6EACPD,KAAM,wBACNzM,MAAO,0CACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC3BwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB0L,UAAU,EACVD,aAAa,GAEfgM,kBAAkB,CAChBlM,MAAO,4EACPD,KAAM,sBACNzM,MAAO,wCACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC3BwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB0L,UAAU,EACVD,aAAa,GAEfiM,mBAAmB,CACjBnM,MAAO,4EACPD,KAAM,uBACNzM,MAAO,yCACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC3BwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB0L,UAAU,EACVD,aAAa,GAEfkM,wBAAwB,CACtBpM,MAAO,mFACPD,KAAM,6BACNzM,MAAO,+CACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC3BwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB0L,UAAU,EACVD,aAAa,GAEfmM,yBAAyB,CACvBrM,MAAO,mFACPD,KAAM,8BACNzM,MAAO,gDACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC3BwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB0L,UAAU,EACVD,aAAa,GAEfoM,qBAAqB,CACnBtM,MAAO,gFACPD,KAAM,0BACNzM,MAAO,4CACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC3BwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB0L,UAAU,EACVD,aAAa,GAEfqM,sBAAsB,CACpBvM,MAAO,gFACPD,KAAM,2BACNzM,MAAO,6CACPiC,SAAU,CAAEhB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC3BwG,SAAU,CAAEC,EAAG,EAAG3G,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACjCwL,MAAO,CAAC1L,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAClB0L,UAAU,EACVD,aAAa,KCrYvBsM,GAAcvc,OAAOgB,KAAKga,GAAYC,aAAajJ,QAAO,SAAAtH,GAAC,OAAIA,EAAEnE,SAAS,YAC1EiW,GAAgBxc,OAAOgB,KAAKga,GAAYC,aAAajJ,QAAO,SAAAtH,GAAC,OAAIA,EAAEnE,SAAS,cAGrEkW,GAAgB,CACzBC,SAAU,CACNC,qBAAsB,WAAY,IAAD,OACzBC,EAAmB,GAKvB,OAJAA,EAAiBhc,KAAKiG,MAAQuB,GAAoBxH,KAAKiG,KAAKjG,MAC5DA,KAAK+F,aAAajB,SAAQ,SAAAyB,GACtByV,EAAiBzV,GAAeiB,GAAoBjB,EAAY,MAE7DyV,GAEXnR,IAAK,WACD,IAAIA,EAAG,eAAOuP,GAAYvP,KAU1B,GATAzL,OAAOyF,OAAO7E,KAAK8G,KAAKW,cAAc3C,SAAQ,SAAAsE,GAG1CyB,EAAIzB,EAAYnD,MAAQ,CACpBxD,MAAM,QACN0H,YAAY,CAACzG,EAAE,EAAEC,EAAE,EAAEC,EAAE,GACvBwG,SAAS,CAACC,EAAE,EAAE3G,EAAE,EAAEC,EAAE,EAAEC,EAAE,OAG5B5D,KAAKic,UAAUhW,KAAM,CACrB,IAAMS,EAAa1G,KAAK+b,qBAAqB/b,KAAKic,UAAUhW,MACxDS,EACAmE,EAAMJ,GAA0B/D,EAAWmE,GACZ,aAAxB7K,KAAKic,UAAU/Y,MAAuBlD,KAAK8G,KAAKY,UAAU1H,KAAKic,UAAUhW,MAAM8D,QACtFzB,QAAQC,IAAIvI,KAAK8G,KAAKY,UAAU1H,KAAKic,UAAUhW,MAAM8D,QACrDc,EAAG,2BAAOA,GAAOP,GAAoBtK,KAAK8G,KAAKY,UAAU1H,KAAKic,UAAUhW,SACzC,aAAxBjG,KAAKic,UAAU/Y,MAAuBlD,KAAK8G,KAAKa,UAAU3H,KAAKic,UAAUhW,MAAM8D,SACtFc,EAAG,2BAAOA,GAAOP,GAAoBtK,KAAK8G,KAAKa,UAAU3H,KAAKic,UAAUhW,SAGhF,OAAO4E,GAEXqR,MAAO,WAAa,IAAD,OACXA,EAAQ,GACNC,EAAoD,eAAxBnc,KAAKic,UAAU/Y,KAAf,CAC9BlD,KAAK8G,KAAKgB,aAAa9H,KAAKic,UAAUhW,MAAMiC,qBADd,mBAE3BlI,KAAK8G,KAAKgB,aAAa9H,KAAKic,UAAUhW,MAAMmC,gBAFjB,CAG9BpI,KAAK8G,KAAKgB,aAAa9H,KAAKic,UAAUhW,MAAMkC,oBAC5C,GAEJ/I,OAAOgB,KAAKga,GAAYC,aAAavV,SAAQ,SAAAsX,GACzC,IAAMtD,EAAOsB,GAAYC,YAAY+B,GACjC/M,GAAc,EACdsM,GAAYtb,QAAQ,EAAK4b,UAAUhW,OAAS,GAAK0V,GAAYtb,QAAQ+b,IAAY,GAE1ER,GAAcvb,QAAQ,EAAK4b,UAAUhW,OAAS,GAAK2V,GAAcvb,QAAQ+b,IAAY,EAD5F/M,GAAc,EAGP,EAAK4M,UAAUhW,OAASmW,GAAW,EAAKC,mBAAmBpW,OAASmW,IAC3E/M,GAAc,GAElB6M,EAAME,GAAW,CACbjN,MAAO2J,EAAK3J,MACZD,KAAM4J,EAAK5J,KACXzM,MAAOqW,EAAKrW,MACZiC,SAAUoU,EAAKpU,SACf0F,SAAU0O,EAAK1O,SACftH,MAAOgW,EAAKhW,MACZsM,MAAO0J,EAAK1J,MACZkN,cAAe,WACfjN,cACAzM,QAAS,SAAC2Z,GAC+B,cAAjC,EAAKN,UAAUK,eAAmE,WAAlC,EAAKL,UAAUK,gBAG/DhU,QAAQC,IAAI,WAAWuQ,EAAK5J,MAC5BqN,EAAEC,kBACF,EAAKC,aAAa,QAASL,KAInCM,OAAQ,SAAC7a,GAAgByG,QAAQC,IAAI1G,KAErCqY,GAAiBpB,EAAK3J,SACtB+M,EAAME,EAAU,cAAgB,CAC5BjN,MAAO+K,GAAiBpB,EAAK3J,OAC7BD,KAAM4J,EAAK5J,KAAO,aAClBzM,MAAOqW,EAAKrW,MACZiC,SAAUoU,EAAKpU,SACf0F,SAAU0O,EAAK1O,SACfgF,MAAO0J,EAAK1J,MACZtM,MAAO,CAAEgB,EAAG,IAAKC,EAAG,EAAGC,EAAG,EAAGC,EAAG,IAChCqY,cAAe,WACfjN,aAAa,EACbsN,WAAW,EACXC,QAAS,EAAKC,kBACdja,QAAS,SAACwK,KACVsP,OAAQ,SAAC7a,GAAgByG,QAAQC,IAAI1G,SAKjDzC,OAAOyF,OAAO7E,KAAK8G,KAAKnC,gBAAgBG,SAAQ,SAAAC,GAChB,UAAxBA,EAAK+X,iBACLZ,EAAMnX,EAAKkB,MAAQ,CACfkJ,MAAO,OACPD,KAAMnK,EAAKmK,KACXzM,MAAO,QACPiC,SAAU,CAAChB,EAAEqB,EAAKC,WAAWrB,EAAEoB,EAAKG,WAAWtB,EAAE,KACjDwG,SAAU,CAACC,EAAE,EAAE3G,EAAE,EAAEC,EAAE,EAAEC,EAAE,GACzBd,MAAM,2BAAKuB,IAAN,IAA4BJ,EAAE,KACnCmL,MAAO,CAAC1L,EAAEqB,EAAKE,QAAQtB,EAAEoB,EAAKI,QAAQvB,EAAE,GACxC0Y,cAAe,WACfjN,aAAa,EACbzM,QAAS,SAACwK,KACVwP,QAAS,EAAKG,sBAM1B,IAAIC,EAAgB,GAChBC,EAAiB,GAuMrB,MAtM4B,YAAxBjd,KAAKic,UAAU/Y,OACf9D,OAAOyF,OAAO7E,KAAK8G,KAAK2B,SAASzI,KAAKic,UAAUhW,MAAM4C,QAAQ/D,SAAQ,SAAAoY,GAClEA,EAAWpY,SAAQ,SAAAqY,GAAK,OAAEH,EAAc9W,KAAKiX,EAAMlU,mBAEvD7J,OAAOyF,OAAO7E,KAAK8G,KAAK2B,SAASzI,KAAKic,UAAUhW,MAAMkD,SAASrE,SAAQ,SAAAoY,GACnEA,EAAWpY,SAAQ,SAAAsY,GAAM,OAAEH,EAAe/W,KAAKkX,EAAOnU,oBAI9D7J,OAAOyF,OAAO7E,KAAK8G,KAAK2B,UAAU3D,SAAQ,SAAA4D,GACtC,IAAM2U,EAAOlD,GAAgBzR,EAAQ4U,SACrCpB,EAAMxT,EAAQzC,MAAQ,CAClBkJ,MAAMkO,EACNnO,KAAKxG,EAAQwG,KACbzM,MAAOiG,EAAQ6U,YAAYC,KAC3B9Y,SAAUgE,EAAQ6U,YAAY7Y,SAC9B0F,SAAU1B,EAAQ6U,YAAYhO,YAC9BH,MAAoC,sBAA7B1G,EAAQ6U,YAAYC,KAA+B,CAAE9Z,EAAG,GAAKC,EAAG,GAAKC,EAAG,IAAQ,CAACF,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACvG0Y,cAAe,WACfjN,YAAa,EAAK4M,UAAUhW,OAASyC,EAAQzC,KAC7CrD,QAAS,SAAC2Z,GAC+B,cAAjC,EAAKN,UAAUK,eAAmE,WAAlC,EAAKL,UAAUK,gBAG/DhU,QAAQC,IAAI,WAAWG,EAAQwG,MAC/BqN,EAAEC,kBACF,EAAKC,aAAa,UAAW/T,EAAQzC,SAMjDiW,EAAMxT,EAAQzC,KAAK,cAAgB,CAC/BkJ,MAAM+K,GAAiBmD,GACvBnO,KAAMxG,EAAQwG,KAAO,aACrBzM,MAAOiG,EAAQ6U,YAAYC,KAC3B9Y,SAAUgE,EAAQ6U,YAAY7Y,SAC9B0F,SAAU1B,EAAQ6U,YAAYhO,YAC9BH,MAAoC,sBAA7B1G,EAAQ6U,YAAYC,KAA+B,CAAE9Z,EAAG,GAAKC,EAAG,GAAKC,EAAG,IAAQ,CAACF,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACvG0Y,cAAe,WACfjN,aAAa,EACbvM,MAAO,CAAEgB,EAAG,IAAKC,EAAG,EAAGC,EAAG,EAAGC,EAAG,IAChC0Y,WAAW,EACXC,QAAS,EAAKC,kBACdja,QAAS,SAACwK,MAIdhO,OAAOgB,KAAKsI,EAAQG,QAAQ/D,SAAQ,SAAAgE,GAChCJ,EAAQG,OAAOC,GAAWhE,SAAQ,SAAA2Y,GAC9B,IAAMzU,EAAS,EAAKlC,KAAKe,QAAQ4V,EAASxU,aACpCyU,EAAkBC,MAAS,SAAA9b,GAC7B,EAAKsX,mBAAmBnQ,EAAO/C,KAAKpE,KACtC,KACEiB,EAAQ,CAACgB,EAAE,IAAIC,EAAE,IAAIC,EAAE,GAAGC,EAAE,IAC1B2Z,EAAeZ,EAAcrX,SAASqD,EAAO/C,MAC7C4X,EAAgBZ,EAAetX,SAASqD,EAAO/C,MACjD2X,IAAiBC,EACjB/a,EAAQ,CAACgB,EAAE,IAAIC,EAAE,IAAIC,EAAE,GAAGC,EAAE,KACpB2Z,GAAgBC,IACxB/a,EAAQ,CAACgB,EAAE,GAAGC,EAAE,IAAIC,EAAE,IAAIC,EAAE,KAGhCiY,EAAMuB,EAASxU,aAAe,CAC1BkG,MAAOnG,EAAO8U,cAAgB,OAAS,SACvCrb,MAAOuG,EAAOwU,KACd9Y,SAAUsE,EAAO4D,gBACjBxC,SAAUpB,EAAO6D,mBACjBuC,MAAOpG,EAAO8U,cAAgB,CAACpa,EAAuB,EAArBsF,EAAO8U,cAAgBna,EAAuB,EAArBqF,EAAO+U,cAAgBna,EAAuB,EAArBoF,EAAOgV,eAAmB,CAACta,EAA4B,EAA1BsF,EAAOiV,mBAAqBta,EAA4B,EAA1BqF,EAAOiV,mBAAqBra,EAA4B,EAA1BoF,EAAOiV,oBACnL3B,cAAe,EAAKD,mBAAmBpW,OAAS+C,EAAO/C,KAAO,EAAKoW,mBAAmBC,cAAgB,WACtGxZ,QACAuM,YAAa,EAAKgN,mBAAmBpW,OAAS+C,EAAO/C,KACrD2W,SAAU,EAAKX,UAAUhW,OAASyC,EAAQzC,MAAQ,EAAKoW,mBAAmBpW,OAAS+C,EAAO/C,MAC1FrD,QAAS,SAACwK,KACVsP,OAAQgB,SAkBpBte,OAAOgB,KAAKsI,EAAQS,SAASrE,SAAQ,SAAAgE,GAEjCJ,EAAQS,QAAQL,GAAWhE,SAAQ,SAAA2Y,GAC/B,IAAMzU,EAAS,EAAKlC,KAAKe,QAAQ4V,EAASxU,aACpCyU,EAAkBC,MAAS,SAAA9b,GAC7B,EAAKsX,mBAAmBnQ,EAAO/C,KAAKpE,KACtC,KACFqa,EAAMuB,EAASxU,aAAe,CAC1BkG,MAAOnG,EAAO8U,cAAgB,OAAS,SACvCrb,MAAOuG,EAAOwU,KACd9Y,SAAUsE,EAAO4D,gBACjBxC,SAAU,CAACC,EAAE,EAAE3G,EAAE,EAAEC,EAAE,EAAEC,EAAE,GACzBwL,MAAO,CAAC1L,EAAuB,EAArBsF,EAAO8U,cAAgBna,EAAuB,EAArBqF,EAAO+U,cAAgBna,EAAuB,EAArBoF,EAAOgV,eACnE1B,cAAe,EAAKD,mBAAmBpW,OAAS+C,EAAO/C,KAAO,EAAKoW,mBAAmBC,cAAgB,WACtGxZ,MAAO,CAACgB,EAAE,IAAIC,EAAE,IAAIC,EAAE,IAAIC,EAAE,IAC5BoL,YAAa,EAAKgN,mBAAmBpW,OAAS+C,EAAO/C,KACrD2W,SAAU,EAAKX,UAAUhW,OAASyC,EAAQzC,MAAQ,EAAKoW,mBAAmBpW,OAAS+C,EAAO/C,MAC1FrD,QAAS,SAACwK,KACVsP,OAAQgB,GAEQ,EAAK5W,KAAKW,aAAagW,EAASpU,kBAAkB,aASlFjK,OAAOgB,KAAKJ,KAAK8G,KAAKY,WAAW5C,SAAQ,SAAAyC,GACrC,IAAMuR,EAAO,EAAKhS,KAAKY,UAAUH,GAC3BsH,EAAU,EAAKoN,UAAUhW,OAASsB,GAAiB,EAAK8U,mBAAmBpW,OAASsB,EACpF2W,EAAoB/B,EAA0BxW,SAAS4B,GAGzDzE,EAAK,eAAOe,IAQhB,GANmB,gBAAf,EAAKpB,OAA4BqW,EAAKhG,OAAO/D,UAGvB,WAAf,EAAKtM,OAAsBgC,GAAiBqU,EAAKpU,SAAS,EAAKoC,KAAKnC,kBAC3E7B,EAAK,eAAOuB,KAFZvB,EAAK,eAAOsB,IAIZ8Z,EAAmB,CACnB,IAAMzU,EAAM0S,EAA0B9b,QAAQkH,GAC9CzE,EAAMmB,EAAI,SAAC2G,GAAD,MAAQ,GAAIa,KAAKS,IAAIT,KAAK0S,GAAG1S,KAAK2S,IAAIxT,EAAK,IAAQ,IAAJnB,KAG7D,IAAMiU,EAAkBC,MAAS,SAAA9b,GAC7B,EAAKoX,iBAAiB1R,EAAc1F,GACpC,EAAKwc,4BAA4B,WAAW9W,KAC9C,KAEFyH,GAAiB8J,EAAM,EAAKrW,OAAOqC,SAAQ,SAACqK,EAAM5P,GAC9C2c,EAAM/M,EAAMlJ,MAAZ,2BACOkJ,GADP,IAEIE,YAAaR,EACb+N,QAAS/N,IAAYqP,EACrBpb,QACAwZ,cAAenN,EAAMlJ,KAAKN,SAAS,YAAckJ,EAAU,EAAKoN,UAAUK,cAAgB,WAC1FI,OAAQvN,EAAMlJ,KAAKN,SAAS,YAAckJ,GAA4C,aAAjC,EAAKoN,UAAUK,cAA+BoB,EAAkB,SAACtQ,aAQlIhO,OAAOgB,KAAKJ,KAAK8G,KAAKa,WAAW7C,SAAQ,SAAAuD,GACrC,IAAMyQ,EAAO,EAAKhS,KAAKa,UAAUU,GAC3BwG,EAAU,EAAKoN,UAAUhW,OAASoC,GAAiB,EAAKgU,mBAAmBpW,OAASoC,EACpF6V,EAAoB/B,EAA0BxW,SAAS0C,GAGzDvF,EAAK,eAAOoB,IAQhB,GANmB,gBAAf,EAAKzB,OAA4BqW,EAAKhG,OAAO/D,UAGvB,WAAf,EAAKtM,OAAsBgC,GAAiBqU,EAAKpU,SAAS,EAAKoC,KAAKnC,kBAC3E7B,EAAK,eAAOuB,KAFZvB,EAAK,eAAOsB,IAIZ8Z,EAAmB,CACnB,IAAMzU,EAAM0S,EAA0B9b,QAAQgI,GAC9CvF,EAAMmB,EAAI,SAAC2G,GAAD,MAAQ,GAAIa,KAAKS,IAAIT,KAAK0S,GAAG1S,KAAK2S,IAAIxT,EAAK,IAAQ,IAAJnB,KAG7D,IAAMiU,EAAkBC,MAAS,SAAA9b,GAC7B,EAAKoX,iBAAiB5Q,EAAcxG,GACpC,EAAKwc,4BAA4B,WAAWhW,KAC9C,KAEF2G,GAAiB8J,EAAM,EAAKrW,OAAOqC,SAAQ,SAAAqK,GAEvC+M,EAAM/M,EAAMlJ,MAAZ,2BACOkJ,GADP,IAEIE,YAAaR,EACb+N,QAAS/N,IAAYqP,EACrBpb,QACAwZ,cAAenN,EAAMlJ,KAAKN,SAAS,YAAckJ,EAAU,EAAKoN,UAAUK,cAAgB,WAC1FI,OAAQvN,EAAMlJ,KAAKN,SAAS,YAAckJ,GAA4C,aAAjC,EAAKoN,UAAUK,cAA+BoB,EAAkB,SAACtQ,aAM3H8O,GAEXoC,MAAO,WAAa,IAAD,OAETA,EAAQ,GA6Bd,OA5BAlf,OAAOyF,OAAO7E,KAAK8G,KAAKgB,cAAchD,SAAQ,SAAAiD,GAC1C,IAAM6U,EAAS,EAAKX,UAAUhW,OAAS8B,EAAW9B,MAAQ,EAAKoW,mBAAmBpW,OAAS8B,EAAW9B,KAClGsY,EAAQ,GACRxW,EAAWG,qBACXqW,EAAMrY,KAAK,EAAKY,KAAKY,UAAUK,EAAWG,sBAE9CH,EAAWK,eAAetD,SAAQ,SAAAuD,GAC9BkW,EAAMrY,KAAK,EAAKY,KAAKa,UAAUU,OAE/BN,EAAWI,mBACXoW,EAAMrY,KAAK,EAAKY,KAAKY,UAAUK,EAAWI,oBAE9C,IAAMqW,EAAWD,EAAMvY,KAAI,SAAAuE,GACvB,IAAIzH,EAAK,eAAOqB,IAQhB,MANmB,gBAAf,EAAK1B,OAA4B8H,EAAKuI,OAAO/D,UAGvB,WAAf,EAAKtM,OAAsBgC,GAAiB8F,EAAK7F,SAAS,EAAKoC,KAAKnC,kBAC3E7B,EAAK,eAAOuB,KAFZvB,EAAK,eAAOsB,IAIT,CACHM,SAAS6F,EAAK7F,SACd5B,YAGRwb,EAAMvW,EAAW9B,MAAQ,CAACiJ,KAAKnH,EAAWmH,KAAKsP,WAAS/b,MAAM,QAAQma,SAAO5b,MAAM,MAEhFsd,GAEXG,MAAO,WACH,MAAO,M,UC3UbC,GAAWC,aARH,SAAChJ,EAAKC,GAAN,mBAAC,uCZdS,SAACD,EAAKC,GAAN,MAAe,CAKrCnT,MAAO,SACPmc,aAAc5c,EAAYC,OAAZ,OACd4c,SAAU,SAACpc,GAAD,OAAWkT,GAAI,SAAAnP,GACvBA,EAAM/D,MAAQA,EACd+D,EAAMoY,aAAe5c,EAAYC,OAAOQ,GACF,UAAlC+D,EAAM6V,mBAAmBnZ,OAC3BsD,EAAMyV,UAAY,CAAE/Y,KAAM,KAAM+C,KAAM,MACtCO,EAAM6V,mBAAqB,CAAEnZ,KAAM,KAAM+C,KAAM,WAKnD6Y,YAAa,KACbC,eAAgB,SAACC,GAAD,OAAWrJ,GAAI,SAAAvI,GAAC,MAAK,CAAE0R,YAAaE,OACpDC,WAAY,kBAAMtJ,GAAI,SAAAvI,GAAC,MAAK,CAAE0R,YAAa,UAE3CI,aAAc,KACdC,gBAAiB,SAACC,GAAD,OAAYzJ,GAAI,SAAAvI,GAAC,MAAK,CAAE8R,aAAcE,OAEvDnD,UAAW,CAAE/Y,KAAM,KAAM+C,KAAM,KAAMqW,cAAe,MACpDG,aAAc,SAACvZ,EAAM+C,EAAMqW,GAAb,OAA+B3G,GAAI,SAAAnP,GAE/CA,EAAMyV,UAAY,CAAE/Y,KAAMA,EAAM+C,KAAMA,EAAMqW,cAAeA,OAE7D+C,eAAgB,kBAAM1J,GAAI,SAAAnP,GACxBA,EAAMyV,UAAY,CAAE/Y,KAAM,KAAM+C,KAAM,KAAMqW,cAAe,MAC3D9V,EAAM6V,mBAAqB,CAAEnZ,KAAM,KAAM+C,KAAM,KAAMqW,cAAe,UAGtEgD,WAAY,GACZC,cAAe,SAACC,GAAD,OAAU7J,GAAI,SAAAvI,GAAC,MAAK,CAAEkS,WAAYE,OACjDC,gBAAiB,kBAAM9J,GAAI,SAAAvI,GAAC,MAAK,CAAEkS,WAAY,QAE/CI,QAAS,UACTC,WAAY,SAACC,GAAD,OAAUjK,GAAI,SAAAvI,GAAC,MAAK,CAAEsS,QAASE,OAC3CvD,mBAAoB,CAAEnZ,KAAM,KAAM+C,KAAM,MACxC4Z,sBAAuB,SAAC3c,EAAM+C,EAAMqW,GAAb,OAA+B3G,GAAI,SAAAvI,GAAC,MAAK,CAAEiP,mBAAoB,CAAEnZ,OAAM+C,OAAMqW,sBACpGwD,wBAAyB,kBAAMnK,GAAI,SAAAvI,GAAC,MAAK,CAAEiP,mBAAoB,CAAEnZ,KAAM,KAAM+C,KAAM,WACnF8Z,gBAAgB,EAChBC,kBAAmB,SAAC7C,GAAD,OAAWxH,GAAI,SAAAvI,GAAC,MAAK,CAAE2S,eAAgB5C,OAC1D8C,oBAAqB,kBAAMtK,GAAI,SAAAvI,GAAC,MAAK,CAAE2S,gBAAgB,OACvDG,cAAe,SAACC,GAAD,OAASxK,GAAI,SAAAnP,GAC1B2Z,EAAIC,WAAWtb,SAAQ,SAAAub,GACjBrd,EAAW3C,QAAQggB,EAAiBC,iBAAmB,GACzD9Z,EAAM+Z,MAAMF,EAAiBC,eAAgB9Z,EAAMqE,IAAIwV,EAAiBC,wBAI9EzD,mBAAmB,EACnB2D,qBAAsB,SAACC,GAAD,OAAa9K,GAAI,SAAAnP,GACrCA,EAAMqW,kBAAoB4D,MAE5B1D,kBAAkB,EAClB2D,oBAAqB,SAACD,GAAD,OAAa9K,GAAI,SAAAnP,GACpCA,EAAMuW,iBAAmB0D,OY5CtBE,CAAShL,IRsEW,SAACA,GAAD,MAAU,CAEjCT,MAAO,GACPhF,OAAQ,GAgBR0Q,SAAU3T,GAAUuC,IAAa,SAAAqR,GAAO,kCAAOA,GAAP,IAAe3Q,OAAO,QAC9D4Q,mBAAoB,SAAC7a,EAAK0K,GAAN,OAAmBgF,GAAI,SAAAnP,GACvCA,EAAM0J,OAAOjK,GAAM0K,SAAWA,MAElCoQ,QAAS,kBAAMpL,GAAI,SAAAnP,GAEf,IAAIwa,EAAY,GACZC,EAAkBza,EAAMuV,qBAAqBvV,EAAMP,MACnDib,EAAc,GAClB9hB,OAAO+hB,QAAQ3a,EAAMoa,UAAU9b,SAAQ,YAAyB,IAAD,mBAAtBsc,EAAsB,KAAXP,EAAW,KAE3D,EAAmCrR,GAAa4R,GAAY1R,QAAQ,CAACM,QAAQxJ,EAAMyJ,SAASgR,EAAgB/L,MAAM1O,EAAM0O,QAAxH,mBAAKmM,EAAL,KAAuBC,EAAvB,KAEAJ,EAAW,2BAAOA,GAAeI,GAIjCT,EAAQ3Q,OAAOpL,SAAQ,SAAAyc,GACnB,IAAIC,EAAgBhb,EAAM0J,OAAOqR,GAC7BC,EAAc7Q,UACdvR,OAAO+hB,QAAQE,GAAkBvc,SAAQ,YAA2B,IAAD,mBAAxB2c,EAAwB,KAAZC,EAAY,KAE3DA,EAAS9Q,MAAM3K,OAASub,EAAc5Q,MAAM3K,MAASyb,EAASjR,kBAC9D4Q,EAAiBI,GAAa9Q,UAAW,SAMzDnK,EAAMoa,SAASQ,GAAYlR,OAAS9Q,OAAOgB,KAAKihB,GAChDL,EAAS,2BAAOA,GAAcK,MAGlC7a,EAAM0J,OAAS8Q,EAEfxa,EAAM0O,MAAMhP,KAAKgb,GACjB5Y,QAAQC,IAAIyY,QQ5HbW,CAAYhM,IACZD,GAASC,EAAIC,IC7BI,SAACD,EAAKC,GAAN,MAAe,CACnCgM,IAAK,sBAELC,OAAQ,SAACD,GAAD,OAASjM,GAAI,SAACvI,GAAD,MAAQ,CAAEwU,IAAKA,EAAKE,WAAY,oBACrDC,IAAK,KACLD,WAAY,eACZE,mBAAoB,KAEpBC,gCAAiC,KACjCC,2BAA4B,KAC5BC,4BAA6B,KAC7BC,2BAA4B,KAC5BC,4BAA6B,KAC7BC,aAAc,WACV3M,GAAI,SAACvI,GAAD,MAAQ,CAAE0U,WAAY,gBAC1B,IAAMS,EAAgB,CAClB9L,gBAAgBrX,OAAOyF,OAAO+Q,IAAM9O,KAAKnC,gBAAgByM,QAAO,SAAArM,GAAI,MAA4B,UAAxBA,EAAK+X,kBAC7EnG,iBAAiBvX,OAAOyF,OAAO+Q,IAAM9O,KAAKgP,iBAC1Ce,aAAa,IAEjBvO,QAAQC,IAAIga,GACZ3M,IAAMqM,gCAAgCO,QAAQ,CAAC1b,KAAK2b,KAAKC,UAAUH,KACnEI,WAAW/M,IAAMgN,qBAAqB,MAE1CC,QAAS,kBAAMlN,GAAI,SAACvI,GAAD,MAAQ,CAAE0U,WAAY,oBACzCgB,QAAS,kBAAMnN,GAAI,SAACvI,GAAD,MAAQ,CAAE0U,WAAY,oBACzCiB,QAAS,WACL,IAAMhB,EAAM,IAAIiB,KAAOC,IAAI,CAAErB,IAAKhM,IAAMgM,MACxCG,EAAImB,GAAG,aAActN,IAAM0M,cAC3BP,EAAImB,GAAG,QAAStN,IAAMiN,SACtBd,EAAImB,GAAG,QAAStN,IAAMkN,SAEtB,IAAMd,EAAqB,IAAIgB,KAAOG,MAAM,CACxCpB,IAAKA,EACL7S,KAAM,iBACNkU,YAAa,oBASXnB,EAAkC,IAAIe,KAAOG,MAAM,CACrDpB,IAAKA,EACL7S,KAAM,+BACNkU,YAAa,oBAGXlB,EAA6B,IAAIc,KAAOG,MAAM,CAChDpB,IAAKA,EACL7S,KAAM,yBACNkU,YAAa,qBAGXjB,EAA8B,IAAIa,KAAOG,MAAM,CACjDpB,IAAKA,EACL7S,KAAM,wBACNkU,YAAa,qBAGXhB,EAA6B,IAAIY,KAAOG,MAAM,CAChDpB,IAAKA,EACL7S,KAAM,wBACNkU,YAAa,qBAGXf,EAA8B,IAAIW,KAAOG,MAAM,CACjDpB,IAAKA,EACL7S,KAAM,uBACNkU,YAAa,qBAIXC,EAAiCzN,IAAM0N,yBACvCC,EAAiC3N,IAAM4N,yBAE7CrB,EAA4BsB,UAAUJ,GACtChB,EAA4BoB,UAAUF,GAEtCxB,EAAIgB,UACJpN,GAAI,iBAAO,CACPmM,WAAY,aACZC,MACAE,kCACAC,6BACAC,8BACAC,6BACAC,8BACAL,0BAIR0B,wBAAyB,SAACzd,EAAM0d,EAAO1b,GAAd,OAAwB0N,GAAI,SAAAnP,GACjD,IAAQod,EAAwB3b,EAAxB2b,oBACJpd,EAAMM,KAAKY,UAAUzB,IACrBO,EAAMM,KAAKY,UAAUzB,GAAM8D,OAAS6Z,EACpCpd,EAAMM,KAAKY,UAAUzB,GAAM6M,OAAS6Q,GAC7Bnd,EAAMM,KAAKa,UAAU1B,KAC5BO,EAAMM,KAAKa,UAAU1B,GAAM8D,OAAS6Z,EACpCpd,EAAMM,KAAKa,UAAU1B,GAAM6M,OAAS6Q,OAG5CL,yBAA0B,SAACnD,GACvB,MAAiCsC,KAAKoB,MAAM1D,EAAIrZ,MAAxC6c,EAAR,EAAQA,MAAO1b,EAAf,EAAeA,MAAO6b,EAAtB,EAAsBA,OACtBxb,QAAQC,IAAI,uCACZD,QAAQC,IAAI,CAAEob,QAAO1b,UACjB6b,IACAlO,IAAM8N,wBAAwBvD,EAAIve,GAAI+hB,EAAO1b,GAC7C7I,OAAOyF,OAAO+Q,IAAM9O,KAAKgB,cAAchD,SAAQ,SAAAiD,IACvCA,EAAWG,sBAAwBiY,EAAIve,IACvCmG,EAAWI,oBAAsBgY,EAAIve,IACrCmG,EAAWK,eAAezC,SAASwa,EAAIve,MACvCgU,IAAMmO,4BAA4Bhc,EAAW9B,WAM7Dud,yBAA0B,SAACrD,GAAD,OAASxK,GAAI,SAACnP,GACpC,MAAiCic,KAAKoB,MAAM1D,EAAIrZ,MAAxCqW,EAAR,EAAQA,MAAOlV,EAAf,EAAeA,MAAO6b,EAAtB,EAAsBA,OAGtB,GAFAxb,QAAQC,IAAI,uCACZD,QAAQC,IAAI,CAAC4U,QAAMlV,QAAM6b,WACrBA,EAAQ,CACR,IACIxY,EAE8CrD,EAF9CqD,SAAUwB,EAEoC7E,EAFpC6E,UAAWkX,EAEyB/b,EAFzB+b,oBACrBC,EAC8Chc,EAD9Cgc,oBAAqBC,EACyBjc,EADzBic,yBACrBN,EAA8C3b,EAA9C2b,oBAAqBO,EAAyBlc,EAAzBkc,sBACrB3d,EAAMM,KAAKgB,aAAaqY,EAAIve,MAC5B4E,EAAMM,KAAKgB,aAAaqY,EAAIve,IAAIqG,MAAQ,CACpCqD,WACAwB,YACA6G,WAAWqQ,EACXja,OAAO6Z,EACPQ,eAAeH,EACfI,gBAAgBH,EAChBpU,UAAUqU,EACVtN,aAAa,YAK7BwH,4BAA6B,SAACnb,EAAM+C,GAChC,IAAMqe,EAAW1O,IAAM9O,KAAKvD,GAAUL,IAAO+C,GACvCka,EAAM,CAAEve,GAAIqE,EAAMa,KAAM2b,KAAKC,UAAU,CAAE6B,MAAOD,KAC7B,cAArB1O,IAAMkM,YACNxZ,QAAQC,IAAI,mCAAqCtC,GACjD2P,IAAMsM,2BAA2BM,QAAQrC,IAEzC7X,QAAQC,IAAI,8DAGpBqa,mBAAoB,WAChBxjB,OAAOgB,KAAKwV,IAAM9O,KAAKY,WAAW5C,SAAQ,SAAA0N,GAAQ,OAAIoD,IAAMyI,4BAA4B,WAAY7L,MACpGpT,OAAOgB,KAAKwV,IAAM9O,KAAKa,WAAW7C,SAAQ,SAAA2N,GAAQ,OAAImD,IAAMyI,4BAA4B,WAAY5L,OAExGsR,4BAA6B,SAAC9d,GAC1B,IAAIue,EAAc,eAAQ5O,IAAM9O,KAAKgB,aAAa7B,IAClDue,EAAevc,MAAQ,KACvB,IAAIwc,EAAS,GACb,GAAID,EAAetc,oBAAnB,CAAyC,IAAD,EAC9BsK,EAAWoD,IAAM9O,KAAKY,UAAU8c,EAAetc,qBACrD,IAAI,UAACsK,EAASM,cAAV,aAAC,EAAiB/D,aAGtB0V,EAAOve,KAAKsM,GAIhBgS,EAAepc,eAAetD,SAAQ,SAAAuD,GAAkB,IAAD,EAC7CoK,EAAWmD,IAAM9O,KAAKa,UAAUU,IAClC,UAACoK,EAASK,cAAV,aAAC,EAAiB/D,YACtB0V,EAAOve,KAAKuM,MAEZ+R,EAAerc,mBAAnB,CAAuC,IAAD,EAC5BqK,EAAWoD,IAAM9O,KAAKY,UAAU8c,EAAerc,mBACrD,GAAI,UAACqK,EAASM,cAAV,aAAC,EAAiB/D,UAAtB,CACA0V,EAAOve,KAAKsM,GAIhB,IAAM2N,EAAM,CACRve,GAAIqE,EAAMa,KAAM2b,KAAKC,UAAU,CAC3B3a,WAAYyc,EACZC,YAGiB,cAArB7O,IAAMkM,YACNxZ,QAAQC,IAAI,wCAA0CtC,GACtD2P,IAAMwM,2BAA2BI,QAAQrC,IAEzC7X,QAAQC,IAAI,kEDlKjBmc,CAAS/O,EAAIC,MAIG,YAAC,eAAUiG,IAAX,IAAyB8I,WAAW,CAnB7C,SAACC,GAAD,OAAY,SAACjP,EAAKC,EAAKiP,GAAX,OACxBD,GACE,SAACE,EAASC,GACR,IAAMC,EACe,oBAAZF,EAAyBG,kBAAQH,GAAWA,EACrD,OAAOnP,EAAIqP,EAAWD,KAExBnP,EACAiP,SAcJnG,GAASwG,WAAWlP,WAAWmP,IAE/BzG,GAASwG,WAAWrD,OAAO,uBAEZnD,U,6FExCF0G,GAAc,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAEnBC,EAAQ5G,GAAS6G,uBAAY,SAAA/e,GAAK,OAAEA,EAAM0J,OAAOmV,KAAS,CAACA,KACjE,EAAgG3G,IAAS,SAAAlY,GAAK,MAAG,CAACA,EAAMsa,mBAAmBta,EAAMiW,aAAajW,EAAMoY,aAAcpY,EAAM6V,mBAAoB7V,EAAMqZ,0BAAlN,mBAAOiB,EAAP,KAA0BrE,EAA1B,KAAuCmC,EAAvC,KAAoDvC,EAApD,KAAuEwD,EAAvE,KAEA,OACA,cAAC,IAAK2F,KAAN,CACIC,MACI,eAAC,IAAD,CAAOja,UAAU,WAAWka,MAAM,SAAlC,WACMJ,EAAM7U,iBACJ,cAAC,KAAD,CAAQkV,KAAK,QAAQC,SAAUN,EAAM7U,gBAAiBoV,eAAgBP,EAAM3U,SAAUmV,SAAU,YAAMR,EAAM7U,iBAAmBqQ,EAAmBuE,GAASC,EAAM3U,aAEpK2U,EAAM1U,OAAS,cAAC,IAAD,CAAQhO,QAAS,WAAK6Z,EAAa6I,EAAM1U,MAAM1N,KAAKoiB,EAAM1U,MAAM3K,MAAM4Z,EAAsB,QAAQwF,IAAWU,KAAM,cAACC,GAAA,EAAD,SAG7I1kB,MAAO,CACH2kB,aAAc,EACdC,UAAW7J,EAAmBpW,OAASof,EAA5B,gCAA+DzG,GAAiB,KAC3FuH,gBAAiB9J,EAAmBpW,OAASof,EAA5B,UAAyCzG,EAAzC,MAA4D,UAC7EwH,OAAQ,EAAGC,QAAS,IAb5B,SAgBI,cAAC,IAAKb,KAAKc,KAAX,CACIhlB,MAAO,CAACilB,YAAY,IACpBC,OAAQ,cAAC,KAAD,CAAQllB,MAAO,CAAC6kB,gBAAiBb,EAAM7U,gBAAkB,UAAY,QAASsV,KAAMT,EAAM7U,gBAAkB,cAACgW,GAAA,EAAD,CAAcnlB,MAAO,CAACuB,SAAS,MAAS,cAAC6jB,GAAA,EAAD,CAAqBplB,MAAO,CAACuB,SAAS,QAClMhC,MAAOykB,EAAMzkB,MACb6P,YAAa4U,EAAM7U,gBAAgB,mDAAmD,wBCjB5FkW,I,OAAa,SAACngB,EAAOogB,GAAR,OAAsI,IAA/GpgB,EAAMoa,SAASgG,GAAW1W,OAAOlK,KAAI,SAAAqf,GAAO,OAAE7e,EAAM0J,OAAOmV,MAAUjU,QAAO,SAAAkU,GAAK,OAAGA,EAAM3U,YAAUlR,SAExIonB,GAAS,CACX,CAAElnB,IAAK,SAAUkB,MAAO,kBAAmB+f,SAAU,CAAC,mBAAoB,gBAAiB,cAAe,aAAc,cACxH,CAAEjhB,IAAK,UAAWkB,MAAO,kBAAmB+f,SAAU,CAAC,gBAAiB,oBAAqB,eAAgB,iBAAkB,gBAC/H,CAAEjhB,IAAK,cAAekB,MAAO,oBAAqB+f,SAAU,CAAC,eAAgB,aAAc,mBAAoB,UAAW,eAC1H,CAAEjhB,IAAK,WAAYkB,MAAO,sBAAuB+f,SAAU,CAAC,YAAa,WAAY,wBAIlF,SAASkG,GAAT,GAA8D,IAAtCF,EAAqC,EAArCA,UAAWG,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,eAEjD,EAA0BtI,IAAS,SAAAlY,GAAK,MAAG,CAACA,EAAM/D,MAAM+D,EAAMqY,aAA9D,mBAAOpc,EAAP,KAAcoc,EAAd,KACA,EAAsEH,GAAS6G,uBAAY,SAAA/e,GACzF,IAAM0I,EAAO1I,EAAMoa,SAASgG,GAAW1X,KACjC+X,EAAWzgB,EAAMoa,SAASgG,GAAW1W,OACrCS,EAAWgW,GAAWngB,EAAMogB,GAC5BjX,EAAeqX,EAAiBxgB,EAAMoa,SAASgG,GAAWjX,aAAayB,QAAO,SAAA8V,GAAG,OAAGP,GAAWngB,EAAM0gB,MAAQ,GAC7GC,EAAWxX,EAAa3J,KAAI,SAAAkhB,GAAG,OAAE1gB,EAAMoa,SAASsG,GAAKhY,QACrDkY,EAAYzX,EAAa3J,KAAI,SAAAkhB,GAAG,OAXrB,SAACN,GAAD,OAAeC,GAAOzV,QAAO,SAAAA,GAAM,OAAEA,EAAOwP,SAASvgB,QAAQumB,IAAY,KAAG,GAAGjnB,IAWxD0nB,CAAaH,MACrD,MAAO,CAAChY,EAAM+X,EAAUtW,EAAUhB,EAAcwX,EAAUC,KAE5D,CAACR,EAAWI,KATZ,mBAAO9X,EAAP,KAAa+X,EAAb,KAAuBtW,EAAvB,KAAiChB,EAAjC,KAA+CwX,EAA/C,KAAyDC,EAAzD,KAWA,OACE,cAAC,IAAK5B,KAAN,CAAWlkB,MAAO,CAAC8kB,OAAO,EAAEC,QAAQ,GAApC,SACI,eAAC,IAAD,CAAO7a,UAAU,WAAWlK,MAAO,CAACN,MAAM,QAA1C,UACK2O,EAAa3J,KAAI,SAACkhB,EAAI3nB,GAAL,OACd,eAAC,IAAD,CAEImmB,MAAM,SACN4B,QAAQ,gBACRhmB,MAAO,CACH+kB,QAAQ,GACRkB,aAAa,EAAEC,UAAU,GAAGC,WAAW,EAAElB,YAAY,EACrDN,aAAa,EACbyB,OAAO,aAAD,OAAe1lB,EAAYC,OAAOmlB,EAAU7nB,KAClD4mB,gBAAgB,GAAD,OAAInkB,EAAYC,OAAOmlB,EAAU7nB,IAAjC,OATvB,UAUQ,uBAAM+B,MAAO,CAACilB,YAAY,IAA1B,qBAAuC,4BAAIY,EAAS5nB,KAApD,wBACEkD,IAAU2kB,EAAU7nB,IAAQ,cAACoD,EAAD,CAAaF,MAAO2kB,EAAU7nB,GAAImD,QAAQ,EAAOK,KAAI,gBAAW8jB,GAAOtnB,GAAGsB,OAAS+B,QAAS,kBAAIic,EAASuI,EAAU7nB,SAVhJ2nB,MAab,cAAC,KAAD,CACIS,YAAcZ,EAAiB,WAAP,KACxBa,WAAY,gBAAGC,EAAH,EAAGA,SAAH,OAAkB,cAACC,GAAA,EAAD,CAAoBxmB,MAAO,CAACwB,MAAM,SAAUilB,OAAQF,EAAW,GAAK,KAClGvmB,MAAO,CACH0mB,KAAK,EACL/B,aAAc,EACdgC,QAAUlB,EAAc,GAAJ,EACpBZ,gBAAiB,UACjBqB,UAAW,EAAGC,WAAY,EAAGlB,YAAa,EAAGgB,aAAa,GAC9DW,mBAAmB,QATvB,SAWI,cAAC,KAASC,MAAV,CAAgB7mB,MAAO,CAAC8kB,OAAO,GAAIgC,OAAQ,sBAAM9mB,MAAO,CAACwB,MAAM,SAApB,SAA+BoM,IAAsBuW,MAAO,cAAC,KAAD,CAAQ4C,gBAAgB,QAAQC,QAAS3X,IAAhJ,SACI,cAAC,IAAD,CACI4X,OAAO,EACPC,WAAYvB,EACZwB,WAAY,SAACnD,GAAD,OACR,cAAC,GAAD,CAAyBD,QAASC,GAAhBA,OAL8D,YCxD5G,I,GAGMuB,GAAS,CACX,CAAElnB,IAAK,SAAUkB,MAAO,kBAAmB+f,SAAU,CAAC,mBAAoB,gBAAiB,cAAe,aAAc,cACxH,CAAEjhB,IAAK,UAAWkB,MAAO,kBAAmB+f,SAAU,CAAC,gBAAiB,oBAAqB,eAAgB,iBAAkB,gBAC/H,CAAEjhB,IAAK,cAAekB,MAAO,oBAAqB+f,SAAU,CAAC,eAAgB,aAAc,mBAAoB,UAAW,eAC1H,CAAEjhB,IAAK,WAAYkB,MAAO,sBAAuB+f,SAAU,CAAC,YAAa,WAAY,wBAG5E8H,GAAa,SAACtb,GACvB,MAAiDsR,IAAS,SAAAlY,GAAK,MAAK,CAChEA,EAAM/D,MACN+D,EAAMqY,SACNrY,EAAMua,QACN8F,GAAO7gB,KAAI,SAAA2iB,GAAS,OAAEld,KAAKmd,IAAL,MAAAnd,KAAI,YAAQkd,EAAU/H,SAAS5a,KAAI,SAAC4gB,EAAUnd,GAAX,OAd/C,SAACjD,EAAOogB,GAAR,OAAuBpgB,EAAMoa,SAASgG,GAAWjX,aAAayB,QAAO,SAAA8V,GAAG,OADvE,SAAC1gB,EAAOogB,GAAR,OAAsI,IAA/GpgB,EAAMoa,SAASgG,GAAW1W,OAAOlK,KAAI,SAAAqf,GAAO,OAAE7e,EAAM0J,OAAOmV,MAAUjU,QAAO,SAAAkU,GAAK,OAAGA,EAAM3U,YAAUlR,OACjDknB,CAAWngB,EAAM0gB,MAAMznB,OAAS,EAc3CopB,CAAUriB,EAAMogB,GAAWnd,EAAI,eACzGqf,MALJ,mBAAOC,EAAP,KAAgBlK,EAAhB,KAA0BkC,EAA1B,KAAmCiI,EAAnC,KAOMC,EAAWpC,GAAO7gB,KAAI,SAAAvD,GAAK,OAAEA,EAAM9C,OAAKU,QAAQ0oB,GAEtD,OACI,sBAAKznB,MAAO,CAAEL,OAAQ,OAAQioB,YAAa,GAAIC,aAAc,GAAIC,cAAe,GAAIC,QAAS,OAAQC,cAAe,UAApH,UACI,cAAC,IAAD,CAAOhoB,MAAO,CAAEgoB,cAAe,MAAOD,QAAS,OAAQE,eAAgB,gBAAiBnD,OAAQ,GAAhG,SACKS,GAAO7gB,KAAI,SAAAvD,GAAK,OACb,cAACE,EAAD,CAEIC,QAAS,kBAAMic,EAASpc,EAAM9C,MAC9B8C,MAAOA,EAAM9C,IACb+C,OAAQqmB,IAAYtmB,EAAM9C,IAC1BoD,KAAMN,EAAM5B,OAJP4B,EAAM9C,UAOvB,cAAC,IAAD,CACI8lB,MAAO,cAAC,IAAD,CAAQM,KAAM,cAACyD,EAAA,EAAD,IAAiB5mB,QAASme,EAAxC,qBACPzf,MAAO,CAAE0mB,KAAM,GACfyB,UAAW,CAAEpD,QAAS,EAAGplB,OAAO,sBAAsByoB,SAAS,QAC/D7oB,MAAM,SAJV,SAMI,qBAAKS,MAAO,CAAEL,OAAQ,OAAQ0oB,YAAa,EAAGC,YAAa5nB,EAAYC,OAAO8mB,IAA9E,SACI,cAAC,IAAD,CACIR,OAAO,EACPC,WAAY3B,GAAOoC,GAAUrI,SAC7B6H,WAAY,SAAC5H,EAAQpX,GAAT,OACR,cAACqd,GAAD,CAAeF,UAAW/F,EAASkG,QAAStd,GAAOuf,EAAUC,GAAWjC,eAAgBvd,IAAQuf,EAAUC,gB,wGC9C/H,SAASY,KAEd,MAIInL,IAAS,SAAAlY,GAAK,MAAK,CAACA,EAAMkZ,QAASlZ,EAAMmZ,WAAYnZ,EAAMqW,kBAAmBrW,EAAMga,qBAAsBha,EAAMuW,iBAAkBvW,EAAMka,uBAAuBoI,MAJnK,mBACEpJ,EADF,KACWC,EADX,KAEE9C,EAFF,KAEqB2D,EAFrB,KAGEzD,EAHF,KAGoB2D,EAHpB,KAMA,OAEE,eAAC,IAAD,WACE,cAAC,KAAD,CAASoJ,UAAU,MAAMjpB,MAAmB,YAAZ6e,EAAwB,SAAW,SAAnE,SACE,cAAC,IAAD,CACExc,KAAK,UACL6iB,KAAkB,YAAZrG,EAAwB,cAACqK,GAAA,EAAD,IAAyB,cAACC,GAAA,EAAD,IACvDpnB,QAAS,kBAAM+c,EAAuB,YAAZD,EAAwB,WAAa,gBAGnE,cAAC,KAAD,CAASoK,UAAU,MAAMjpB,MAAM,OAA/B,SACE,cAAC,IAAD,CACEqC,KAAK,UACL6iB,KAAM,cAACkE,GAAA,EAAD,IACNrnB,QAAS,kBAAM0F,QAAQC,IAAI,aAG/B,cAAC,KAAD,CAASuhB,UAAU,MAAMjpB,MAAM,QAA/B,SACE,cAAC,IAAD,CACEqC,KAAK,UACL6iB,KAAM,cAACmE,GAAA,EAAD,IACNtnB,QAAS,kBAAM0F,QAAQC,IAAI,cAG/B,cAAC,KAAD,CAASuhB,UAAU,MAAMjpB,MAAM,UAA/B,SACE,cAAC,IAAD,CACEqC,KAAK,UACL6iB,KAAM,cAACoE,GAAA,EAAD,IACNvnB,QAAS,kBAAM0F,QAAQC,IAAI,gBAG/B,cAAC,KAAD,CACE1H,MAAM,YACNipB,UAAU,cACVM,QACE,eAAC,KAAD,WACE,cAAC,IAAD,UACE,cAAC,KAAD,CACE9B,QAASzL,EACTiJ,SAAU,kBAAMtF,GAAsB3D,IAFxC,+BAOF,cAAC,IAAD,UACE,cAAC,KAAD,CACEyL,QAASvL,EACT+I,SAAU,kBAAMpF,GAAqB3D,IAFvC,uCAdR,SAwBE,cAAC,IAAD,CACE7Z,KAAK,UACL6iB,KAAM,cAACC,GAAA,EAAD,WCvET,IAAMqE,GAAQ9nB,IAAO+nB,IAAV,scAgBY,SAAAvpB,GAAK,OAAEA,EAAMwpB,aACV,SAAAxpB,GAAK,OAAEA,EAAMwpB,aCfxCC,GAAa,CACftb,KAAM,QACNwB,YAAa,0FAEX+Z,GAAe,CACjBvb,KAAM,UACNwB,YAAa,oEAGXga,GAAO,CACTpQ,MAAO,CACHpL,KAAM,QACNwB,YAAa,mDAMjB8J,SAAU,CACNtL,KAAM,WACNwB,YAAa,mDAEjBia,QAAS,CACLzb,KAAM,aACNwB,YAAa,yEAEjBka,cAAe,CACX1b,KAAM,iCACNwB,YAAa,4FAEjBma,cAAe,CACX3b,KAAM,6BACNwB,YAAa,oFAEjBoa,mBAAoB,CAChB5b,KAAM,iCACNwB,YAAa,4IAEjBqa,iBAAkB,CACd7b,KAAM,+BACNwB,YAAa,sJAEjBsa,YAAa,CACT9b,KAAM,eACNwB,YAAa,+JAEjBgK,UAAW8P,GACX7P,kBAAmB6P,GACnB5P,kBAAmB4P,GACnB1P,iBAAkB0P,GAClBzP,gBAAiByP,GACjBxP,gBAAiBwP,GACjBvP,gBAAiBuP,GACjBtP,gBAAiBuP,GACjBtP,mBAAoBsP,GACpBrP,oBAAqBqP,GACrBpP,kBAAmBoP,GACnBnP,mBAAoBmP,GACpBlP,wBAAyBkP,GACzBjP,yBAA0BiP,GAC1BhP,qBAAsBgP,GACtB/O,sBAAuB+O,I,iGCjDpB,SAASQ,GAAS7d,GAErB,MAQIsR,IAAS,SAAAlY,GAET,IAAI0kB,EAAY,KACZC,EAAqB,KACrBC,EAAe,KAcnB,MAb6B,UAAzB5kB,EAAMyV,UAAU/Y,KAChBgoB,EAAY,CAACjlB,KAAKO,EAAMyV,UAAUhW,KAAK/C,KAAKsD,EAAMyV,UAAU/Y,MAC5B,YAAzBsD,EAAMyV,UAAU/Y,KACvBgoB,EAAY,CAACjlB,KAAKO,EAAMP,KAAKiJ,KAAK1I,EAAM0I,KAAKwB,YAAYlK,EAAMkK,aACxDlK,EAAMyV,UAAU/Y,OACvBgoB,EAAY1kB,EAAMM,KAAKvD,GAAUiD,EAAMyV,UAAU/Y,OAAOsD,EAAMyV,UAAUhW,OAExEO,EAAM6V,mBAAmBnZ,MAA0C,UAAlCsD,EAAM6V,mBAAmBnZ,KAC1DioB,EAAqB3kB,EAAMM,KAAKvD,GAAUiD,EAAM6V,mBAAmBnZ,OAAOsD,EAAM6V,mBAAmBpW,MAC1D,UAAlCO,EAAM6V,mBAAmBnZ,OAChCkoB,EAAe5kB,EAAM0J,OAAO1J,EAAM6V,mBAAmBpW,OAGlD,CACHO,EAAMyV,UACNzV,EAAM0Y,aACN1Y,EAAM/D,MACN+D,EAAMoY,aACNsM,EACAC,EACAC,KAELtC,MAnCH,mBACI7M,EADJ,KAEIiD,EAFJ,KAGIzc,EAHJ,KAIImc,EAJJ,KAKIsM,EALJ,KAMIC,EANJ,KAOIC,EAPJ,KAqCA,EAAoCC,mBAAS,GAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KAEIC,EAAO,CACP,CACI3qB,MAAO,UACP4qB,SAAU,0BAIZC,EAAc,CAACxM,eAAazc,QAAMmc,eAAasM,YAAUC,qBAAmBC,gBAsBlF,GApBuB,UAAnBnP,EAAU/Y,KACVsoB,EDCD,YAA0G,EAAnFG,WAAmF,EAAxEC,SAAwE,EAA/DnpB,MAAgE,IAA1Dmc,EAAyD,EAAzDA,aAAasM,EAA4C,EAA5CA,UAA6BE,GAAe,EAAlCD,mBAAkC,EAAfC,cAE1FI,EAAO,GAiCX,OAhCIJ,GACAI,EAAKtlB,KACD,CACIrF,MAAOuqB,EAAavqB,MACpB4qB,SAAS,8BACL,eAACpB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,6BAAKwM,EAAa1a,cACjB0a,EAAa3a,iBACV,iCACI,uBACA,uBACA,kIAQ5B+a,EAAKtlB,KACD,CACIrF,MAAM,+BAAO6pB,GAAKQ,EAAUjlB,MAAMiJ,OAClCuc,SAAS,8BACJP,GACG,eAACb,GAAD,CAAOE,UAAU,gBAAjB,UACI,4CAAeG,GAAKQ,EAAUjlB,MAAMiJ,QACnCwb,GAAKQ,EAAUjlB,MAAMyK,mBAMnC8a,ECpCIK,CAAaH,GACM,aAAnBzP,EAAU/Y,MAAyC,cAAjBgc,EACzCsM,ECjED,YAAuE,IAA7C/oB,EAA4C,EAA5CA,MAAMmc,EAAsC,EAAtCA,aAAasM,EAAyB,EAAzBA,UAAUE,EAAe,EAAfA,aACtDI,EAAO,GAgEX,OA/DIJ,GACAI,EAAKtlB,KACD,CACIrF,MAAOuqB,EAAavqB,MACpB4qB,SAAS,8BACL,eAACpB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,6BAAKwM,EAAa1a,cACjB0a,EAAa1a,YAAY/K,SAAS,cACnC,iCACI,uBADJ,aACuB,cAAC,KAAD,CAASmkB,UAAU,MAAMjpB,MAAM,0FAA/B,SAAyH,sBAAMS,MAAO,CAACwB,MAAM8b,GAApB,0BADhJ,miBAQCwM,EAAa3a,iBACV,iCACI,uBACA,uBACA,kOAQ5B+a,EAAKtlB,KACD,CACIrF,MAAM,+BAAOqqB,EAAYA,EAAUhc,KAAO,cAC1Cuc,SAAS,gCACJP,GACG,eAACb,GAAD,CAAOE,UAAU,gBAAjB,UACI,qDACCW,EAAUxa,eAGnB,eAAC2Z,GAAD,CAAOE,UAAU,gBAAjB,UACI,qDADJ,2HAGI,cAAC,KAAD,CAAST,UAAU,MAAMjpB,MAAM,kHAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,cAJR,iEAUW,WAAVnc,GACG,eAAC4nB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,oBAAItd,MAAO,CAACwB,MAAM8b,GAAlB,6BADJ,sLAKO,gBAAVnc,GACG,eAAC4nB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,oBAAItd,MAAO,CAACwB,MAAM8b,GAAlB,+BADJ,0UAQT4M,EDAIM,CAAgBJ,GACG,aAAnBzP,EAAU/Y,MAAyC,cAAjBgc,EACzCsM,EEnED,YAAuE,IAA7C/oB,EAA4C,EAA5CA,MAAMmc,EAAsC,EAAtCA,aAAasM,EAAyB,EAAzBA,UAAUE,EAAe,EAAfA,aACtDI,EAAO,GAgEX,OA/DIJ,GACAI,EAAKtlB,KACD,CACIrF,MAAOuqB,EAAavqB,MACpB4qB,SAAS,8BACL,eAACpB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,6BAAKwM,EAAa1a,cACjB0a,EAAa1a,YAAY/K,SAAS,cACnC,iCACI,uBADJ,aACuB,cAAC,KAAD,CAASmkB,UAAU,MAAMjpB,MAAM,0FAA/B,SAAyH,sBAAMS,MAAO,CAACwB,MAAM8b,GAApB,0BADhJ,miBAQCwM,EAAa3a,iBACV,iCACI,uBACA,uBACA,kOAQ5B+a,EAAKtlB,KACD,CACIrF,MAAM,+BAAOqqB,EAAYA,EAAUhc,KAAO,cAC1Cuc,SAAS,gCACJP,GACG,eAACb,GAAD,CAAOE,UAAU,gBAAjB,UACI,qDACCW,EAAUxa,eAGnB,eAAC2Z,GAAD,CAAOE,UAAU,gBAAjB,UACI,qDADJ,qEAGI,cAAC,KAAD,CAAST,UAAU,MAAMjpB,MAAM,2MAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,oBAJR,wKAUW,WAAVnc,GACG,eAAC4nB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,oBAAItd,MAAO,CAACwB,MAAM8b,GAAlB,6BADJ,sLAKO,gBAAVnc,GACG,eAAC4nB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,oBAAItd,MAAO,CAACwB,MAAM8b,GAAlB,+BADJ,oNAQT4M,EFEIO,CAAgBL,GACG,YAAnBzP,EAAU/Y,MAAwC,aAAjBgc,EACxCsM,EGrED,YAA4G,EAAnFG,WAAmF,EAAxEC,SAAyE,IAAhEnpB,EAA+D,EAA/DA,MAAMmc,EAAyD,EAAzDA,aAAasM,EAA4C,EAA5CA,UAA6BE,GAAe,EAAlCD,mBAAkC,EAAfC,cAC5FI,EAAO,GAsDX,OArDIJ,GACAI,EAAKtlB,KACD,CACIrF,MAAOuqB,EAAavqB,MACpB4qB,SAAS,8BACL,eAACpB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,6BAAKwM,EAAa1a,cACjB0a,EAAa3a,iBACV,iCACI,uBACA,uBACA,sNAQ5B+a,EAAKtlB,KACD,CACIrF,MAAM,+BAAOqqB,EAAYA,EAAUhc,KAAO,aAC1Cuc,SAAS,gCACJP,GACG,eAACb,GAAD,CAAOE,UAAU,gBAAjB,UACI,oDACCW,EAAUxa,eAGnB,eAAC2Z,GAAD,CAAOE,UAAU,gBAAjB,UACI,oDADJ,8EAGI,cAAC,KAAD,CAAST,UAAU,MAAMjpB,MAAM,0DAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,cAJR,wCAQI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,8FAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,eATR,+DAeW,WAAVnc,GACG,eAAC4nB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,oBAAItd,MAAO,CAACwB,MAAM8b,GAAlB,6BADJ,8LAQT4M,EHcIQ,CAAeN,GACI,UAAnBzP,EAAU/Y,MAAsC,WAAjBgc,EACtCsM,EIvED,YAA0G,EAAnFG,WAAmF,EAAxEC,SAAyE,IAAhEnpB,EAA+D,EAA/DA,MAAMmc,EAAyD,EAAzDA,aAAasM,EAA4C,EAA5CA,UAA6BE,GAAe,EAAlCD,mBAAkC,EAAfC,cAC1FI,EAAO,GAwEX,OAvEIJ,GACAI,EAAKtlB,KACD,CACIrF,MAAOuqB,EAAavqB,MACpB4qB,SAAS,8BACL,eAACpB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,6BAAKwM,EAAa1a,cAEjB0a,EAAa3a,iBACV,iCACI,uBACA,uBACA,+NAQ5B+a,EAAKtlB,KACD,CACIrF,MAAM,+BAAOqqB,EAAYA,EAAUhc,KAAO,WAC1Cuc,SAAS,gCACJP,GACG,eAACb,GAAD,CAAOE,UAAU,gBAAjB,UACI,kDACCW,EAAUxa,eAGnB,eAAC2Z,GAAD,CAAOE,UAAU,gBAAjB,UACI,kDADJ,oHAGI,cAAC,KAAD,CAAST,UAAU,MAAMjpB,MAAM,2GAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,gBAJR,uCAQI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,mHAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,kCATR,OAeW,WAAVnc,GACG,eAAC4nB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,oBAAItd,MAAO,CAACwB,MAAM8b,GAAlB,6BADJ,+KAKO,gBAAVnc,GACG,eAAC4nB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,oBAAItd,MAAO,CAACwB,MAAM8b,GAAlB,+BADJ,+MAGI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,mHAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,iCAJR,OAUO,aAAVnc,GACG,eAAC4nB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,oBAAItd,MAAO,CAACwB,MAAM8b,GAAlB,iCADJ,qLAQT4M,EJFIS,CAAaP,GACM,YAAnBzP,EAAU/Y,MAAuC,OAAjBgc,EACvCsM,EKzED,YAA4G,EAAnFG,WAAmF,EAAxEC,SAAyE,IAAhEnpB,EAA+D,EAA/DA,MAAMmc,EAAyD,EAAzDA,aAAasM,EAA4C,EAA5CA,UAA6BE,GAAe,EAAlCD,mBAAkC,EAAfC,cAC5FI,EAAO,GA2EX,OA1EIJ,GACAI,EAAKtlB,KACD,CACIrF,MAAOuqB,EAAavqB,MACpB4qB,SAAS,8BACL,eAACpB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,6BAAKwM,EAAa1a,cACjB0a,EAAa3a,iBACV,iCACI,uBACA,uBACA,kIAQ5B+a,EAAKtlB,KACD,CACIrF,MAAM,+BAAOqqB,EAAYA,EAAUhc,KAAO,YAC1Cuc,SAAS,gCACJP,GACG,eAACb,GAAD,CAAOE,UAAU,gBAAjB,UACI,mDACCW,EAAUxa,eAGnB,eAAC2Z,GAAD,CAAOE,UAAU,gBAAjB,UACI,sDADJ,sCAGI,cAAC,KAAD,CAAST,UAAU,MAAMjpB,MAAM,oIAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,eAJR,OAQI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,kFAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,mBATR,sCAeW,YAAVnc,GACG,eAAC4nB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,oBAAItd,MAAO,CAACwB,MAAM8b,GAAlB,6BADJ,sCAGI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,oIAA/B,SACA,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,eAJJ,OAQI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,kFAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,mBATR,8DAaI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,6EAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,cAdR,uBAoBO,aAAVnc,GACG,eAAC4nB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,oBAAItd,MAAO,CAACwB,MAAM8b,GAAlB,iCADJ,qKAQT4M,ELHIU,CAAeR,GACI,UAAnBzP,EAAU/Y,KACjBsoB,EM3ED,YAA0G,EAAnFG,WAAmF,EAAxEC,SAAyE,IAAhEnpB,EAA+D,EAA/DA,MAAMmc,EAAyD,EAAzDA,aAAasM,EAA4C,EAA5CA,UAA6BE,GAAe,EAAlCD,mBAAkC,EAAfC,cAC1FI,EAAO,GAgEX,OA/DIJ,GACAI,EAAKtlB,KACD,CACIrF,MAAOuqB,EAAavqB,MACpB4qB,SAAS,8BACL,eAACpB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,6BAAKwM,EAAa1a,cACjB0a,EAAa3a,iBACV,iCACI,uBACA,uBACA,kIAQ5B+a,EAAKtlB,KACD,CACIrF,MAAM,+BAAOqqB,EAAYA,EAAUhc,KAAO,UAC1Cuc,SAAS,gCACJP,GACG,eAACb,GAAD,CAAOE,UAAU,gBAAjB,UACI,kDACCW,EAAUxa,eAGnB,eAAC2Z,GAAD,CAAOE,UAAU,gBAAjB,UACI,kDADJ,iGAGI,cAAC,KAAD,CAAST,UAAU,MAAMjpB,MAAM,oIAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,eAJR,OAQI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,kFAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,mBATR,OAeW,YAAVnc,GACG,eAAC4nB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,oBAAItd,MAAO,CAACwB,MAAM8b,GAAlB,6BADJ,sCAGI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,oIAA/B,SACA,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,eAJJ,OAQI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,kFAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,mBATR,0BAkBT4M,ENUIW,CAAaT,GACM,cAAnBzP,EAAU/Y,KACjBsoB,EO7ED,YAA8G,EAAnFG,WAAmF,EAAxEC,SAAyE,IAAhEnpB,EAA+D,EAA/DA,MAAMmc,EAAyD,EAAzDA,aAAasM,EAA4C,EAA5CA,UAA6BE,GAAe,EAAlCD,mBAAkC,EAAfC,cAC9FI,EAAO,GAsDX,OArDIJ,GACAI,EAAKtlB,KACD,CACIrF,MAAOuqB,EAAavqB,MACpB4qB,SAAS,8BACL,eAACpB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,6BAAKwM,EAAa1a,cACjB0a,EAAa3a,iBACV,iCACI,uBACA,uBACA,kIAQ5B+a,EAAKtlB,KACD,CACIrF,MAAM,+BAAOqqB,EAAYA,EAAUhc,KAAO,YAC1Cuc,SAAS,gCACJP,GACG,eAACb,GAAD,CAAOE,UAAU,gBAAjB,UACI,mDACCW,EAAUxa,eAGnB,eAAC2Z,GAAD,CAAOE,UAAU,gBAAjB,UACI,oDADJ,+EAGI,cAAC,KAAD,CAAST,UAAU,MAAMjpB,MAAM,wEAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,eAJR,8EAUW,YAAVnc,GACG,eAAC4nB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,oBAAItd,MAAO,CAACwB,MAAM8b,GAAlB,6BADJ,+GAGI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,6EAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,cAJR,4BAaT4M,EPsBIY,CAAiBV,GACE,eAAnBzP,EAAU/Y,OACjBsoB,EQ/ED,YAA+G,EAAnFG,WAAmF,EAAxEC,SAAyE,IAAhEnpB,EAA+D,EAA/DA,MAAMmc,EAAyD,EAAzDA,aAAasM,EAA4C,EAA5CA,UAA6BE,GAAe,EAAlCD,mBAAkC,EAAfC,cAC/FI,EAAO,GA2EX,OA1EIJ,GACAI,EAAKtlB,KACD,CACIrF,MAAOuqB,EAAavqB,MACpB4qB,SAAS,8BACL,eAACpB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,6BAAKwM,EAAa1a,cACjB0a,EAAa3a,iBACV,iCACI,uBACA,uBACA,kIAQ5B+a,EAAKtlB,KACD,CACIrF,MAAM,+BAAOqqB,EAAYA,EAAUhc,KAAO,YAC1Cuc,SAAS,gCACJP,GACG,eAACb,GAAD,CAAOE,UAAU,gBAAjB,UACI,mDACCW,EAAUxa,eAGnB,eAAC2Z,GAAD,CAAOE,UAAU,gBAAjB,UACI,sDADJ,sCAGI,cAAC,KAAD,CAAST,UAAU,MAAMjpB,MAAM,oIAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,eAJR,OAQI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,kFAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,mBATR,sCAeW,YAAVnc,GACG,eAAC4nB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,oBAAItd,MAAO,CAACwB,MAAM8b,GAAlB,6BADJ,sCAGI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,oIAA/B,SACA,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,eAJJ,OAQI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,kFAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,mBATR,8DAaI,cAAC,KAAD,CAASkL,UAAU,MAAMjpB,MAAM,6EAA/B,SACI,uBAAMS,MAAO,CAACwB,MAAM8b,GAApB,UACK,IADL,cAdR,uBAoBO,aAAVnc,GACG,eAAC4nB,GAAD,CAAOE,UAAW3L,EAAlB,UACI,oBAAItd,MAAO,CAACwB,MAAM8b,GAAlB,iCADJ,qKAQT4M,ERGIa,CAAkBX,IAGzBN,GAAgBA,EAAava,UAAW,CACxC,IAAIyb,ESpFL,YAAyG,EAAnFX,WAAmF,EAAxEC,SAAwE,EAA/DnpB,MAA+D,EAAzDmc,aAAyD,EAA5CsM,UAA4C,EAAlCC,mBAAmC,IAAhBC,EAAe,EAAfA,aACzFI,EAAO,GACLvpB,EAASmpB,EAAava,UAAUwD,WAChCkY,EAAantB,OAAOgB,KAAKgrB,EAAava,UAAUuD,OAAO,IAAI3U,OAAS,EACpE+sB,EAAiBpB,EAAava,UAAUuD,OAAO3U,OAAS,EAAIgM,KAAKyI,MAAMkX,EAAava,UAAUuD,OAAO3U,OAAS,GAAK,EAyBzH,OAxBA+rB,EAAKtlB,KACD,CACIrF,MAAM,yCACN4qB,SAAS,sBAAKnqB,MAAO,CAAEN,MAAO,OAAQyrB,UAAU,QAASxrB,OAAQ,OAAQyrB,KAAM,SAAtE,UAC6B,KAAjCtB,EAAava,UAAUhQ,OAAgB,oBAAIS,MAAO,CAACqrB,UAAW,UAAvB,SAAmCvB,EAAava,UAAUhQ,QAClG,cAAC+rB,GAAA,EAAD,CAAqB5rB,MAAM,MAAM6rB,OAAQ,EAAzC,SACI,eAACC,GAAA,EAAD,CAAWhmB,KAAMskB,EAAava,UAAUuD,OAAxC,UACI,cAAC2Y,GAAA,EAAD,CAAeC,gBAAgB,QAC/B,cAACC,GAAA,EAAD,CAAOC,QAAQ,IAAIC,SAAUX,EAA7B,SACI,cAACY,GAAA,EAAD,CAAOlmB,MAAOkkB,EAAava,UAAUyD,WAAY+Y,QAAS,EAAG3oB,SAAS,mBAE1E,cAAC4oB,GAAA,EAAD,CAAOC,MAAO,CAAErmB,MAAOkkB,EAAava,UAAU0D,WAAYhI,OAAQ,GAAI7H,SAAU,gBAC/EtF,OAAOgB,KAAKgrB,EAAava,UAAUuD,OAAO,IAAIpO,KAAI,SAACwnB,EAAO/jB,GACvD,GAAc,MAAV+jB,EACA,OAAO,cAACC,GAAA,EAAD,CAAMvqB,KAAK,SAASgqB,QAASM,EAAmBE,OAAQzrB,EAAOwH,EAAI,GAAIkkB,KAAK,GAAnCH,MAGxD,cAACI,GAAA,EAAD,CAASC,aAAc,CAAC1H,gBAAiB,aACxCoG,GAAc,cAACuB,GAAA,EAAD,CAAQC,cAAc,MAAMC,OAAO,aAAatI,MAAM,oBAMlF8F,ETuDQyC,CAAYvC,GACvBF,EAAOA,EAAK0C,OAAO5B,GAGvB,OACI,sBAAKhrB,MAAO,CAACL,OAAO,sBAAsBklB,gBAAgB,wBAAyBE,QAAS,GAAIJ,aAAc,GAA9G,UACI,cAAC,IAAD,CAAK3kB,MAAO,CAAC8kB,OAAO,GAApB,SACKoF,EAAKxlB,KAAI,SAACmoB,EAAI5uB,GAAL,OACLA,IAAI+rB,GAAmB,IAAJ/rB,GAAS+rB,GAAcE,EAAK/rB,OAC5C,qBAEEimB,MAAM,SACNpkB,MAAO,CACL2kB,aAAa,EACbmI,WAAW,UACXC,WAAW,IACXptB,OAAO,GACPooB,QAAQ,eACRsD,UAAU,SACVxG,gBAAgBvH,EAChB0P,YAAa,eACbC,WAAY,OACZlI,QAAQ,WACRE,YAAY,GACZ1jB,SAAS,IAfb,SAgBKsrB,EAAIttB,OAfFtB,GAkBP,cAAC,IAAD,CAEI+B,MAAO,CAACilB,YAAY,IACpBrjB,KAAK,QACLN,QAAS,kBAAI2oB,EAAchsB,IAJ/B,SAIoC4uB,EAAIttB,OAH/BtB,QAQrB,qBAAK+B,MAAO,CAACL,OAAO,sBAAsBklB,gBAAgB,kBAAmBqB,UAAU,GAAInB,QAAS,GAAIJ,aAAc,EAAGnjB,MAAM,QAAS0rB,UAAU,UAAlJ,SACKhD,EAAKF,GAAcE,EAAKF,GAAYG,SAAWD,EAAK,GAAGC,cUnHjE,ICVH,GAAI,GDUKgD,GAAgB,SAACrhB,GAE1B,IAAMwR,EAAeF,IAAS,SAAAlY,GAAK,OAAIA,EAAMoY,gBACvCS,EAAiBX,IAAS,SAAAlY,GAAK,OAAGA,EAAM6Y,kBAE9C,OACI,sBAAK/d,MAAO,CAACL,OAAO,qBAAqBolB,QAAQ,IAAjD,UACI,cAAC,IAAD,CACI/kB,MAAO,CAACL,OAAO,IAAIsmB,aAAa,IAChCmH,UAAW,CAACztB,OAAO,IACnBwoB,UAAW,CAACpD,QAAQ,EAAEplB,OAAO,IAAImlB,OAAO,GACxCX,MAAO,cAACoE,GAAD,IACPhpB,MAAM,YALV,SAMQ,qBACIS,MAAO,CAACL,OAAO,OAAOklB,gBAAiBvH,EAAcyH,QAAS,EAAGrlB,MAAM,QAD3E,SAGI,cAAC,SAAD,CACI2tB,YAAY,EACZC,aAAa,EACbC,SAAS,EACT1I,gBAAgB,UAChB2I,WAAW,UACXC,eAAgBnQ,EAChBoQ,OAAQ,IACRC,IAAK,GACLC,MAAOxQ,GACPyQ,gBAAiB9P,QAKjC,cAAC4L,GAAD,Q,6DExCCmE,GACA,CACLC,QAAQ,CACJC,QAAQ,GACRxF,UAAU,aAJTsF,GAOD,CACJrpB,aAAa,CACTupB,QAAQ,CACJ,qCACA,wCAEJxF,UAAU,SAbTsF,GAgBA,CACLG,IAAI,CACAD,QAAQ,CACJ,eACA,gBACA,qCACA,wBACA,4BACA,0BACA,uDACA,kDACA,iDACA,iDACA,kCACA,iCACA,6BACA,+BACA,mBACA,gBACA,gBACA,aACA,mBAEJxF,UAAU,WAvCTsF,GA0C+B,CACpCrpB,aAAa,CACTupB,QAAQ,CACJ,wBACA,4BACA,0BACA,uDACA,kDACA,iDACA,iDACA,kCACA,iCACA,6BACA,gCAEJxF,UAAU,aAzDTsF,GA4D6B,CAClCrpB,aAAa,CACTupB,QAAQ,CACJ,wBACA,4BACA,0BACA,uDACA,kDACA,iDACA,iDACA,kCACA,iCACA,6BACA,gCAEJxF,UAAU,aA3ETsF,GA8EuB,CAC5BrpB,aAAa,CACTupB,QAAQ,CACJ,wBACA,4BACA,0BACA,uDACA,kDACA,iDACA,iDACA,kCACA,iCACA,6BACA,gCAEJxF,UAAU,a,qDC9Ff0F,GAAkB,UAClBC,GAAc,UAwBNC,GAtBK,CAChB,wBAAwBF,GACxB,4BAA4BA,GAC5B,0BAA0BA,GAC1B,uDAAuDA,GACvD,kDAAkDA,GAClD,iDAAiDA,GACjD,iDAAiDA,GACjD,kCAAkCA,GAClC,iCAAiCA,GACjC,6BAA6BC,GAC7B,qCAAqCA,GACrC,uCAAuC,UACvC,+BAA+B,UAC/B,mBAAoB,UACpBhd,SAAU,UACVvJ,MAAO,UACPsJ,SAAU,UACV9J,QAAS,UACTX,WAAY,W,sEFpBZ,GAAY,CAAC,QAAS,WAE1B,SAAS,KAA2Q,OAA9P,GAAW3I,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASqwB,GAAahvB,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,OACPC,OAAQ,OACRC,QAAS,gBACTC,MAAO,6BACPC,WAAY,+BACZC,SAAU,WACVC,MAAO,CACLC,SAAU,UACVC,SAAU,UACVC,eAAgB,QAChBC,iBAAkB,GAEpBC,IAAKf,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3De,GAAId,GACHD,GAAS,KAAM,KAAO,GAAkB,gBAAoB,IAAK,CAClEgB,UAAW,0CACG,gBAAoB,OAAQ,CAC1CC,EAAG,yIACC,KAAQ,GAAmB,gBAAoB,IAAK,CACxDD,UAAW,oCACG,gBAAoB,OAAQ,CAC1CC,EAAG,gXAIP,IG7CI,GH6CA,GAA0B,aAAiB6tB,IG3C3C,IH4CW,I,OG5CC,CAAC,QAAS,YAE1B,SAAS,KAA2Q,OAA9P,GAAWvwB,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASswB,GAAYjvB,EAAMC,GACzB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,OACPC,OAAQ,OACRC,QAAS,gBACTC,MAAO,6BACPC,WAAY,+BACZC,SAAU,WACVC,MAAO,CACLC,SAAU,UACVC,SAAU,UACVC,eAAgB,QAChBC,iBAAkB,GAEpBC,IAAKf,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3De,GAAId,GACHD,GAAS,KAAM,KAAO,GAAkB,gBAAoB,IAAK,CAClEgB,UAAW,+CACG,gBAAoB,OAAQ,CAC1CC,EAAG,wWAIP,ICzCI+tB,GDyCA,GAA0B,aAAiBD,ICvC3C,IDwCW,ICxCC,CAAC,QAAS,YAE1B,SAAS,KAA2Q,OAA9P,GAAWxwB,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASwwB,GAAQnvB,EAAMC,GACrB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDQ,MAAO,6BACPH,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTS,IAAKf,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3De,GAAId,GACHD,GAAS,KAAMgvB,KAAUA,GAAqB,gBAAoB,OAAQ,CAC3E/tB,EAAG,6sBAIP,IC/BI,GAAI,GAAK,GD+BT,GAA0B,aAAiBguB,IC7B3C,ID8BW,IC9BC,CAAC,QAAS,YAE1B,SAAS,KAA2Q,OAA9P,GAAW1wB,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASywB,GAASpvB,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,OACPC,OAAQ,OACRC,QAAS,gBACTC,MAAO,6BACPC,WAAY,+BACZC,SAAU,WACVC,MAAO,CACLC,SAAU,UACVC,SAAU,UACVC,eAAgB,QAChBC,iBAAkB,GAEpBC,IAAKf,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3De,GAAId,GACHD,GAAS,KAAM,KAAO,GAAkB,gBAAoB,IAAK,CAClEgB,UAAW,kDACG,gBAAoB,OAAQ,CAC1CC,EAAG,kFACC,KAAQ,GAAmB,gBAAoB,IAAK,CACxDD,UAAW,kDACG,gBAAoB,OAAQ,CAC1CC,EAAG,kFACC,KAAQ,GAAmB,gBAAoB,IAAK,CACxDD,UAAW,2DACG,gBAAoB,OAAQ,CAC1CC,EAAG,sFAIP,ICjDI,GDiDA,GAA0B,aAAiBiuB,IC/C3C,IDgDW,IChDC,CAAC,QAAS,YAE1B,SAAS,KAA2Q,OAA9P,GAAW3wB,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAAS0wB,GAAYrvB,EAAMC,GACzB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,OACPC,OAAQ,OACRC,QAAS,gBACTC,MAAO,6BACPC,WAAY,+BACZC,SAAU,WACVC,MAAO,CACLC,SAAU,UACVC,SAAU,UACVC,eAAgB,QAChBC,iBAAkB,GAEpBC,IAAKf,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3De,GAAId,GACHD,GAAS,KAAM,KAAO,GAAkB,gBAAoB,IAAK,CAClEgB,UAAW,+CACG,gBAAoB,OAAQ,CAC1CC,EAAG,yQAIP,ICzCI,GDyCA,GAA0B,aAAiBkuB,IE3BzCC,IF4BS,IE5BD,CACZ,QAAWC,GACX,SAAYC,GACZ,YAAeC,GACf,MAASA,GACT,SAAYC,GACZ,WAAcC,KAGVC,GAAY,SAACzX,EAAM0X,GACvB,QAAKA,EAAU,GAAGlB,QAAQ3oB,MAAK,SAAAzD,GAAI,OAAIA,IAAS4V,EAAK5V,YAEzCstB,EAAU7pB,MAAK,SAAA8pB,GAAQ,OAAIA,EAASxqB,OAAS6S,EAAKvT,WAAWU,SAAkC,WAAzB6S,EAAKvT,WAAWrC,OAMvFwtB,GAAY,SAAZA,EAAa,GAcnB,IAAD,EAbJ5pB,EAaI,EAbJA,KACA2C,EAYI,EAZJA,IACA+mB,EAWI,EAXJA,UACA/pB,EAUI,EAVJA,QACAkqB,EASI,EATJA,SACAC,EAQI,EARJA,OACAC,EAOI,EAPJA,aACAC,EAMI,EANJA,aACAC,EAKI,EALJA,aACAC,EAII,EAJJA,cACAC,EAGI,EAHJA,aACA1rB,EAEI,EAFJA,WACA2rB,EACI,EADJA,MAOQC,EAAmBrqB,EAAnBqqB,SAAUlrB,EAASa,EAATb,KAOlB,EAAwCmrB,cAAQ,iBAAO,CACrDluB,KAAM4D,EAAK5D,KACX4V,KAAM,WAAwB,OAAlBxQ,QAAQC,IAAIzB,GAAa,2BAAKA,GAAZ,IAAkBvB,aAAY0rB,eAAcxnB,MAAKknB,cAC/EU,QAAS,CAAEC,WAAYL,GACvBM,QAAS,SAAAnkB,GAAC,OAAK0jB,GACfU,QAAS,SAAAC,GAAO,MAAK,CACnBC,WAAYD,EAAQC,mBANxB,mBAASA,EAAT,KAASA,WAAcC,EAAvB,KAA6BC,EAA7B,KAUA,EAA8BvG,oBAAS,GAAvC,mBAAOwG,EAAP,KAAgBC,EAAhB,KAGA,EAAqCC,aAAQ,CAC3CC,OAAQxB,EAAU,GAAGlB,QACrB2C,KAAM,SAACC,EAAW9kB,GAChBwjB,EAAOsB,IAETC,QAAS,SAACD,EAAW9kB,GACnB,OAAI2jB,GAEUR,GAAU2B,EAAW1B,IAErCgB,QAAS,SAAAC,GAAO,MAAK,CACnBW,OAAQX,EAAQW,SAChBC,SAAUZ,EAAQa,cAZtB,0BAASF,EAAT,EAASA,OAAQC,EAAjB,EAAiBA,SAAYJ,EAA7B,KAgBA,EAEkCvT,IAAS,SAAAlY,GAAK,MAAK,CACjDA,EAAM/D,MAAO+D,EAAMyV,UACnBzV,EAAMiW,aAAcjW,EAAM6Y,kBAC1ByJ,MALJ,mBACErmB,EADF,KACSwZ,EADT,KAEEQ,EAFF,KAEgB4C,EAFhB,KAMMxQ,EAAUoN,EAAUhW,OAASA,EAE7BssB,EAAiC,WAAtB/B,EAAU,GAAGvqB,KACxBusB,EAAM,UAAG/rB,EAAQR,UAAX,aAAG,EAAewsB,KACxBC,EAAWF,GAAU3B,EAErB8B,EAAa,CACjBxM,gBACEuJ,GAAyB,gBAAbyB,EAA6B,QAAUA,GACrDlwB,OAAQ,GACRD,MAAO,OACPilB,aAAc,EACdI,QAAS,EACT3hB,SAAU,WACVkuB,OAAQ/jB,EAAU,IAAM,EACxBoZ,QAASmK,GAA4B,YAAlBpB,GAA+BqB,EAAW,GAAM,GAG/DQ,GAAe9B,GAAgBqB,GAA4B,YAAlBpB,GAA+BqB,GAAY9B,GAAU8B,EAAU7B,GAAa6B,EAAWvrB,EAEtI,OACE,eAAC,IAAMgsB,SAAP,WACGV,GAA4B,WAAlBpB,GAA8BqB,GACvC,cAAC3B,EAAD,CACEF,UAAWA,EACX/mB,IAAK,EACL3C,KAAMurB,EACN5rB,QAASA,EACTqqB,cAAY,EACZC,cAAY,EACZE,aAAa,SAEjB,qBAAKtvB,IAAKovB,EAAe,KAAOkB,EAAhC,SACE,qBAAKtwB,IAAKiwB,EAAShV,OAAQ8U,GAA+B,SAAjBT,EAAyB3vB,MAAOqxB,EAAYI,UAAWlkB,EAAO,gBAAYpM,GAAU,KAA7H,SACE,eAAC,IAAD,CAAKuwB,MAAM,EAAO1xB,MAAO,CAAEuB,SAAU,GAAIwmB,QAAS,OAAQC,cAAe,OAAS5D,MAAM,SAAS4B,QAAQ,gBAAzG,UACE,eAAC,IAAD,CAAK3lB,IAAKkwB,EAAU,KAAOF,EAAMqB,MAAM,EAAOtN,MAAM,SAASpkB,MAAO,CAAE4kB,UAAW2L,EAAU,gCAAkC,KAAMjI,YAAa,QAASzD,gBAAiB,wBAAyBF,aAAc,EAAGI,QAAS,EAAGsG,UAAW,QAAS3E,KAAM,EAAGiL,SAAU,IAAKC,SAAU,IAAKC,OAAQrC,EAAe,cAAgB,OAAQ8B,OAAQ,IAAKrM,YAAa,EAAGtlB,OAAQ,IAA/W,UACE,cAACmyB,EAAA,EAAD,CAAM9xB,MAAO,CAAEmmB,WAAY,GAAK4L,UAAWpD,GAAMkB,KACjD,cAAC,KAAD,CAAO7vB,MAAO,CAAE4xB,SAAU,IAAKpwB,MAAO,QAASqwB,OAAQtB,EAAU,OAASf,EAAe,cAAgB,QAAUwC,UAAU,EAAO1N,UAAWiM,EAAS3qB,MAAgC,gBAAzB2rB,EAAY1B,SAA6B0B,EAAYviB,aAAapB,KAAO2jB,EAAY3jB,KAAM4W,SAAU,SAACvJ,GAAD,OAAOsU,EAAatU,EAAEjd,OAAO4H,aAEnS,eAAC,IAAD,CAAK8rB,MAAM,EAAO1xB,MAAO,CAAEN,MAAO,GAAIuyB,cAAe,aAAc5G,UAAW,SAAWjH,MAAM,SAAS4B,QAAQ,MAAhH,UACGuL,EAAYW,SAAW,cAACC,GAAA,EAAD,CAAgBnyB,MAAO,CAAEilB,YAAaiM,EAAS,EAAI,KAAU,cAACkB,GAAA,EAAD,CAAcpyB,MAAO,CAAEilB,YAAa,KAExHmM,GACC,cAAC,KAAD,CAAUiB,QACR,eAAC,KAAD,WACGnB,GACC,eAAC,KAAKhN,KAAN,CAAsB5iB,QAAS,YAAkB,EAAfgxB,SAA0BpX,kBAAmB6C,IAAkB5C,EAAa0U,EAAUrqB,EAAKb,OAA7H,UACE,cAAC4tB,GAAA,EAAD,IAAgB,IADlB,QACyC,gBAAb1C,EAA6B,QAAUA,IADpD,QAIhBN,GACC,eAAC,KAAKrL,KAAN,CAAsB5iB,QAAS,YAAkB,EAAfgxB,SAA0BpX,kBAAmBsV,GAAYD,IAA3F,UACE,cAACiC,GAAA,EAAD,IAAiBjC,EAAU,gBAAkB,eADhC,SAIfU,GAAYzrB,EAAKitB,YACjB,eAAC,KAAKvO,KAAN,CAAuB5iB,QAAS+tB,EAAhC,UACE,cAACqD,GAAA,EAAD,IAAmB,IADrB,UAAe,YAbrB,SAkBE,cAAC,IAAD,CACE9wB,KAAK,OACL6iB,KAAM,cAACC,GAAA,EAAD,SAKX,cAYN0L,GAA+B,SAAjBT,IAA4BC,M,oBCtK7CX,GAAY,SAAC8B,EAAU7B,GACzB,QAAKA,EAAU,GAAGlB,QAAQ3oB,MAAK,SAAAzD,GAAI,OAAIA,IAASmvB,EAASnvB,YAE7CstB,EAAU7pB,MAAK,SAAA8pB,GAAQ,OAAIA,EAASxqB,OAASosB,EAAS9sB,WAAWU,SAAsC,WAA7BosB,EAAS9sB,WAAWrC,OAMjG+wB,GAAoB,SAAC,GAAwE,IAAtEzD,EAAqE,EAArEA,UAAW/pB,EAA0D,EAA1DA,QAASmqB,EAAiD,EAAjDA,OAAQG,EAAyC,EAAzCA,aAAc9vB,EAA2B,EAA3BA,OAAQizB,EAAmB,EAAnBA,QAAS3vB,EAAU,EAAVA,IAErF4vB,EAAa,CACfnC,OAAQxB,EAAU,GAAGlB,QACrB2C,KAAM,SAACnZ,EAAM1L,GAAP,OAAawjB,EAAO9X,IAC1BqZ,QAAS,SAACrZ,EAAM1L,GACZ,OAAI2jB,GAGOR,GAAUzX,EAAM0X,IAG/BgB,QAAS,SAAAC,GAAO,MAAK,CACjBW,OAAQX,EAAQW,SAChBC,SAAUZ,EAAQa,aAM1B,EAAwCP,aAAQoC,GAAhD,0BAAS/B,EAAT,EAASA,OAAQC,EAAjB,EAAiBA,SAAY+B,EAA7B,KASMC,EAAcjC,GAAUC,IAAatB,GAAgBR,GAAU8B,EAAU7B,GAG/E,EAA4B8D,eAA5B,mBAAOC,EAAP,KACMC,EADN,KACyBvzB,OAASA,EAASizB,EAAU,EAC/C7G,EAAS9oB,EAAMtD,GAAU,EAAIizB,EAAU,EAAIjzB,GAAU,EAAIizB,EAEzDO,EAAeC,qBAAU,CAAEzzB,OAAQuzB,EAAY5P,OAAQA,UAAO+P,QAEpE,OACI,sBACIhzB,IAAKyyB,EACL9yB,MAAO,CAEHN,MAAO,OACP0D,SAAU,WAEV2hB,QAAS,EACTplB,OAAQozB,EAAc,KAAOH,GARrC,UAYI,qBACI5yB,MAAO,CACHoD,SAAU,WACVkuB,OAAQ,GACRgC,KAAM,EAAI3zB,EAAS,EACnBgnB,QAAS,GAEThnB,OAAQA,EAAS,KAGzB,cAAC,WAASqpB,IAAV,CAAchpB,MAAOmzB,EAArB,SACI,sBAAK9yB,IAAK4yB,EAAV,UACKF,GAAehC,EAASnvB,KAAKyC,SAAS,SACnC,qBAAKrE,MAAO,CAAE2mB,QAAS,GAAK2M,IAAKvH,EAAQ3oB,SAAU,YAAnD,SACI,cAAC,GAAD,CACI8rB,UAAWA,EACX/mB,IAAK,EACL3C,KAAMurB,EACN5rB,QAASA,EACTqqB,cAAY,EACZC,cAAY,EACZE,aAAa,WAGxBoD,GAAehC,EAASnvB,KAAKyC,SAAS,cACnC,qBAAKrE,MAAO,CAAE2mB,QAAS,GAAK2M,IAAKvH,EAAQ3oB,SAAU,YAAnD,SACI,cAAC,GAAD,CACI8rB,UAAWA,EACX/mB,IAAK,EACLorB,WAAYxC,EACZ5rB,QAASA,EACTqqB,cAAY,EACZC,cAAY,EACZ+D,QAAM,EACN7D,aAAa,gBAKjC,qBACI3vB,MAAO,CACHoD,SAAU,WACVkuB,OAAQ,GACRmC,OAAQ9zB,EAAS,EACjBgnB,QAAS,GAEThnB,OAAQA,EAAS,SClGxB+zB,GAAkB,SAAC,GAAgG,IAA9FH,EAA6F,EAA7FA,WAAY5uB,EAAiF,EAAjFA,KAAMuqB,EAA2E,EAA3EA,UAAW/pB,EAAgE,EAAhEA,QAASlB,EAAuD,EAAvDA,WAAY0rB,EAA2C,EAA3CA,aAAcH,EAA6B,EAA7BA,aAAcH,EAAe,EAAfA,SAE9G,EAAiEjS,GAAS6G,uBAAY,SAAA/e,GACpF,IAAMM,EAAO+tB,IAA0BruB,EAAMM,KAAKgB,aAAa7B,GAAQO,EAAMM,KAAKgB,aAAa7B,GAAQ,CAACA,KAAK,SAASmC,eAAe,KACrI,MAAO,CACL5B,EAAMyV,UAAUhW,OAASa,EAAKb,KAC9Ba,EACAA,EAAKoB,oBAAsB1B,EAAMM,KAAKY,UAAUZ,EAAKoB,qBAAuB,KAC5EpB,EAAKsB,eAAepC,KAAI,SAAAC,GAAI,OAAIO,EAAMM,KAAKa,UAAU1B,MACrDa,EAAKqB,kBAAoB3B,EAAMM,KAAKY,UAAUZ,EAAKqB,mBAAqB,QAEzE,CAAC0sB,EAAY5uB,IAAQ6iB,MATxB,mBAAOja,EAAP,KAAgB/H,EAAhB,KAAsBmuB,EAAtB,KAAsCttB,EAAtC,KAAiDutB,EAAjD,KAWA,EAG2CxW,IAAS,SAAAlY,GAAK,MAAI,CACzDA,EAAM/D,MACN+D,EAAM6Y,eACN7Y,EAAMuS,gBACNvS,EAAMiW,aACNjW,EAAMmR,uBACNnR,EAAMyR,yBACNzR,EAAM0R,yBACmB,OAAzB1R,EAAMyV,UAAU/Y,QAChB4lB,MAZJ,mBACErmB,EADF,KACS4c,EADT,KACyBtG,EADzB,KAC0C0D,EAD1C,KAEE9E,EAFF,KAE0BM,EAF1B,KAGEC,EAHF,KAaMid,EAbN,OAakCtmB,EAE5B0jB,EAAiC,WAAtB/B,EAAU,GAAGvqB,KACxBmvB,GAAkB7C,GAAYzrB,EAAK0sB,SAIzC,EAAwCpC,cAAQ,iBAAO,CACrDluB,KAAM4D,EAAK5D,KACX4V,KAAM,8BAAC,eAAShS,GAAV,IAAgBvB,aAAY0rB,eAAcN,cAChDU,QAAS,CAAEC,WAAYL,GACvBO,QAAS,SAAAC,GAAO,MAAK,CACnBC,WAAYD,EAAQC,mBALxB,mBAASA,EAAT,KAASA,WAAcC,EAAvB,KAA6BC,EAA7B,KASA,EAAgDvG,oBAAS,GAAzD,mBAAOgK,EAAP,KAAyBC,EAAzB,KAEA,EAAkChB,eAAlC,mBAAOiB,EAAP,KAAsBt0B,EAAtB,KAAsBA,OAChBu0B,EAAgBd,oBAAU,CAAEzzB,OAAQA,EAAQ2jB,OAAQA,SAAO+P,QAE3Dc,EAAS,CACbtP,gBACEuJ,GAAY5oB,EAAK5D,MACnBupB,UAAW,GACXwG,SAAU,IACVhN,aAAc,EACdG,OAAQ,EACRC,QAAS,EACT3hB,SAAU,WACVkuB,OAAQ/jB,EAAU,IAAM,GAGpB6mB,EAA2B,CAC/B,CAAEzvB,KAAMa,EAAKb,KAAMqpB,QAAS,CAAC,mBADE,mBAE5BkB,IAGCmF,GAA2B,CAC/B,CAAE1vB,KAAMa,EAAKb,KAAMqpB,QAAS,CAAC,mBADE,mBAE5BkB,IAGCoF,GAAa,CACjB3P,aAAc,EACdG,OAAQ,kBACRC,QAAS,EACTF,gBAAiB,mBAGb0P,GAAiB,CACrB1P,gBAAiB,wBACjBF,aAAc,EACdG,OAAQ,mBACRC,QAAS,WACTxjB,SAAU,GACV5B,OAAQ,IAGJ60B,GAAY,SAACC,GACbA,EAASxwB,WAAWU,OAASA,GAAkC,SAA1B8vB,EAAS9E,cAChDlY,EAAgB,aAAc9S,EAAM8vB,EAASxwB,WAAWoT,MAAO,MAC/DI,EAAgB,aAAc9S,EAAM,sBAAuB8vB,EAAS9vB,OAEpE8S,EAAgB,aAAc9S,EAAM,sBAAuB8vB,EAAS9vB,OAIlE+vB,GAAe,SAACD,EAAUtsB,GAC9B,GAAIssB,EAASxwB,WAAWU,OAASA,GAAkC,SAA1B8vB,EAAS9E,aAAyB,CACzE,IAAMgF,EAASF,EAAStsB,KAAOA,EAAMA,EAAM,EAAIA,EAC/C,GAAIwsB,IAAWF,EAAStsB,IACtB,OAEFkO,EAAuBoe,EAAS9vB,KAAM8vB,EAASxwB,WAAWU,KAAMA,EAAM8vB,EAAStsB,IAAKwsB,QAEpFhe,EAAyB8d,EAAS9vB,KAAMA,EAAMwD,IAI5CysB,GAAU,SAACH,GACXA,EAASxwB,WAAWU,OAASA,GAAkC,SAA1B8vB,EAAS9E,cAChDlY,EAAgB,aAAc9S,EAAM8vB,EAASxwB,WAAWoT,MAAO,MAC/DI,EAAgB,aAAc9S,EAAM,oBAAqB8vB,EAAS9vB,OAElE8S,EAAgB,aAAc9S,EAAM,oBAAqB8vB,EAAS9vB,OAItE,OACE,sBAAK2W,OAAQ8U,GAA+B,SAAjBT,EAAyBtvB,IAAKiwB,EAAStwB,MAAOm0B,EAAQ1C,UAAWlkB,EAAO,gBAAYpM,GAAU,KAAMG,QAAS,SAAC2Z,GAAQA,EAAEC,kBAAmB2Y,GAAa9V,KAAnL,UACE,eAAC,IAAD,CAAK/d,MAAO,CAAEuB,SAAU,GAAI0kB,aAAc,GAAK7B,MAAM,SAAS4B,QAAQ,gBAAtE,UACE,eAAC,KAAD,CAAK3lB,IAAKmvB,EAAe,KAAOa,EAAMwE,KAAM,GAAI70B,MAAO,CAAE6kB,gBAAiB,wBAAyBF,aAAc,EAAGI,QAAS,EAAGsG,UAAW,QAASwG,OAAQrC,EAAe,cAAgB,QAA3L,UACE,cAACsC,EAAA,EAAD,CAAM9xB,MAAO,CAAEmmB,WAAY,GAAK4L,UAAW/C,KAAkB,IAAKxpB,EAAKoI,QAEzE,eAAC,KAAD,CAAKinB,KAAM,EAAG9I,OAAQ,EAAG/rB,MAAO,CAAEqrB,UAAW,OAA7C,UACGyI,EAAiB,cAAC3B,GAAA,EAAD,IAAqB,cAACC,GAAA,EAAD,IACvC,cAAC,KAAD,CAAUC,QACR,eAAC,KAAD,WACE,eAAC,KAAKnO,KAAN,CAAsB5iB,QAAS,YAAkB,EAAfgxB,SAA0BpX,kBAAmB6C,IAAkB5C,EAAa,aAAc3V,EAAKb,OAAjI,UACE,cAAC4tB,GAAA,EAAD,IAAgB,IADlB,oBAAe,SAGbtB,GAAYzrB,EAAKitB,YACjB,eAAC,KAAKvO,KAAN,CAAuB5iB,QAAS+tB,EAAhC,UACE,cAACqD,GAAA,EAAD,IAAmB,IADrB,UAAe,YANrB,SAWE,cAAC,IAAD,CACE9wB,KAAK,OACL5B,MAAO,CAAEmmB,WAAY,GACrB1B,KAAM,cAACC,GAAA,EAAD,cAKd,sBAAK1kB,MAAOs0B,GAAZ,UACE,eAAC,IAAD,CAAKlQ,MAAM,SAASpkB,MAAO,CAAEimB,aAAc,GAA3C,UAEE,cAAC,KAAD,CAAK4O,KAAK,KAAV,uBACA,cAAC,KAAD,CAAKA,KAAK,IAAV,SACE,cAAC,IAAD,CACEvQ,SAAU2M,EACV3vB,QAAS,kBAAM0yB,GAAqBD,IACpCnyB,KAAK,OACL6iB,KAAMsP,EACJ,cAACe,GAAA,EAAD,IAEA,cAACC,GAAA,EAAD,WAKR,cAAC,WAAS/L,IAAV,CAAchpB,MAAK,aAAIooB,SAAU,UAAa8L,GAA9C,SACE,sBAAK7zB,IAAK4zB,EAAV,UACGF,GACC,eAAC,IAAD,CAAK3P,MAAM,SAASpkB,MAAOs0B,GAA3B,UACE,cAAC,KAAD,CAAKO,KAAK,IAAV,0BACA,eAAC,KAAD,CAAKA,KAAK,KAAK70B,MAAO,CAAEqrB,UAAW,SAAnC,UACsB,UAAnB7lB,EAAKwvB,UACJ,sBAAMh1B,MAAOu0B,GAAb,gBAEA,cAAC,IAAD,CAAQ3yB,KAAK,OAAO0iB,UAAWwP,EAAgBxyB,QAAS,kBAAMmW,EAAgB,aAAc9S,EAAM,YAAa,UAA/G,gBAEkB,UAAnBa,EAAKwvB,UACJ,sBAAMh1B,MAAOu0B,GAAb,mBAEA,cAAC,IAAD,CAAQ3yB,KAAK,OAAO0iB,UAAWwP,EAAgBxyB,QAAS,kBAAMmW,EAAgB,aAAc9S,EAAM,YAAa,UAA/G,yBAIPovB,GACC,eAAC,IAAD,CAAK3P,MAAM,SAASpkB,MAAOs0B,GAA3B,UACE,cAAC,KAAD,CAAKO,KAAK,IAAV,oBACA,cAAC,KAAD,CAAKA,KAAK,KAAK70B,MAAO,CAAEqrB,UAAW,SAAnC,SACE,cAAC,KAAD,CACE/D,IAAK,IACL2N,IAAK,EACL5Q,KAAK,QACL6Q,aAAc1vB,EAAK2vB,SACnB7Q,UAAWwP,EACXtP,SAAU,SAAChc,GAAD,OAAOiP,EAAgB,aAAc9S,EAAM,YAAa6D,IAClEwpB,UAAU,EACVhyB,MAAO,CAAE6kB,gBAAiB,wCAMxC,eAAC,IAAD,CAAKT,MAAM,SAASpkB,MAAOs0B,GAA3B,UACE,cAAC,KAAD,CAAKO,KAAK,IAAV,6BACA,cAAC,KAAD,CAAKA,KAAK,KAAV,SACE,cAAC,GAAD,CACE1vB,QAASA,EACT+pB,UAAWmF,GACX/E,OAAQkF,GACRY,aAAa,oBACb3F,cAAeqE,EALjB,SAOGH,GACC,cAAC,GAAD,CAEErzB,GAAIqzB,EAAehvB,KACnBwD,IAAK,EACLunB,cAAc,UACdC,aAAa,OACb1rB,WAAY,CAAErC,KAAM,aAAc+C,OAAM0S,MAAO,uBAC/C6X,UAAWmF,GACXlvB,QAASA,EACTK,KAAI,2BAAOmuB,GAAP,IAAuB9D,SAAU,WAAYjuB,KAAK,kBACtDytB,SAAU,SAACvjB,GAAD,OAAO2L,EAAgB,aAAc9S,EAAM,sBAAuB,OAC5E2qB,OAAQkF,GACRhF,cAAesE,EACfrE,cAAeqE,GAZVH,EAAehvB,aAmB9B,eAAC,IAAD,CAAKyf,MAAM,SAASpkB,MAAOs0B,GAA3B,UACE,cAAC,KAAD,CAAKO,KAAK,IAAV,wBACA,cAAC,KAAD,CAAKA,KAAK,KAAV,SACE,cAAC,GAAD,CACE3F,UAAWkF,EACXjvB,QAASA,EACTmqB,OAAQ,SAACmF,GAAD,OAAcC,GAAaD,EAAU,IAC7CW,aAAa,eACb3F,cAAeqE,EALjB,SAOGztB,EAAU3B,KAAI,SAACyM,EAAUhJ,GAAX,OACb,gCACW,IAARA,GACC,cAAC,GAAD,CACE+mB,UAAWkF,EACXz0B,OAAQ,GACRizB,QAAiB,IAARzqB,EAAY,EAAI,EACzBhD,QAASA,EACTmqB,OAAQ,SAACmF,GAAD,OAAcC,GAAaD,EAAU,IAC7ChF,cAAeqE,IAGnB,cAAC,GAAD,CAEExzB,GAAI6Q,EAASxM,KACbwD,IAAKA,EACLwnB,aAAa,OACbT,UAAWkF,EACXjvB,QAASA,EACTlB,WAAY,CAAErC,KAAM,aAAc+C,OAAM0S,MAAO,kBAC/C7R,KAAI,2BAAO2L,GAAP,IAAiB0e,SAAU,WAAYjuB,KAAK,kBAChDytB,SAAU,kBAAMzY,EAAyBjS,EAAMwD,IAG/CqnB,cAAesE,EACfrE,cAAc,EACdG,MACE,cAAC,GAAD,CACEV,UAAWkF,EACXjvB,QAASA,EACTxF,OAAQ,GACRsD,IAAKkF,IAAQ9B,EAAUlI,OAAS,EAChCy0B,QAASzqB,IAAQ9B,EAAUlI,OAAS,EAAI,EAAI,EAC5CmxB,OAAQ,SAACmF,GAAD,OAAcC,GAAaD,EAAUtsB,EAAM,IACnDsnB,cAAeqE,KArBd3iB,EAASxM,QAZRwD,aA4ClB,eAAC,IAAD,CAAKic,MAAM,SAASpkB,MAAOs0B,GAA3B,UACE,cAAC,KAAD,CAAKO,KAAK,IAAV,2BACA,cAAC,KAAD,CAAKA,KAAK,KAAV,SACE,cAAC,GAAD,CACE1vB,QAASA,EACT+pB,UAAWmF,GACX/E,OAAQsF,GACRQ,aAAa,kBACb3F,cAAeqE,EALjB,SAOGF,GACC,cAAC,GAAD,CAEEtzB,GAAIszB,EAAajvB,KACjBwD,IAAK,EACLunB,cAAc,UACdC,aAAa,OACb1rB,WAAY,CAAErC,KAAM,aAAc+C,OAAM0S,MAAO,qBAC/C6X,UAAWmF,GACXlvB,QAASA,EACTK,KAAI,2BAAOouB,GAAP,IAAqB/D,SAAU,WAAYjuB,KAAK,kBACpDytB,SAAU,SAACvjB,GAAD,OAAO2L,EAAgB,aAAc9S,EAAM,oBAAqB,OAC1E2qB,OAAQsF,GACRpF,cAAesE,EACfrE,cAAeqE,GAZVF,EAAajvB,iBC/S5BsqB,GAAY,SAACzX,EAAM0X,GACrB,QAAKA,EAAU,GAAGlB,QAAQ3oB,MAAK,SAAAzD,GAAI,OAAIA,IAAS4V,EAAK5V,YAEzCstB,EAAU7pB,MAAK,SAAA8pB,GAAQ,OAAIA,EAASxqB,OAAS6S,EAAKvT,WAAWU,SAAkC,WAAzB6S,EAAKvT,WAAWrC,OAMzFyzB,GAAW,SAAC,GAAiF,IAA/EnG,EAA8E,EAA9EA,UAAW3pB,EAAmE,EAAnEA,SAAUJ,EAAyD,EAAzDA,QAASmqB,EAAgD,EAAhDA,OAAQ8F,EAAwC,EAAxCA,aAAc3F,EAA0B,EAA1BA,aAAczvB,EAAY,EAAZA,MAEnFs1B,GAAS/vB,GAAgC,IAApBA,EAASpH,OAEpC,EAAqCsyB,aAAQ,CACzCC,OAAQxB,EAAU,GAAGlB,QACrB2C,KAAM,SAACnZ,EAAM1L,GAAP,OAAawjB,EAAO9X,IAC1BqZ,QAAS,SAACrZ,EAAM1L,GACZ,QAAK0L,MAIO8d,GAGDrG,GAAUzX,EAAM0X,KAG/BgB,QAAS,SAAAC,GAAO,MAAK,CACjBW,OAAQX,EAAQW,SAChBC,SAAUZ,EAAQa,cAhB1B,0BAASF,EAAT,EAASA,OAAQC,EAAjB,EAAiBA,SAAYJ,EAA7B,KA+BMoC,EAAcjC,GAAUC,IAAatB,GAAgBR,GAAU8B,EAAU7B,GACzEqG,GAAgBD,IAAUvC,EAEhC,OACI,sBAAK1yB,IAAKovB,IAAiB6F,EAAQ,KAAO3E,EAAM3wB,MAAK,2BAdlC,CACnB6kB,gBAAiB,kBACjBF,aAAc,EACdgN,SAAU,IACVxG,UAAW,GACXpG,QAAS,EACTsG,UAAW,SACX9pB,SAAU,KAOqEvB,GAA/E,WACMu1B,IAAiBxC,GACf,qBAAK/yB,MAAO,CAAE+kB,QAAS,IAAvB,SACKqQ,KAGPrC,GAAewC,GAAgBhwB,GAC/BgwB,GAAgBxC,GAAehC,EAASnvB,KAAKyC,SAAS,SACpD,cAAC,GAAD,CACI6qB,UAAWA,EACX/mB,IAAK,EACL3C,KAAMurB,EACN5rB,QAASA,EACTqqB,cAAY,EACZC,cAAY,EACZE,aAAa,UAEnB4F,GAAgBxC,GAAehC,EAASnvB,KAAKyC,SAAS,cACpD,cAAC,GAAD,CACI6qB,UAAWA,EACX/mB,IAAK,EACLorB,WAAYxC,EACZ5rB,QAASA,EACTqqB,cAAY,EACZC,cAAY,EACZ+D,QAAM,EACN7D,aAAa,UAEnB4F,GAAgBxC,IAAgBhC,EAASnvB,KAAKyC,SAAS,UAAY0sB,EAASnvB,KAAKyC,SAAS,cAAgB0sB,EAASnvB,KAAKyC,SAAS,eAC/H,cAAC,GAAD,CACIkvB,WAAYxC,EACZ7B,UAAWA,EACXM,cAAY,EACZrqB,QAASA,QJrFzB,GAAY,CAAC,QAAS,WAE1B,SAAS,KAA2Q,OAA9P,GAAWrH,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASw3B,GAAan2B,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,OACPC,OAAQ,OACRC,QAAS,gBACTC,MAAO,6BACPC,WAAY,+BACZC,SAAU,WACVqrB,KAAM,eACNprB,MAAO,CACLC,SAAU,UACVC,SAAU,UACVC,eAAgB,QAChBC,iBAAkB,GAEpBC,IAAKf,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3De,GAAId,GACHD,GAAS,KAAM,KAAO,GAAkB,gBAAoB,IAAK,CAClEgB,UAAW,+CACG,gBAAoB,OAAQ,CAC1CC,EAAG,uRAIP,IK1CI,GL0CA,GAA0B,aAAiBg1B,IKxC3C,ILyCW,IKzCC,CAAC,QAAS,YAE1B,SAAS,KAA2Q,OAA9P,GAAW13B,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASy3B,GAASp2B,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,OACPC,OAAQ,OACRC,QAAS,gBACTC,MAAO,6BACPC,WAAY,+BACZC,SAAU,WACVC,MAAO,CACLC,SAAU,UACVC,SAAU,UACVC,eAAgB,QAChBC,iBAAkB,GAEpBC,IAAKf,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3De,GAAId,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EiB,EAAG,q6CAIP,I,GAAI,GAA0B,aAAiBi1B,ICpBlCC,IDqBE,ICrBe,SAAC,GAGxB,IAFLnC,EAEI,EAFJA,WAAY5uB,EAER,EAFQA,KAAMV,EAEd,EAFcA,WAAYorB,EAE1B,EAF0BA,SAAUM,EAEpC,EAFoCA,aACxCH,EACI,EADJA,aAAcN,EACV,EADUA,UAAW/pB,EACrB,EADqBA,QAASgD,EAC9B,EAD8BA,IAAKynB,EACnC,EADmCA,MAGvC,EAAgDxS,GAAS6G,uBAAY,SAAA/e,GACnE,IAAIywB,EAAkB,GAEhBnwB,EAAO+tB,GAA0BruB,EAAMM,KAAKzB,WAAWY,GACvDS,IAAaF,EAAMuV,qBAAqBjV,EAAKb,MA2BnD,OAxBIa,EAAKE,WAAWK,cAAgBb,EAAMM,KAAK2B,SAAS3B,EAAKE,WAAWK,cACtE4vB,EAAgBvuB,QAAUlC,EAAMM,KAAK2B,SAAS3B,EAAKE,WAAWK,cACrDP,EAAKE,WAAWK,cAAgBZ,EAAQK,EAAKE,WAAWK,gBACjE4vB,EAAgBvuB,QAAhB,aAA4BzC,KAAMa,EAAKE,WAAWK,cAAiBZ,EAAQK,EAAKE,WAAWK,gBAGzFP,EAAKE,WAAWI,YAAcZ,EAAMM,KAAKW,aAAaX,EAAKE,WAAWI,YACxE6vB,EAAgB/tB,MAAQ1C,EAAMM,KAAKW,aAAaX,EAAKE,WAAWI,YACvDN,EAAKE,WAAWI,YAAcX,EAAQK,EAAKE,WAAWI,cAC/D6vB,EAAgB/tB,MAAQ,CAAEjD,KAAMa,EAAKE,WAAWI,WAAYkJ,aAAc7J,EAAQK,EAAKE,WAAWI,cAGhGN,EAAKE,WAAWM,iBAAmBd,EAAMM,KAAKgB,aAAahB,EAAKE,WAAWM,iBAC7E2vB,EAAgBlvB,WAAhB,2BAAiCvB,EAAMM,KAAKgB,aAAahB,EAAKE,WAAWM,kBAAzE,IAA0FmrB,MAAK,IACtF3rB,EAAKE,WAAWM,iBAAmBb,EAAQK,EAAKE,WAAWM,mBACpE2vB,EAAgBlvB,WAAhB,aAA+B9B,KAAMa,EAAKE,WAAWM,iBAAoBb,EAAQK,EAAKE,WAAWM,mBAG9FR,EAAKE,WAAWO,eAAkBd,EAAQK,EAAKE,WAAWO,eAEpDT,EAAKE,WAAWO,eAAiBd,EAAQK,EAAKE,WAAWO,iBAClE0vB,EAAgBzkB,SAAhB,aAA6BvM,KAAMa,EAAKE,WAAWO,eAAkBd,EAAQK,EAAKE,WAAWO,iBAF7F0vB,EAAgBzkB,SAAWhM,EAAMM,KAAKY,UAAUZ,EAAKE,WAAWO,eAK3D,CACLf,EAAMyV,UAAUhW,OAASA,EACzBa,EACAmwB,EACAvwB,KAED,CAACmuB,EAAY5uB,EAAMQ,IAAUqiB,MArChC,mBAAOja,EAAP,KAAgB/H,EAAhB,KAAsBE,EAAtB,KAAkCN,EAAlC,KAuCA,EAE+BgY,IAC7B,SAAClY,GAAD,MAAW,CACTA,EAAM/D,MAAO+D,EAAMiW,aAAcjW,EAAM6Y,eAAyC,OAAzB7Y,EAAMyV,UAAU/Y,KACvEsD,EAAM4S,sBAAuB5S,EAAMiS,oBACnCjS,EAAMoS,6BAA4BkQ,MANtC,mBAAOrmB,EAAP,KAAcga,EAAd,KAA4B4C,EAA5B,KAA4C6X,EAA5C,KACE9d,EADF,KACyBX,EADzB,KAEEG,EAFF,KAQMuc,EAAY+B,IAAgBroB,EAE5B0jB,EAAiC,WAAtB/B,EAAU,GAAGvqB,KACxBmvB,GAAkB7C,GAAYzrB,EAAK0sB,SAGzC,EAAwCpC,cAAQ,iBAAO,CACrDluB,KAAM4D,EAAK5D,KACX4V,KAAK,2BAAMhS,GAAP,IAAavB,aAAY0rB,eAAcN,SAAUA,GAAY7pB,EAAKitB,WAAa,kBAAIpD,EAAS7pB,IAAQ,KAAM2C,QAC9G4nB,QAAS,CAAEC,WAAYL,GACvBM,QAAS,SAACnkB,GAAD,OAAO0jB,GAChBU,QAAS,SAAAC,GAAO,MAAK,CACnBC,WAAYD,EAAQC,mBANxB,mBAASA,EAAT,KAASA,WAAcC,EAAvB,KAA6BC,EAA7B,KAWMuF,EAAqB,CACzBzuB,QAAQ,CACN,CAAEzC,KAAMa,EAAKb,KAAMqpB,QAAS,CAAC,kBADxB,mBAEFkB,IAELhe,SAAS,CACP,CAAEvM,KAAMa,EAAKb,KAAMqpB,QAAS,CAAC,mBADvB,mBAEHkB,IAELzoB,WAAW,CACT,CAAE9B,KAAMa,EAAKb,KAAMqpB,QAAS,CAAC,kBAAmB,sBADxC,mBAELkB,IAELtnB,MAAM,CACJ,CAAEjD,KAAMa,EAAKb,KAAMqpB,QAAS,CAAC,sBAD1B,mBAEAkB,KAIP,EAAkC8D,eAAlC,mBAAOiB,EAAP,KAAsBt0B,EAAtB,KAAsBA,OACtB,EAAgDoqB,oBAAS,GAAzD,mBAAOgK,EAAP,KAAyBC,EAAzB,KACME,EAAgBd,oBAAU,CAAEzzB,OAAQA,EAAQ2jB,OAAQA,SAAO+P,QAO3Dc,GAAS,CACbtP,gBACEuJ,GAAY5oB,EAAK5D,MACnBupB,UAAW,GACXwG,SAAU,IACVhN,aAAc,EACdpjB,SAAU,GACVwjB,QAAS,EACT3hB,SAAU,WACV0hB,OAAO,EACPwM,OAAQ/jB,EAAU,IAAM,GAGpB+mB,GAAa,CACjB3P,aAAc,EACdG,OAAQ,kBACRC,QAAS,EACTF,gBAAiB,mBAGfiR,GAAQ,KAEVA,GADgB,+BAAdtwB,EAAK5D,KACCm0B,GACe,iCAAdvwB,EAAK5D,KACNotB,GAEAgH,GAGV,IAAMC,GAAgB,SAACxB,EAAUyB,GAC3BzB,EAASxwB,WAAWU,OAASA,GAAkC,SAA1B8vB,EAAS9E,cAChD3oB,QAAQC,IAAI,QACZ6Q,EAAsB,YAAanT,EAAM8vB,EAASxwB,WAAWoT,MAAO,MACpES,EAAsB,YAAanT,EAAMuxB,EAAWzB,EAAS9vB,QAE7DqC,QAAQC,IAAI,QACZ6Q,EAAsB,YAAanT,EAAMuxB,EAAWzB,EAAS9vB,QAI3DwxB,GAAiB,SAAC1B,GAClBA,EAAS7yB,KAAKyC,SAAS,QACzByT,EAAsB,YAAanT,EAAM,kBAAmB8vB,EAAS9vB,OAErEqC,QAAQC,IAAIwtB,GACZtd,EAAoBsd,EAAU9vB,EAAM,qBAIxC,OACE,sBAAK2W,OAAQ8U,GAA6B,SAAfT,EAA3B,UACE,sBAAKtvB,IAAKiwB,EAAStwB,MAAOm0B,GAAQ1C,UAAWlkB,EAAO,gBAAYpM,GAAU,KAAMG,QAAS,SAAC2Z,GAAQA,EAAEC,kBAAmB2Y,GAAa9V,KAApI,UACE,eAAC,IAAD,CAAK2T,MAAM,EAAO1xB,MAAO,CAAEuB,SAAU,GAAI0kB,aAAc,GAAK7B,MAAM,SAAS4B,QAAQ,gBAAnF,UACE,eAAC,IAAD,CAAK0L,MAAM,EAAOtN,MAAM,SAAS/jB,IAAKmvB,EAAe,KAAOa,EAAMwE,KAAM,GAAI70B,MAAO,CAAEqrB,UAAW,OAAQxG,gBAAiB,wBAAyBF,aAAc,EAAGI,QAAS,EAAG4M,SAAU,IAAKC,SAAU,IAAKC,OAAQrC,EAAe,cAAc,OAAQ8B,OAAO,KAAjQ,UACE,cAACQ,EAAA,EAAD,CAAM9xB,MAAO,CAAEmmB,WAAY,EAAGlB,YAAa,GAAK8M,UAAW+D,KAC1DtwB,EAAKoI,QAER,eAAC,IAAD,CAAK8jB,MAAM,EAAOtN,MAAM,SAASpkB,MAAO,CAAEqrB,UAAW,OAArD,UACGjmB,GAAc,cAAC,IAAD,CAAQxD,KAAK,OAAO6iB,KAAM,cAAC8N,GAAA,EAAD,IAAgBjxB,QAAS,SAAC2Z,GAAOA,EAAEC,kBAAkBC,EAAa,YAAaxW,MACvHmvB,EAAiB,cAAC3B,GAAA,EAAD,CAAgBnyB,MAAO,CAACilB,YAAY,EAAEkB,WAAW,KAAQ,cAACiM,GAAA,EAAD,CAAcpyB,MAAO,CAACilB,YAAY,EAAEkB,WAAW,WAhErG,CAC7B,0BACA,yBAuE4B9gB,MAAK,SAAAjB,GAAS,OAAIA,IAAcoB,EAAK5D,SAC3D,sBAAK5B,MAAOs0B,GAAZ,UACE,eAAC,IAAD,CAAKlQ,MAAM,SAASpkB,MAAO,CAAEimB,aAAc,GAA3C,UACE,cAAC,KAAD,CAAK4O,KAAK,KAAV,uBACA,cAAC,KAAD,CAAKA,KAAK,IAAV,SACE,cAAC,IAAD,CACEvQ,SAAU2M,EACV3vB,QAAS,kBAAM0yB,GAAqBD,IACpCnyB,KAAK,OACL6iB,KAAMsP,EACJ,cAACe,GAAA,EAAD,IAEA,cAACC,GAAA,EAAD,WAKR,cAAC,WAAS/L,IAAV,CAAchpB,MAAK,aAAIooB,SAAU,UAAa8L,GAA9C,SACE,sBAAK7zB,IAAK4zB,EAAV,UACGF,GAAkC,4BAAdvuB,EAAK5D,MACxB,qCACE,eAAC,IAAD,CAAKwiB,MAAM,SAASpkB,MAAOs0B,GAA3B,UACE,cAAC,KAAD,CAAK5N,KAAM,EAAX,uBACA,cAAC,KAAD,CAAKA,KAAM,EAAG1mB,MAAO,CAAEqrB,UAAW,SAAlC,SACE,cAAC,KAAD,CACE/D,IAAK,EACL2N,IAAK,GACL5Q,KAAK,QACL+R,OAAO,KACPlB,aAAc1vB,EAAKE,WAAWtC,SAC9BkhB,UAAWwP,EACXtP,SAAU,SAAChc,GAAD,OAAOsP,EAAsB,YAAatS,EAAKb,KAAM,WAAY6D,IAC3EwpB,UAAU,EACVhyB,MAAO,CAAE6kB,gBAAiB,gCAiBhC,eAAC,IAAD,CAAKT,MAAM,SAASpkB,MAAOs0B,GAA3B,UACE,cAAC,KAAD,CAAK5N,KAAM,EAAX,oBACA,cAAC,KAAD,CAAKA,KAAM,EAAG1mB,MAAO,CAAEqrB,UAAW,SAAlC,SACE,cAAC,KAAD,CACE/D,IAAK,GACL2N,IAAK,IACL5Q,KAAK,QACL+R,OAAO,OACPlB,aAAc1vB,EAAKE,WAAW2E,MAC9Bia,UAAWwP,EACXtP,SAAU,SAAChc,GAAD,OAAOsP,EAAsB,YAAatS,EAAKb,KAAM,QAAS6D,IACxEwpB,UAAU,EACVhyB,MAAO,CAAE6kB,gBAAiB,mCAKnCkP,GAAkC,0BAAdvuB,EAAK5D,MACxB,mCACE,eAAC,IAAD,CAAKwiB,MAAM,SAASpkB,MAAOs0B,GAA3B,UACE,cAAC,KAAD,CAAK5N,KAAM,EAAX,uBACA,cAAC,KAAD,CAAKA,KAAM,EAAG1mB,MAAO,CAAEqrB,UAAW,SAAlC,SACE,cAAC,KAAD,CACE/D,IAAK,EACL2N,IAAK,EACLoB,UAAW,SAAC7tB,GAAD,gBAAWA,EAAX,SACX0sB,aAAc1vB,EAAKE,WAAWsE,SAC9Bsa,UAAWwP,EACXtP,SAAU,SAAChc,GAAD,OAAOsP,EAAsB,YAAatS,EAAKb,KAAM,WAAY6D,IAC3EwpB,UAAU,EACVhyB,MAAO,CAAE6kB,gBAAiB,0CAQ3Crf,EAAK5D,KAAKyC,SAAS,qCAClB,eAAC,IAAD,CAAK+f,MAAM,SAASpkB,MAAOs0B,GAA3B,UACE,cAAC,KAAD,CAAK5N,KAAM,EAAG1mB,MAAO,CAAE6nB,aAAc,GAArC,sBACA,cAAC,KAAD,CAAKnB,KAAM,EAAX,SACE,cAAC,GAAD,CACEwI,UAAW2G,EAAmBzuB,QAC9BjC,QAASA,EACTmqB,OAAQ,SAACmF,GAAD,OAAcwB,GAAcxB,EAAU,iBAC9CW,aAAa,aACb3F,cAAeqE,EALjB,SAOGpuB,EAAW0B,SACV,cAAC,GAAD,CAEE9G,GAAIoF,EAAW0B,QAAQzC,KACvBwD,IAAK,EACLwnB,aAAa,OACbD,cAAc,UACdR,UAAW2G,EAAmBzuB,QAC9BjC,QAASA,EACTlB,WAAY,CAAErC,KAAM,YAAa+C,OAAM0S,MAAO,gBAC9C7R,KAAI,2BAAOE,EAAW0B,SAAlB,IAA2ByoB,SAAU,UAAWjuB,KAAK,iBACzDytB,SAAU,SAACvjB,GAAD,OAAOgM,EAAsB,YAAanT,EAAM,eAAgB,OAC1E2qB,OAAQ,SAACmF,GAAD,OAAcwB,GAAcxB,EAAU,iBAC9CjF,cAAesE,EACfrE,cAAeqE,GAZVpuB,EAAW0B,QAAQzC,aAoBnCa,EAAK5D,KAAKyC,SAAS,mCAClB,eAAC,IAAD,CAAK+f,MAAM,SAASpkB,MAAOs0B,GAA3B,UACE,cAAC,KAAD,CAAK5N,KAAM,EAAG1mB,MAAO,CAAE6nB,aAAc,GAArC,yBACA,cAAC,KAAD,CAAKnB,KAAM,EAAX,SACE,cAAC,GAAD,CACEwI,UAAW2G,EAAmBpvB,WAC9BtB,QAASA,EACTlB,WAAY,CAAErC,KAAM,YAAa+C,OAAM0S,MAAO,mBAC9CgY,SAAU,SAACvjB,GAAD,OAAOwL,EAA0B3S,EAAM,kBAAmBe,EAAWe,WAAW9B,OAC1F2qB,OAAQ6G,GACRf,aAAa,gBACb3F,cAAeqE,EAPjB,SASGpuB,EAAWe,aACVf,EAAWe,WAAW0qB,KACpB,cAAC,GAAD,CACExsB,KAAMe,EAAWe,WAAW9B,KAC5BwD,IAAK,EACLlE,WAAY,CAAErC,KAAM,YAAa+C,OAAM0S,MAAO,mBAC9C6X,UAAW2G,EAAmBpvB,WAC9BkpB,aAAa,OACbH,cAAesE,EACfzE,SAAU,SAACvjB,GAAD,OAAOwL,EAA0B3S,EAAM,kBAAmBe,EAAWe,WAAW9B,OAC1FQ,QAASA,IAGX,cAAC,GAAD,CAEE7E,GAAIoF,EAAWe,WAAW9B,KAC1BwD,IAAK,EACLwnB,aAAa,OACbD,cAAc,UACdR,UAAW2G,EAAmBpvB,WAC9BtB,QAASA,EACTlB,WAAY,CAAErC,KAAM,YAAa+C,OAAM0S,MAAO,mBAC9C7R,KAAI,2BAAOE,EAAWe,YAAlB,IAA8BopB,SAAU,aAAcjuB,KAAK,oBAC/DytB,SAAU,SAACvjB,GAAD,OAAOgM,EAAsB,YAAanT,EAAM,kBAAmB,OAC7E2qB,OAAQ6G,GACR3G,cAAesE,EACfrE,cAAeqE,GAZVpuB,EAAWe,WAAW9B,cAoBxCa,EAAK5D,KAAKyC,SAAS,kCAClB,eAAC,IAAD,CAAK+f,MAAM,SAASpkB,MAAOs0B,GAA3B,UACE,cAAC,KAAD,CAAK5N,KAAM,EAAG1mB,MAAO,CAAE6nB,aAAc,GAArC,0BACA,cAAC,KAAD,CAAKnB,KAAM,EAAX,SACE,cAAC,GAAD,CACEwI,UAAW2G,EAAmB3kB,SAC9B/L,QAASA,EACTmqB,OAAQ,SAACmF,GAAD,OAAcwB,GAAcxB,EAAU,kBAC9CW,aAAa,cACb3F,cAAeqE,EALjB,SAOGpuB,EAAWwL,UACV,cAAC,GAAD,CAEE5Q,GAAIoF,EAAWwL,SAASvM,KACxBwD,IAAK,EACLwnB,aAAa,OACbD,cAAc,UACdR,UAAW2G,EAAmB3kB,SAC9B/L,QAASA,EACTlB,WAAY,CAAErC,KAAM,YAAa+C,OAAM0S,MAAO,iBAC9C7R,KAAI,2BAAOE,EAAWwL,UAAlB,IAA4B2e,SAAU,WAAYjuB,KAAK,kBAC3DytB,SAAU,SAACvjB,GAAD,OAAOgM,EAAsB,YAAanT,EAAM,gBAAiB,OAC3E2qB,OAAQ,SAACmF,GAAD,OAAcwB,GAAcxB,EAAU,kBAC9CjF,cAAesE,EACfrE,cAAeqE,GAZVpuB,EAAWwL,SAASvM,aAoBpCa,EAAK5D,KAAKyC,SAAS,2BAClB,eAAC,IAAD,CAAK+f,MAAM,SAASpkB,MAAOs0B,GAA3B,UACE,cAAC,KAAD,CAAK5N,KAAM,EAAG1mB,MAAO,CAAE6nB,aAAc,GAArC,oBACA,cAAC,KAAD,CAAKnB,KAAM,EAAX,SACE,cAAC,GAAD,CACEwI,UAAW2G,EAAmBjuB,MAC9BzC,QAASA,EACTmqB,OAAQ,SAACmF,GAAD,OAAcwB,GAAcxB,EAAU,eAC9CW,aAAa,WACb3F,cAAeqE,EALjB,SAOGpuB,EAAWkC,OACV,cAAC,GAAD,CAEEtH,GAAIoF,EAAWkC,MAAMjD,KACrBwD,IAAK,EACLwnB,aAAa,OACbD,cAAc,UACdR,UAAW2G,EAAmBjuB,MAC9BzC,QAASA,EACTlB,WAAY,CAAErC,KAAM,YAAa+C,OAAM0S,MAAO,cAC9C7R,KAAI,2BAAOE,EAAWkC,OAAlB,IAAyBioB,SAAU,cAAejuB,KAAK,qBAC3DytB,SAAU,SAACvjB,GAAD,OAAOgM,EAAsB,YAAanT,EAAM,aAAc,OACxE2qB,OAAQ,SAACmF,GAAD,OAAcwB,GAAcxB,EAAU,eAC9CjF,cAAesE,EACfrE,cAAeqE,GAZVpuB,EAAWkC,MAAMjD,kBAqBjCyrB,GAA+B,SAAjBT,IAA4BC,OCrZ7C0G,GAAc,CAClB,gBAAiB,CAAC1I,MAAM,WAAWhsB,KAAK,WACxC,mBAAoB,CAACgsB,MAAM,eAAehsB,KAAK,eAC/C,sBAAuB,CAACgsB,MAAM,YAAYhsB,KAAK,YAC/C,+BAAgC,CAACgsB,MAAM,YAAYhsB,KAAK,YACxD,mBAAoB,CAACgsB,MAAM,eAAehsB,KAAK,eAG3C20B,GAAgB,CACpB,gBAAiB,UACjB,mBAAoB,QACpB,sBAAuB,WACvB,+BAAgC,WAChC,mBAAoB,cAGTC,GAAiB,SAAC,GAGxB,IAFLjD,EAEI,EAFJA,WAAY5uB,EAER,EAFQA,KAAMV,EAEd,EAFcA,WAAYorB,EAE1B,EAF0BA,SAAUM,EAEpC,EAFoCA,aACxCH,EACI,EADJA,aAAcN,EACV,EADUA,UAAW/pB,EACrB,EADqBA,QAASgD,EAC9B,EAD8BA,IAAKynB,EACnC,EADmCA,MAGvC,EAAuDxS,GAAS6G,uBAAY,SAAA/e,GAC1E,IAAIywB,EAAkB,GAkBhBnwB,EAAO+tB,IAA0BruB,EAAMM,KAAKzB,WAAWY,GAAQO,EAAMM,KAAKzB,WAAWY,GAAQ,CAACA,KAAK,KAAKe,WAAW,CAACG,WAAW,QAC/HT,IAAaF,EAAMuV,qBAAqBjV,EAAKb,MAC7CG,EAAQI,EAAMM,KAAKxB,OAAOwB,EAAKE,WAAWG,YAAcX,EAAMM,KAAKxB,OAAOwB,EAAKE,WAAWG,YAAc,CAAC3H,UAAU,IAuBzH,OArBA4G,EAAM5G,UAAUsF,SAAQ,SAAAiN,GACtB,IAAMgmB,EAAUjxB,EAAKE,WAAW+K,EAAS9L,MACT,qBAA5B8L,EAASG,eACP6lB,GAAWvxB,EAAMM,KAAK8wB,GAAY7lB,EAASG,gBAAgBgd,OAAO6I,GACpEd,EAAgB/wB,KAAK,CAAEulB,SAAUjlB,EAAMM,KAAK8wB,GAAY7lB,EAASG,gBAAgBgd,OAAO6I,GAAUhmB,WAAU0gB,MAAK,IACxGsF,GAAWtxB,EAAQsxB,GAC5Bd,EAAgB/wB,KAAK,CAAEulB,SAAS,aAAGxlB,KAAM8xB,GAAYtxB,EAAQsxB,IAAYhmB,aAEzEklB,EAAgB/wB,KAAK,CAAEulB,SAAU,KAAM1Z,aAEJ,qBAA5BA,EAASG,iBACd6lB,GAAWvxB,EAAMM,KAAKW,aAAaswB,GACrCd,EAAgB/wB,KAAK,CAAEulB,SAAUjlB,EAAMM,KAAKW,aAAaswB,GAAUhmB,aAC1DgmB,GAAWtxB,EAAQsxB,GAC5Bd,EAAgB/wB,KAAK,CAAEulB,SAAU,CAAExlB,KAAM8xB,EAASznB,aAAc7J,EAAQsxB,IAAYhmB,aAEpFklB,EAAgB/wB,KAAK,CAAEulB,SAAU,KAAM1Z,iBAKtC,CACLvL,EAAMyV,UAAUhW,OAASA,EACzBa,EACAV,EACA6wB,EACAvwB,KAED,CAACmuB,EAAY5uB,EAAMQ,IAAUqiB,MAnDhC,mBAAOja,EAAP,KAAgB/H,EAAhB,KAAsBV,EAAtB,KAA6BY,EAA7B,KAAyCN,EAAzC,KAqDA,EAE+BgY,IAC3B,SAAClY,GAAD,MAAW,CAACA,EAAM/D,MAAO+D,EAAM6Y,eAAgB7Y,EAAMiW,aAAuC,OAAzBjW,EAAMyV,UAAU/Y,KACnFsD,EAAM4S,sBAAuB5S,EAAMiS,oBAAqBjS,EAAMoS,6BAA2BkQ,MAJ7F,mBAAOrmB,EAAP,KAAc4c,EAAd,KAA8B5C,EAA9B,KAA4Cya,EAA5C,KACE9d,EADF,KACyBX,EADzB,KAEEG,EAFF,KAMMuc,EAAY+B,IAAgBroB,EAG5BumB,IADiC,WAAtB5E,EAAU,GAAGvqB,OACMa,EAAK0sB,SAEzC,EAAwCpC,cAAQ,iBAAO,CACrDluB,KAAM4D,EAAK5D,KACX4V,KAAK,2BAAMhS,GAAP,IAAavB,aAAY0rB,eAAcN,WAAUlnB,QACrD4nB,QAAS,CAAEC,WAAYL,GACvBM,QAAS,SAACnkB,GAAD,OAAQ0jB,GACjBU,QAAS,SAAAC,GAAO,MAAK,CACnBC,WAAYD,EAAQC,mBANxB,mBAASA,EAAT,KAASA,WAAcC,EAAvB,KAA6BC,EAA7B,KAWMuF,EAAqB,CACzB,gBAAgB,CACd,CAAElxB,KAAMa,EAAKb,KAAMqpB,QAAS,CAAC,kBAD/B,mBAEKkB,IAEL,+BAA+B,CAC7B,CAAEvqB,KAAMa,EAAKb,KAAMqpB,QAAS,CAAC,mBAD/B,mBAEKkB,IAEL,sBAAsB,CACpB,CAAEvqB,KAAMa,EAAKb,KAAMqpB,QAAS,CAAC,mBAD/B,mBAEKkB,IAEL,mBAAmB,CACjB,CAAEvqB,KAAMa,EAAKb,KAAMqpB,QAAS,CAAC,kBAAmB,sBADlD,mBAEKkB,IAEL,mBAAmB,CACjB,CAAEvqB,KAAMa,EAAKb,KAAMqpB,QAAS,CAAC,sBAD/B,mBAEKkB,KAIDiF,EAAS,CACbtP,gBACEuJ,GAAY5oB,EAAK5D,MACnBupB,UAAW,GACXwG,SAAU,IACVhN,aAAc,EACdpjB,SAAU,GACVwjB,QAAS,EACT3hB,SAAU,WACV0hB,OAAQ,EACRwM,OAAQ/jB,EAAU,IAAM,GAGpB+mB,EAAa,CACjB3P,aAAc,EACdG,OAAQ,kBACRC,QAAS,EACTF,gBAAiB,mBAGboR,EAAgB,SAACxB,EAAUyB,GACT,qBAAlBzB,EAAS7yB,KACXuV,EAAoBsd,EAAU9vB,EAAMuxB,GAC3BzB,EAASxwB,WAAWU,OAASA,GAAkC,SAA1B8vB,EAAS9E,cACvD7X,EAAsB,YAAanT,EAAM8vB,EAASxwB,WAAWoT,MAAO,MACpES,EAAsB,YAAanT,EAAMuxB,EAAWzB,EAAS9vB,OAE7DmT,EAAsB,YAAanT,EAAMuxB,EAAWzB,EAAS9vB,OAIjE,OACE,sBAAK2W,OAAQ8U,GAA+B,SAAjBT,EAA3B,UACE,sBAAKtvB,IAAKiwB,EAAStwB,MAAOm0B,EAAQ1C,UAAWlkB,EAAO,gBAAYpM,GAAU,KAAMG,QAAS,SAAC2Z,GAAQA,EAAEC,kBAAmB2Y,GAAa9V,KAApI,UACE,eAAC,IAAD,CAAK/d,MAAO,CAAEuB,SAAU,GAAI0kB,aAAc,GAAK7B,MAAM,SAAS4B,QAAQ,gBAAtE,UACE,eAAC,KAAD,CAAK3lB,IAAKmvB,EAAe,KAAOa,EAAMwE,KAAM,GAAI70B,MAAO,CAAEqrB,UAAW,OAAQxG,gBAAiB,wBAAyBF,aAAc,EAAGI,QAAS,EAAG8M,OAAQrC,EAAe,cAAgB,OAAQ8B,OAAQ,KAA1M,UACE,cAACQ,EAAA,EAAD,CAAM9xB,MAAO,CAAEmmB,WAAY,GAAK4L,UAAWgE,KAAc,aAAcjxB,EAAM8I,QAE/E,eAAC,KAAD,CAAKinB,KAAM,EAAG9I,OAAQ,EAAG/rB,MAAO,CAAEqrB,UAAW,OAA7C,UACGjmB,GAAc,cAAC,IAAD,CAAQxD,KAAK,OAAO6iB,KAAM,cAAC8N,GAAA,EAAD,IAAgBjxB,QAAS,SAAC2Z,GAAOA,EAAEC,kBAAkBC,EAAa,YAAaxW,MACvHmvB,EAAiB,cAAC3B,GAAA,EAAD,CAAgBnyB,MAAO,CAACilB,YAAY,KAAQ,cAACmN,GAAA,EAAD,CAAcpyB,MAAO,CAACilB,YAAY,WAGnGvf,EAAWhB,KAAI,SAACgyB,EAAQz4B,GAAT,OACd,eAAC,IAAD,CAAammB,MAAM,SAASpkB,MAAOs0B,EAAnC,UACE,eAAC,KAAD,CAAK5N,KAAM,EAAG1mB,MAAO,CAAE6nB,aAAc,GAArC,UAA2C6O,EAAQjmB,SAAS7C,KAA5D,OACA,cAAC,KAAD,CAAK8Y,KAAM,EAAX,SACE,cAAC,GAAD,CACEwI,UAAW2G,EAAmBa,EAAQjmB,SAASG,gBAC/CzL,QAASA,EACTmqB,OAAQ,SAACmF,GAAD,OAAcwB,EAAcxB,EAAUiC,EAAQjmB,SAAS9L,OAC/DywB,aAAY,aAAQmB,GAAcG,EAAQjmB,SAASG,iBACnD6e,cAAeqE,EALjB,UAOG4C,EAAQvM,UAAiD,qBAApCuM,EAAQjmB,SAASG,gBAA0C8lB,EAAQvF,KAerFuF,EAAQvM,UAAgD,qBAApCuM,EAAQjmB,SAASG,gBAAyC8lB,EAAQvF,KACxF,cAAC,GAAD,CACExsB,KAAM+xB,EAAQvM,SAASxlB,KACvBwD,IAAK,EACLlE,WAAY,CAAErC,KAAM,YAAa+C,OAAM0S,MAAOqf,EAAQjmB,SAAS9L,MAC/DuqB,UAAW2G,EAAmBa,EAAQjmB,SAASG,gBAC/C+e,aAAa,OACbH,cAAesE,EACfzE,SAAU,SAACvjB,GAAD,OAAOwL,EAA0B3S,EAAM+xB,EAAQjmB,SAAS9L,KAAM+xB,EAAQvM,SAASxlB,OACzFQ,QAASA,IAET,KAzBF,cAAC,GAAD,CACE7E,GAAIo2B,EAAQvM,SAASxlB,KACrBwD,IAAK,EACLwnB,aAAa,OACbD,cAAc,UACdR,UAAW2G,EAAmBa,EAAQjmB,SAASG,gBAC/CzL,QAASA,EACTlB,WAAY,CAAErC,KAAM,YAAa+C,OAAM0S,MAAOqf,EAAQjmB,SAAS9L,MAC/Da,KAAI,2BAAOkxB,EAAQvM,UAAf,IAAyB0F,SAAUyG,GAAYI,EAAQjmB,SAASG,gBAAgBhP,KAAMA,KAAK,QAAD,OAAU00B,GAAYI,EAAQjmB,SAASG,gBAAgBhP,QACrJytB,SAAUyE,EAAiB,SAAChoB,GAAD,OAAOgM,EAAsB,YAAanT,EAAM+xB,EAAQjmB,SAAS9L,KAAM,OAAQ,KAC1G2qB,OAAQ,SAACmF,GAAD,OAAcwB,EAAcxB,EAAUiC,EAAQjmB,SAAS9L,OAC/D6qB,cAAesE,EACfrE,cAAeqE,UAvBf71B,WA0CXmyB,GAA+B,SAAjBT,IAA4BC,MCrN7C+G,GAAmB,CACrB,wBAAwBjB,GACxB,4BAA4BA,GAC5B,0BAA0BA,GAC1B,uDAAuDA,GACvD,kDAAkDA,GAClD,iDAAiDA,GACjD,iDAAiDA,GACjD,kCAAkCA,GAClC,iCAAiCA,GACjC,6BAA6Bc,GAC7B,+BCA6B,SAAC,GAAoH,IAAlHjD,EAAiH,EAAjHA,WAAY5uB,EAAqG,EAArGA,KAAMV,EAA+F,EAA/FA,WAAY0rB,EAAmF,EAAnFA,aAAcH,EAAqE,EAArEA,aAAcN,EAAuD,EAAvDA,UAAW/pB,EAA4C,EAA5CA,QAASkqB,EAAmC,EAAnCA,SAAUlnB,EAAyB,EAAzBA,IAAKynB,EAAoB,EAApBA,MAAO4D,EAAa,EAAbA,OAEtI,EACoEpW,IAAS,SAAAlY,GAAK,MAC9E,CAACA,EAAM/D,MAAO+D,EAAMyV,UAAWzV,EAAMiW,aAAcjW,EAAMuS,gBAAiBvS,EAAMgR,mBAChFhR,EAAM4R,mBAAoB5R,EAAMgS,qBAAsBhS,EAAM4Q,wBAAuB0R,MAHvF,mBAAOrmB,EAAP,KAAcwZ,EAAd,KAAyBQ,EAAzB,KAAuC1D,EAAvC,KAAwDvB,EAAxD,KACEY,EADF,KACsBI,EADtB,KAC4CpB,EAD5C,KAKA,EAA2BsH,GAAS6G,uBAAY,SAAC/e,GAC/C,IAAMM,EAAO+tB,GAA0BruB,EAAMM,KAAKzB,WAAWY,GAC7D,MAAO,CACLa,IACAN,EAAMuV,qBAAqBjV,EAAKb,SAEjC,CAAC4uB,EAAY5uB,IAAO6iB,MANvB,mBAAOhiB,EAAP,KAAaJ,EAAb,KAQA,EAA8B2kB,oBAAS,GAAvC,mBAAOwG,EAAP,KAAgBC,EAAhB,KACA,EAAgCzG,oBAAS,GAAzC,mBAAO6M,EAAP,KAAiBC,EAAjB,KACA,EAAkC7D,eAAlC,mBAAO8D,EAAP,KAAsBn3B,EAAtB,KAAsBA,OAChBo3B,EAAgB3D,oBAAU,CAAEzzB,OAAQA,EAAQ2jB,OAAQA,SAAO+P,QAE3D9lB,EAAUoN,EAAUhW,OAASa,EAAKb,KAElCssB,EAAiC,WAAtB/B,EAAU,GAAGvqB,KACxBmvB,GAAkB7C,GAAYzrB,EAAK0sB,SAGzC,GAAwCpC,cAAQ,iBAAO,CACrDluB,KAAM4D,EAAK5D,KACX4V,KAAK,2BAAMhS,GAAP,IAAavB,aAAY0rB,eAAcN,WAAUlnB,QACrD4nB,QAAS,CAAEC,WAAYL,GACvBO,QAAS,SAAAC,GAAO,MAAK,CACnBC,WAAYD,EAAQC,mBALxB,qBAASA,GAAT,MAASA,WAAcC,GAAvB,MAA6BC,GAA7B,MAUM0G,GAAgB,SAACvC,EAAUtsB,GAC/B,GAAIssB,EAASxwB,WAAWU,OAASA,GAAkC,SAA1B8vB,EAAS9E,aAAyB,CACzE,IAAMgF,EAASF,EAAStsB,KAAOA,EAAMA,EAAM,EAAIA,EAC/C,GAAIwsB,IAAWF,EAAStsB,IACtB,OAEF2O,EAAmB2d,EAAS9vB,KAAM8vB,EAASxwB,WAAWU,KAAMA,EAAM8vB,EAAStsB,IAAKwsB,OAC7C,SAA1BF,EAAS9E,aAClB7Y,EAAmB2d,EAAS9vB,KAAM8vB,EAASxwB,WAAWU,KAAMA,EAAM8vB,EAAStsB,IAAKA,GAEhF+O,EAAqBud,EAAU9vB,EAAMwD,IAInC8uB,GAAYnJ,GAA6CrpB,aAEzDyyB,GAAkB,cACpBvyB,KAAMa,EAAKb,MAASsyB,KADA,mBAEnB/H,IAGCiI,GAAkB,CACtBtS,gBACEuJ,GAAY5oB,EAAK5D,MACnBupB,UAAW,GACXwG,SAAU,IACVhN,aAAc,EACdpjB,SAAU,GACVwjB,QAAS,EACT3hB,SAAU,WACV0hB,OAAQ,EACRuG,UAAW,OACXiG,OAAQ/jB,EAAU,IAAM,GAGpB6pB,GAAgB,SAAC3C,GACjBA,EAAS7yB,KAAKyC,SAAS,gBACzB6R,EAAmBue,EAASjvB,EAAKb,MAEjCmR,EAAqBtQ,EAAKb,KAAK8vB,EAAS9vB,OAI5C,OACE,sBAAK2W,OAAQ8U,IAA+B,SAAjBT,EAA3B,UACE,sBAAKtvB,IAAKiwB,GAAStwB,MAAOm3B,GAAiB1F,UAAWlkB,EAAO,gBAAYpM,GAAU,KAAnF,UACE,eAAC,IAAD,CAAKuwB,MAAM,EAAO1xB,MAAO,CAAEuB,SAAU,GAAI0kB,aAAc,GAAK7B,MAAM,SAAS4B,QAAQ,gBAAnF,UACE,eAAC,IAAD,CAAK3lB,IAAKkwB,EAAU,KAAOF,GAAMqB,MAAM,EAAOtN,MAAM,SAASpkB,MAAO,CAAE4kB,UAAW2L,EAAQ,gCAAgC,KAAM1L,gBAAiB,wBAAyBF,aAAc,EAAGI,QAAS,EAAGsG,UAAW,QAAS3E,KAAM,EAAGiL,SAAU,IAAKC,SAAU,IAAKC,OAAQrC,EAAe,cAAgB,OAAO8B,OAAO,IAAKrM,YAAY,EAAGtlB,OAAQ,IAAlV,UACE,cAACmyB,EAAA,EAAD,CAAM9xB,MAAO,CAAEmmB,WAAY,GAAK4L,UAAW/C,KAC3C,cAAC,KAAD,CAAOhvB,MAAO,CAAC4xB,SAAU,IAAKpwB,MAAM,QAAQqwB,OAAQtB,EAAU,OAASf,EAAe,cAAgB,QAASwC,UAAU,EAAO1N,UAAWiM,EAAS3qB,MAAOJ,EAAKoI,KAAM4W,SAAU,SAACvJ,GAAD,OAAKxD,EAAgB,YAAajS,EAAKb,KAAM,OAAQsW,EAAEjd,OAAO4H,aAEhP,eAAC,IAAD,CAAK8rB,MAAM,EAAOtN,MAAM,SAASpkB,MAAO,CAAEqrB,UAAW,OAArD,WACI4F,GAAY,cAAC,IAAD,CAAQrvB,KAAK,OAAON,QAAS,kBAAMu1B,GAAaD,IAAWnS,KAAM,cAACsQ,GAAA,EAAD,CAAetO,OAAQmQ,EAAW,GAAK,IAAO52B,MAAO,CAACsxB,OAAO,OAC3IwC,GAAkB,cAAC,IAAD,CAAQlyB,KAAK,OAAON,QAAS,kBAAMkvB,GAAYD,IAAU9L,KAAM8L,EAAU,cAAC8G,GAAA,EAAD,IAAkB,cAAC7E,GAAA,EAAD,MAC7GptB,GAAc,cAAC,IAAD,CAAQxD,KAAK,OAAO6iB,KAAM,cAAC8N,GAAA,EAAD,IAAgBjxB,QAAS,SAAC2Z,GAAOA,EAAEC,kBAAkBC,EAAa,YAAaxW,MACxH,cAAC,IAAD,CAAO2yB,MAAO9xB,EAAKf,aAAatG,OAAQo5B,UAAU,EAAMv3B,MAAO,CAAC6kB,gBAAgB,kBAAkBI,YAAY,EAAGkB,WAAW,WAGhI,cAAC,WAAS6C,IAAV,CAAchpB,MAAO+2B,EAArB,SACE,qBAAK12B,IAAKy2B,EAAV,SACGF,GACD,cAAC,GAAD,CACE1H,UAAWgI,GACX5H,OAAQ,SAACmF,GAAD,OAAcuC,GAAcvC,EAAU,IAC9CW,aAAa,aACb3F,cAAeqE,GAAkB1D,IAAcoD,EAC/CruB,QAASA,EALX,SAOGK,EAAKf,aAAaC,KAAI,SAACpE,EAAI6H,GAAL,OACrB,eAAC,IAAMqpB,SAAP,WACW,IAARrpB,GACC,cAAC,GAAD,CAEEyqB,QAAiB,IAARzqB,EAAY,EAAI,EACzBxI,OAAQ,GACRuvB,UAAWgI,GACX/xB,QAASA,EACTmqB,OAAQ,SAACmF,GAAD,OAAcuC,GAAcvC,EAAU,IAC9ChF,cAAeqE,GAAkB1D,IAAcoD,GAN1C,GAST,cAAC,GAAD,CAEE7uB,KAAMrE,EACN2D,WAAY,CAAErC,KAAM,YAAa+C,OAAM0S,MAAO,mBAC9CsY,aAAa,OACbT,UAAWgI,GACX/xB,QAASA,EACTgD,IAAKA,EACLknB,SAAU+H,GACV5H,cAAesE,GAAkB1D,IAAcoD,EAC/C5D,MACE,cAAC,GAAD,CACEV,UAAWgI,GACXv3B,OAAQ,GACRsD,IAAKkF,IAAQ3C,EAAKf,aAAatG,OAAS,EACxCy0B,QAASzqB,IAAQ3C,EAAKf,aAAatG,OAAS,EAAI,EAAI,EACpDgH,QAASA,EACTmqB,OAAQ,SAACmF,GAAD,OAAcuC,GAAcvC,EAAUtsB,EAAM,IACpDsnB,cAAeqE,GAAkB1D,IAAcoD,KAjB9ClzB,KAbY6H,eAyC9BynB,OD/IM4H,GAAc,SAAC/3B,GAExB,IAAMmC,EAAOwb,IAAS,SAAAlY,GAAQ,IAAD,EACzB,OAAOzF,EAAM8zB,WAAa9zB,EAAM8zB,WAAW3xB,KAApC,UAA2CsD,EAAMM,KAAKzB,WAAWtE,EAAMkF,aAAvE,aAA2C,EAAmC/C,QAGzF,IAAKA,EACD,OAAO,KAEX,IAAM61B,EAAYd,GAAiB/0B,GAEnC,OAAO,cAAC61B,EAAD,eAAeh4B,KEfbi4B,GAAe,SAAC,GAAsD,IAApDzzB,EAAmD,EAAnDA,WAAY0rB,EAAuC,EAAvCA,aAAcxqB,EAAyB,EAAzBA,QAAS+pB,EAAgB,EAAhBA,UAE9D,EAGqC9R,IAAS,SAAAlY,GAAK,MAAK,CAChDA,EAAMP,KACNO,EAAM0I,KACN1I,EAAMtD,KACNsD,EAAM3E,UACN2E,EAAMT,eACNS,EAAMuV,qBAAqBvV,EAAMP,MACjCO,EAAM4R,mBACN5R,EAAMgR,mBACNhR,EAAM4Q,qBACN5Q,EAAMgS,qBACNhS,EAAMyP,WACN6S,MAfR,oBAAO7iB,EAAP,KAAaiJ,EAAb,KAAmBhM,EAAnB,KAAyBrB,EAAzB,KACIkE,EADJ,KACkBW,EADlB,KAC8B0R,EAD9B,KAEIZ,EAFJ,KAEwBJ,EAFxB,KAGIoB,EAHJ,KAG0BvC,EAH1B,MAiBA,EAA8BoV,oBAAS,GAAvC,mBAAOwG,EAAP,KAAgBC,EAAhB,KAEMhrB,EAAO,CAAEb,OAAMiJ,OAAMhM,OAAM6C,eAAclE,aAEzC02B,EAAYnJ,GAAqDrpB,aAEjEkzB,EAAgB,cAChBhzB,KAAMA,GAASsyB,IADC,mBAEf/H,IAGP,EAAyC9R,IAAS,SAAAlY,GAAK,MAAK,CACxDA,EAAM/D,MACN+D,EAAMyV,UACNzV,EAAMiW,gBACNqM,MAJJ,mBAAOrmB,EAAP,KAAcwZ,EAAd,KAAyBQ,EAAzB,KAMM5N,EAAUoN,EAAUhW,OAASA,EAEnC,EAAwCmrB,cAAQ,iBAAO,CACnDluB,KAAM4D,EAAK5D,KACX4V,KAAK,2BAAMhS,GAAP,IAAavB,aAAY0rB,iBAC7BI,QAAS,CAAEC,WAAYL,GACvBO,QAAS,SAAAC,GAAO,MAAK,CACjBC,WAAYD,EAAQC,mBAL5B,mBAASA,EAAT,KAASA,WAAcC,EAAvB,KAA6BC,EAA7B,KASM0G,EAAgB,SAACvC,EAAUtsB,GAC7B,GAAIssB,EAASxwB,WAAWU,OAASA,GAAkC,SAA1B8vB,EAAS9E,aAAyB,CACvE,IAAMgF,EAASF,EAAStsB,KAAOA,EAAMA,EAAM,EAAIA,EAC/C,GAAIwsB,IAAWF,EAAStsB,IACpB,OAEJ2O,EAAmB2d,EAAS9vB,KAAM8vB,EAASxwB,WAAWU,KAAMA,EAAM8vB,EAAStsB,IAAKwsB,OAC/C,SAA1BF,EAAS9E,aAChB7Y,EAAmB2d,EAAS9vB,KAAM8vB,EAASxwB,WAAWU,KAAMA,EAAM8vB,EAAStsB,IAAKA,GAEhF+O,EAAqBud,EAAU9vB,EAAMwD,IAIvCivB,EAAgB,SAAC3C,GACfA,EAAS7yB,KAAKyC,SAAS,gBACzB6R,EAAmBue,EAASjvB,EAAKb,MAEjCmR,EAAqBtQ,EAAKb,KAAK8vB,EAAS9vB,OAIxCwyB,EAAkB,CACpBpP,QAAS,eACT3kB,SAAU,WACVw0B,KAAMr3B,EAAU6B,EAChBkxB,IAAK/yB,EAAU8B,EACfskB,QAASyJ,EAAa,GAAM,EAC5BvL,gBACIuJ,GAAY,wCAChBjD,UAAW,GACXwG,SAAU,IACVhN,aAAc,EACdI,QAAS,EACTuM,OAAQ/jB,EAAU,IAAM,GAG5B,OACI,sBAAKsqB,OAAQ,SAAA5c,GAAC,OAAIA,EAAEC,mBAAmB7a,IAAKiwB,EAAStwB,MAAOm3B,EAAiB1F,UAAWlkB,EAAO,gBAAYpM,GAAU,KAArH,UACI,eAAC,IAAD,CAAKnB,MAAO,CAAEuB,SAAU,GAAI0kB,aAAc,GAAK7B,MAAM,SAAS4B,QAAQ,gBAAtE,UACI,eAAC,IAAD,CAAK3lB,IAAKkwB,EAAU,KAAOF,EAAMqB,MAAM,EAAOtN,MAAM,SAASpkB,MAAO,CAAE4kB,UAAW2L,EAAU,gCAAkC,KAAM1L,gBAAiB,wBAAyBF,aAAc,EAAGI,QAAS,EAAGsG,UAAW,QAAS3E,KAAM,EAAGiL,SAAU,IAAKC,SAAU,IAAKC,OAAQtB,EAAU,KAAO,OAAQe,OAAQ,IAAKrM,YAAa,EAAGtlB,OAAQ,IAA3U,UACI,cAACmyB,EAAA,EAAD,CAAM9xB,MAAO,CAAEmmB,WAAY,GAAK4L,UAAW/C,KAC3C,cAAC,KAAD,CAAOhvB,MAAO,CAAE4xB,SAAU,IAAKpwB,MAAO,QAASqwB,OAAQtB,EAAU,OAAS,QAAUyB,UAAU,EAAO1N,UAAWiM,EAAS3qB,MAAOgI,EAAM4W,SAAU,SAACvJ,GAAD,OAAOtG,EAAQsG,EAAEjd,OAAO4H,aAE5K,eAAC,IAAD,CAAK8rB,MAAM,EAAOtN,MAAM,SAASpkB,MAAO,CAAEqrB,UAAW,OAArD,UACI,cAAC,IAAD,CAAQzpB,KAAK,OAAON,QAAS,kBAAMkvB,GAAYD,IAAU9L,KAAM8L,EAAU,cAAC8G,GAAA,EAAD,IAAkB,cAAC7E,GAAA,EAAD,MAC1FptB,GAAc,cAAC,IAAD,CAAQxD,KAAK,OAAO6iB,KAAM,cAAC8N,GAAA,EAAD,IAAgBjxB,QAAS,SAAC2Z,GAAOA,EAAEC,kBAAkBC,EAAa,UAAWxW,MACtH,cAACwtB,GAAA,EAAD,CAAgBnyB,MAAO,CAACilB,YAAY,EAAEkB,WAAW,WASzD,cAAC,GAAD,CACI+I,UAAWyI,EACXrI,OAAQ,SAACmF,GAAD,OAAcuC,EAAcvC,EAAU,IAC9CW,aAAa,aACbjwB,QAASA,EAJb,SAMKV,EAAaC,KAAI,SAACpE,EAAI6H,GAAL,OACd,eAAC,IAAMqpB,SAAP,WACa,IAARrpB,GACG,cAAC,GAAD,CAEIyqB,QAAiB,IAARzqB,EAAY,EAAI,EACzBxI,OAAQ,GACRuvB,UAAWyI,EACXxyB,QAASA,EACTmqB,OAAQ,SAACmF,GAAD,OAAcuC,EAAcvC,EAAU,IAC9ChF,cAAc,GANT,GASb,cAAC,GAAD,CAEI9qB,KAAMrE,EACN2D,WAAY,CAAErC,KAAM,UAAW+C,OAAM0S,MAAO,mBAC5CsY,aAAa,OACbT,UAAWyI,EACXxyB,QAASA,EACTgD,IAAKA,EACLknB,SAAU+H,EACV5H,cAAc,EACdI,MACI,cAAC,GAAD,CACIV,UAAWyI,EACXh4B,OAAQ,GACRsD,IAAKkF,IAAQ1D,EAAatG,OAAS,EACnCy0B,QAASzqB,IAAQ1D,EAAatG,OAAS,EAAI,EAAI,EAC/CgH,QAASA,EACTmqB,OAAQ,SAACmF,GAAD,OAAcuC,EAAcvC,EAAUtsB,EAAM,IACpDsnB,cAAc,KAjBjBnvB,KAbQ6H,YC3H5B2vB,GAAO72B,IAAO+nB,IAAV,yRCCJ+O,GAAc,SAACt4B,GAExB,IAAM+F,EAAO/F,EAAM+F,KACbmT,EAAsByE,IAAS,SAAAlY,GAAK,OAAEA,EAAMyT,uBAU5CkX,EAAWpwB,EAAMowB,SACjBlrB,EAAOa,EAAKb,KAElB,OACE,cAAC,GAAD,CACIuqB,UAAWzvB,EAAMyvB,UACjBjrB,WAAY,CAACrC,KAAK,QAAQ+C,KAAKlF,EAAMu4B,QACrCxyB,KAAI,2BAAMA,GAAN,IAAYqqB,WAAUjuB,KAAKnC,EAAMmC,OACrCuD,QAAS,CAACR,KAAM,CAACiJ,KAAMjJ,EAAMwsB,MAAM,IACnCe,SAAUzyB,EAAMyyB,SAChB3C,aAlByB,SAAA0I,GAC7Btf,EAAoBlZ,EAAMu4B,OAAQv4B,EAAMa,GAAI,OAAQ23B,IAkBhD5I,SAfoB,SAAApU,GACxBxb,EAAMy4B,UAAUz4B,EAAM+F,UCPf2yB,GAAmB,SAAC14B,GAC/B,IAAMkF,EAAOlF,EAAMqF,MAAMH,KACnBa,EAAO4X,GAAS6G,uBAAY,SAAA/e,GAAK,OAAEA,EAAMM,KAAKvD,GAAU,UAAU0C,GAAMzG,YAAU,CAACyG,KAEnF6T,EAAsB4E,IAAS,SAAAlY,GAAK,OAAEA,EAAMsT,uBAE5C4f,EAAW,SAAA3nB,GACf+H,EAAoB/Y,EAAMqF,MAAO2L,IAG7B4nB,EAAoB,SAAAC,GACxB,MAAmB,kBAAfA,EACK,UACiB,qBAAfA,EACF,QACiB,qBAAfA,EACF,aACiB,iCAAfA,EACF,WAEF,IAWT,OACE,qBAAKt4B,MATY,CACjB2kB,aAAc,EACdjlB,MAAO,OACPumB,aAAc,EACdlB,QAAS,EACTF,gBAAiB,mBAIjB,SACGrf,EAAKd,KAAI,SAAC6zB,GACP,OACE,qBAAoBv4B,MAAO,CAACw4B,WAAW,GAAvC,SACE,cAAC,GAAD,CAEEl4B,GAAIi4B,EAAI5zB,KACRa,KAAM+yB,EACN1I,SAAUwI,EAAkBE,EAAI3nB,gBAChChP,KAAM,QAAQy2B,EAAkBE,EAAI3nB,gBACpConB,OAAQv4B,EAAMqF,MAAMH,KACpButB,SAAUzyB,EAAMqF,MAAMotB,SACtBhD,UAAWzvB,EAAMyvB,UACjBgJ,UAAWE,GARNG,EAAI5zB,OAFH4zB,EAAI5zB,YCtBpB8zB,GAAoB,CACtB,gBAAiB,oBACjB,mBAAoB,uBACpB,mBAAoB,kBACpB,sBAAuB,qBACvB,+BAAgC,sBAGvBC,GAAa,SAAC,GAA0E,IAAzEnF,EAAwE,EAAxEA,WAAW5uB,EAA6D,EAA7DA,KAAKV,EAAwD,EAAxDA,WAAW0rB,EAA6C,EAA7CA,aAAaT,EAAgC,EAAhCA,UAAU/pB,EAAsB,EAAtBA,QAAQkqB,EAAc,EAAdA,SAElF,EACgEjS,IAAS,SAAAlY,GAAK,MAC1E,CAACA,EAAM/D,MAAM+D,EAAMyV,UAAUzV,EAAMgR,mBAAmBhR,EAAM4Q,qBAC5D5Q,EAAM4R,mBAAmB5R,EAAMgS,qBAAqBhS,EAAMuS,mBAAkB+P,MAHhF,mBAAOrmB,EAAP,KAAawZ,EAAb,KAAuBzE,EAAvB,KAA0CJ,EAA1C,KACIgB,EADJ,KACuBI,EADvB,KAC6CO,EAD7C,KAKMS,EAAsBkF,IAAS,SAAAlY,GAAK,OAAEA,EAAMgT,uBAE5C1S,EAAO4X,GAAS6G,uBAAY,SAAC/e,GAC/B,OAAOquB,GAA0BruB,EAAMM,KAAKxB,OAAOW,KACrD,CAAC4uB,EAAW5uB,IAAO6iB,MAEfja,EAAUoN,EAAUhW,OAASa,EAAKb,KACxC,EAA8BolB,oBAAS,GAAvC,mBAAOwG,EAAP,KAAgBC,EAAhB,KAGMyG,EAAYnJ,GAAmDrpB,aAE/DwsB,EAAiC,WAAtB/B,EAAU,GAAGvqB,KACxBmvB,GAAkB7C,GAAYzrB,EAAK0sB,SAEnCyG,EAAc,cACfh0B,KAAKa,EAAKb,MAAQsyB,IADH,mBAEb/H,IAIP,EAAwCY,cAAQ,iBAAO,CACnDluB,KAAM4D,EAAK5D,KACX4V,KAAK,2BAAMhS,GAAP,IAAavB,aAAY0rB,eAAcN,aAC3CU,QAAS,CAAEC,WAAYL,GACvBO,QAAS,SAAAC,GAAO,MAAK,CACnBC,WAAYD,EAAQC,mBAL1B,mBAASA,EAAT,KAASA,WAAcC,EAAvB,KAA6BC,EAA7B,KAUM0G,EAAgB,SAACvC,EAAUtsB,GAC7B,GAAIssB,EAASxwB,WAAWU,OAASA,GAAkC,SAA1B8vB,EAAS9E,aAAyB,CACvE,IAAMgF,EAASF,EAAStsB,KAAOA,EAAMA,EAAM,EAAIA,EAC/C,GAAIwsB,IAAWF,EAAStsB,IACpB,OAEJ2O,EAAmB2d,EAAS9vB,KAAM8vB,EAASxwB,WAAWU,KAAMA,EAAM8vB,EAAStsB,IAAKwsB,OAC/C,SAA1BF,EAAS9E,aAChB7Y,EAAmB2d,EAAS9vB,KAAM8vB,EAASxwB,WAAWU,KAAMA,EAAM8vB,EAAStsB,IAAKA,GAEhF+O,EAAqBud,EAAU9vB,EAAMwD,IAKvCywB,EAA0B,SAAA3d,GAC5B,IAAMzD,EAAO,CAAC7S,KAAMhD,EAAa,aAAciM,KAAM6qB,GAAkBxd,EAAE5c,KAAM+Q,YAAa,GAAIypB,SAAS,EAAOjoB,eAAgBqK,EAAE5c,IAAKuD,KAAM,uBAAwBswB,SAAU1sB,EAAK0sB,SAAUO,YAAY,GAC1Mva,EAAoB1S,EAAKb,KAAM6S,IAI/BshB,EAAc,eACX3zB,GAEPK,EAAKtH,UAAUsF,SAAQ,SAAA+U,GACnBugB,EAAevgB,EAAI5T,MAAQ,CAACiJ,KAAK2K,EAAI3K,KAAKujB,MAAK,MAGnD,IAAMiG,EAAgB,SAAC3C,GACfA,EAAS7yB,KAAKyC,SAAS,gBACzB6R,EAAmBue,EAASjvB,EAAKb,MAEjCmR,EAAqBtQ,EAAKb,KAAK8vB,EAAS9vB,OAIxCwyB,EAAkB,CACpBpP,QAAQ,eACR3kB,SAAgC,WAAtB8rB,EAAU,GAAGvqB,KAAoB,WAAa,WACxDizB,KAAKpyB,EAAKjF,UAAU6B,EACpBkxB,IAAI9tB,EAAKjF,UAAU8B,EACnBwiB,gBACEuJ,GAAY,sCACdjD,UAAW,GACXwG,SAAU,IACVhN,aAAc,EACdI,QAAS,EACTuM,OAAQ/jB,EAAU,IAAM,EACxBoZ,QAASyJ,EAAa,GAAM,GAGhC,OACI,sBAAK/vB,IAAKiwB,EAAStwB,MAAOm3B,EAAiB1F,UAAWlkB,EAAQ,SAAD,OAAUpM,GAAQ,KAA/E,UACI,eAAC,IAAD,CAAKnB,MAAO,CAAEuB,SAAU,GAAI0kB,aAAc,GAAK7B,MAAM,SAAS4B,QAAQ,gBAAtE,UACI,eAAC,IAAD,CAAK3lB,IAAKkwB,EAAU,KAAOF,EAAMqB,MAAM,EAAOtN,MAAM,SAASpkB,MAAO,CAAE4kB,UAAW2L,EAAU,gCAAkC,KAAM1L,gBAAiB,wBAAyBF,aAAc,EAAGI,QAAS,EAAGsG,UAAW,QAAS3E,KAAM,EAAGiL,SAAU,IAAKC,SAAU,IAAKC,OAAQtB,EAAU,KAAO,OAAQe,OAAQ,IAAKrM,YAAa,EAAGtlB,OAAQ,IAA3U,UACI,cAACmyB,EAAA,EAAD,CAAM9xB,MAAO,CAAEmmB,WAAY,GAAK4L,UAAW/C,KAC3C,cAAC,KAAD,CAAOhvB,MAAO,CAAE4xB,SAAU,IAAKpwB,MAAO,QAASqwB,OAAQtB,EAAU,OAAS,QAAUyB,UAAU,EAAO1N,UAAWiM,EAAS3qB,MAAOJ,EAAKoI,KAAM4W,SAAU,SAACvJ,GAAD,OAAKxD,EAAgB,QAASjS,EAAKb,KAAM,OAAQsW,EAAEjd,OAAO4H,aAEnN,eAAC,IAAD,CAAK8rB,MAAM,EAAOtN,MAAM,SAASpkB,MAAO,CAACqrB,UAAU,OAAnD,UACKyI,EAAiB,cAAC3B,GAAA,EAAD,CAAgBnyB,MAAO,CAACilB,YAAY,EAAEkB,WAAW,KAAQ,cAACiM,GAAA,EAAD,CAAcpyB,MAAO,CAACilB,YAAY,EAAEkB,WAAW,KACzH2N,GACD,cAAC,KAAD,CAAUzB,QACN,eAAC,KAAD,WACKyB,IAAmBvD,GAAW,cAAC,KAAKrM,KAAN,CAAsB5iB,QAAS,kBAAMkvB,GAAW,IAAhD,2BAAe,QAG7CD,GAAW,cAAC,KAAKrM,KAAN,CAAsB5iB,QAAS,kBAAMkvB,GAAW,IAAhD,4BAAe,QAG1BD,GAAW,cAAC,KAAKrM,KAAN,CAA+B5iB,QAASs3B,EAAyBnU,KAAM,cAACqN,EAAA,EAAD,CAAM9xB,MAAO,CAACilB,YAAY,IAAK8M,UAAWnD,KAAjH,kCAAe,iBAG1B2B,GAAW,cAAC,KAAKrM,KAAN,CAA8C5iB,QAASs3B,EAAyBnU,KAAM,cAACqN,EAAA,EAAD,CAAM9xB,MAAO,CAACilB,YAAY,IAAK8M,UAAWlD,KAAhI,mCAAe,gCAG1B0B,GAAW,cAAC,KAAKrM,KAAN,CAAkC5iB,QAASs3B,EAAyBnU,KAAM,cAACqN,EAAA,EAAD,CAAM9xB,MAAO,CAACilB,YAAY,IAAK8M,UAAWjD,KAApH,gCAAe,oBAG1ByB,GAAW,cAAC,KAAKrM,KAAN,CAAkC5iB,QAASs3B,EAAyBnU,KAAM,cAACqN,EAAA,EAAD,CAAM9xB,MAAO,CAACilB,YAAY,IAAK8M,UAAW/C,KAApH,sCAAe,uBAjBnC,SAsBI,cAAC,IAAD,CACIptB,KAAK,OACL5B,MAAO,CAAEmmB,WAAY,GACrB1B,KAAM,cAACC,GAAA,EAAD,cAKtB,cAAC,IAAD,WACMuM,GAAY,cAAC,GAAD,CAAkBnsB,MAAOU,EAAM0pB,UAAWyJ,MAE5D,cAAC,GAAD,CACIzJ,UAAWyJ,EACXrJ,OAAQ,SAACmF,GAAD,OAAcuC,EAAcvC,EAAU,IAC9CW,aAAa,aACb3F,cAAeqE,EACf3uB,QAAS2zB,EALb,SAOKtzB,EAAKf,aAAaC,KAAI,SAACpE,EAAI6H,GAAL,OACnB,eAAC,IAAMqpB,SAAP,WACa,IAARrpB,GACG,cAAC,GAAD,CAEIyqB,QAAe,IAANzqB,EAAU,EAAI,EACvBxI,OAAQ,GACRuvB,UAAWyJ,EACXxzB,QAAS2zB,EACTxJ,OAAQ,SAACmF,GAAD,OAAcuC,EAAcvC,EAAU,IAC9ChF,cAAeqE,GANV,GASb,cAAC,GAAD,CAEInvB,KAAMrE,EACN2D,WAAY,CAAErC,KAAM,UAAW+C,OAAM0S,MAAO,mBAC5CsY,aAAa,OACbN,SAAU+H,EACVlI,UAAWyJ,EACXxzB,QAAS2zB,EACT3wB,IAAKA,EACLqnB,cAAesE,EACflE,MACI,cAAC,GAAD,CACIV,UAAWyJ,EACXh5B,OAAQ,GACRsD,IAAKkF,IAAQ3C,EAAKf,aAAatG,OAAO,EACtCy0B,QAASzqB,IAAQ3C,EAAKf,aAAatG,OAAO,EAAI,EAAI,EAClDgH,QAAS2zB,EACTxJ,OAAQ,SAACmF,GAAD,OAAcuC,EAAcvC,EAAUtsB,EAAM,IACpDsnB,cAAeqE,KAjBlBxzB,KAbQ6H,YC7J5B4wB,GAAS,WAElB,IAAM14B,EAAM24B,mBACZ,EAAyB5b,IAAS,SAAAlY,GAAK,MAAI,CAACA,EAAM6Y,mBAA3CA,EAAP,oBACMkb,EAAcnL,GAAkBrpB,aAAaupB,QAE7CkB,EAAY,CAAC,aACbvqB,KAAM,QAAWmpB,GAAkBrpB,eAGzC,EAAmE2Y,IAAS,SAAAlY,GAAK,MAAI,CAACA,EAAM8S,SAAU9S,EAAM+S,mBAAoB/S,EAAMM,KAAKxB,OAAQkB,EAAMgR,sBAAoBsR,MAA7K,mBAAOxP,EAAP,KAAiBC,EAAjB,KAAqCjU,EAArC,KAA6CkS,EAA7C,KACMgjB,EAAa9b,IAAS,SAAAlY,GAAK,sEAC1ByG,GAAUzG,EAAMM,KAAKW,cAAc,SAAA2B,GAAW,MAAK,CAAE8F,KAAM9F,EAAYkH,aAAapB,KAAMujB,MAAM,OAChGxlB,GAAUzG,EAAMM,KAAKY,WAAW,SAAA8K,GAAQ,MAAK,CAAEtD,KAAMsD,EAAStD,KAAMujB,MAAM,OAC1ExlB,GAAUzG,EAAMM,KAAKa,WAAW,SAAA8K,GAAQ,MAAK,CAAEvD,KAAMuD,EAASvD,KAAMujB,MAAM,OAC1ExlB,GAAUzG,EAAMM,KAAK2B,UAAU,SAAAC,GAAO,MAAK,CAAEwG,KAAMxG,EAAQwG,KAAMujB,MAAM,OACvExlB,GAAUzG,EAAMM,KAAKgB,cAAc,SAAAC,GAAU,MAAK,CAAEmH,KAAMnH,EAAWmH,KAAMujB,MAAM,SACrF3J,MAIGmJ,EAAOF,aAAQ,CACjBC,OAAQuI,EACRtI,KAAM,SAACnZ,EAAM2Y,GACT,IAAMlmB,EAAQkmB,EAAQgJ,iCACtB,GAAkB,yCAAd3hB,EAAK5V,KACLoW,EAAS,UAAWR,EAAK7S,KAAMsF,EAAM7H,EAAG6H,EAAM5H,QAC3C,GAAkB,uCAAdmV,EAAK5V,MAAiDoC,EAAOwT,EAAK7S,MACzEqT,EAAS,QAASR,EAAK7S,KAAMsF,EAAM7H,EAAG6H,EAAM5H,QACzC,GAAkB,uCAAdmV,EAAK5V,KAA+C,CAC3D,IAAMmqB,EAASoE,EAAQiJ,kBACjBC,EAAOh5B,EAAIi5B,QAAQC,wBACzBthB,EAAmB,QAAST,EAAOuU,EAAO3pB,EAAIi3B,EAAKj3B,EAAK2pB,EAAO1pB,EAAIg3B,EAAKh3B,QAExE2E,QAAQC,IAAIuQ,IAGpBqZ,QAAS,SAACrZ,EAAM1L,GAAP,OAAcmtB,EAAYl6B,QAAQyY,EAAK5V,OAAS,KAC1D,GAEH,OACI,qBAAK5B,MAAO,CAAEN,MAAO,OAAQC,OAAQ,OAAQ2xB,OAAQ,IAAKluB,SAAU,WAAYglB,SAAU,SAAUiD,UAAW,QAA/G,SACI,eAACyM,GAAD,CAAMz3B,IAAKswB,EAAKtwB,GAAMiB,QAASyc,EAA/B,UACI,cAAC,GAAD,CACImR,UAAWA,EACX/pB,QAAS+zB,EACTvJ,aAAa,OACb1rB,WAAY,CAAErC,KAAM,OAAQ+C,KAAM,UAErC7G,OAAOgB,KAAKkF,GAAQU,KAAI,SAAAC,GAAI,OACzB,cAAC,GAAD,CAEIA,KAAMA,EACN0qB,SAAU,SAACoF,GAAD,OAAYve,EAAmBue,EAAS,OAClDxwB,WAAY,CAAErC,KAAM,OAAQ+C,KAAM,QAClCgrB,aAAa,OACbT,UAAWA,EACX/pB,QAAS+zB,GANJv0B,YC3DhB60B,GAAqB,CAC9B,wBAAyB,CACrB5rB,KAAM,QACNwB,YAAa,mCACb8iB,UAAU,EACVO,YAAY,EACZ/sB,WAAY,CACRsE,SAAU,IAGlB,0BAA2B,CACvB4D,KAAM,eACNwB,YAAa,kCACb8iB,UAAU,EACVO,YAAY,EACZ/sB,WAAY,CACRtC,SAAU,GACViH,MAAO,GACPovB,OAAQ,EACR5qB,SAAU,YACV/I,WAAY,OAGpB,uDAAwD,CACpD8H,KAAM,qBACNwB,YAAa,uBACb8iB,UAAU,EACVO,YAAY,EACZ/sB,WAAY,CACRK,aAAc,OAGtB,kDAAmD,CAC/C6H,KAAM,gBACNwB,YAAa,kBACb8iB,UAAU,EACVO,YAAY,EACZ/sB,WAAY,CACRK,aAAc,OAGtB,iDAAkD,CAC9C6H,KAAM,eACNwB,YAAa,iBACb8iB,UAAU,EACVO,YAAY,EACZ/sB,WAAY,CACRK,aAAc,OAGtB,iDAAkD,CAC9C6H,KAAM,eACNwB,YAAa,kBACb8iB,UAAU,EACVO,YAAY,EACZ/sB,WAAY,CACRK,aAAc,OAGtB,kCAAmC,CAC/B6H,KAAM,kBACNwB,YAAa,wCACb8iB,UAAU,EACVO,YAAY,EACZ/sB,WAAY,CACRg0B,eAAe,EACf1zB,gBAAiB,OAIzB,iCAAkC,CAC9B4H,KAAM,iBACNwB,YAAa,qDACb8iB,UAAU,EACVO,YAAY,EACZ/sB,WAAY,CACRg0B,eAAe,EACfvE,SAAU,EACVH,UAAW,QACX/uB,cAAe,OAGvB,4BAA6B,CACzB2H,KAAM,aACNwB,YAAa,+BACb8iB,UAAU,EACVO,YAAY,EACZ/sB,WAAY,IAEhB,6BAA8B,CAC1BkI,KAAM,aACNwB,YAAa,kBACb8iB,UAAU,EACVO,YAAY,EACZ/sB,WAAY,KAIPi0B,GAAqB,CAC9B,mBAAoB,CAChB/rB,KAAM,iBACN6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,wDAEbxI,oBAAqB,KACrBC,kBAAmB,KACnBC,eAAgB,GAChBH,MAAO,KACPwuB,SAAU,GACVH,UAAW,SAEf,qCAAsC,CAClCpnB,KAAM,YACNrN,UAAW,CAAE6B,EAAG,EAAGC,EAAG,GACtB6vB,UAAU,EACVO,YAAY,EACZrjB,YAAa,+FACb1J,WAAY,GACZxH,UAAW,GACXuG,aAAc,IAElB,+BAAgC,CAC5BmJ,KAAM,YACNskB,UAAU,EACVO,YAAY,EACZrjB,YAAa,mDACb1J,WAAY,GACZjB,aAAc,KAoLTm1B,GAAiB97B,OAAOgB,KAAK06B,IAAoB1pB,QAAO,SAAAlO,GAAI,OAAMA,EAAKyC,SAAS,YAGhFw1B,IAFiB/7B,OAAOgB,KAAK66B,IAEL,SAAC/3B,GAClC,OAAO,aAAE+C,KAAMhD,EAAaC,GAAOA,QAAS43B,GAAmB53B,MAGtDk4B,GAAwB,SAACl4B,GAClC,OAAO,aAAE+C,KAAMhD,EAAaC,GAAOA,QAAS+3B,GAAmB/3B,KCpTtDm4B,GAAmB,SAACjuB,GAE7B,IAAMojB,EAAY,CAAC,aACdvqB,KAAK,UAAYmpB,GAAoBC,UAG1C,OACI,cAAC,IAAMyD,SAAP,UACKoI,GAAel1B,KAAI,SAAC9C,EAAK3D,GAAN,OAChB,qBAAgB+B,MAAO,CAACw4B,WAAW,GAAnC,SACI,cAAC,GAAD,CACItJ,UAAWA,EACX/mB,IAAKlK,EACLgG,WAAY,CAACrC,KAAK,SAAS+C,KAAK,UAChC4uB,WAAYsG,GAAsBj4B,GAClC+tB,aAAa,OACbF,cAAY,EACZtqB,QAAS,MARPvD,SCbbo4B,GAAmB,SAACluB,GAE7B,IAAMojB,EAAY,CAAC,aACbvqB,KAAM,UAAampB,GAAoBC,UAG7C,OACI,eAAC,IAAMyD,SAAP,WACI,qBAAsBxxB,MAAO,CAAEw4B,WAAY,GAA3C,SACI,cAAC,GAAD,CAEIjF,WAAYuG,GAAsB,oBAClC5K,UAAWA,EACX/mB,IAAK,EACLlE,WAAY,CAAErC,KAAM,SAAU+C,KAAM,UACpCgrB,aAAa,OACbxqB,QAAS,IANL,eAFH,cAUT,qBAAiBnF,MAAO,CAAEw4B,WAAY,GAAtC,SACI,cAAC,GAAD,CAEIjF,WAAYuG,GAAsB,sCAClC5K,UAAWA,EACX/mB,IAAK,EACLlE,WAAY,CAACrC,KAAM,SAAS+C,KAAM,UAClCgrB,aAAa,OACbxqB,QAAS,IANL,UAFH,SAUT,qBAAwBnF,MAAO,CAACw4B,WAAY,GAA5C,SACI,cAAC,GAAD,CAEIjF,WAAYuG,GAAsB,gCAClC5K,UAAWA,EACX/mB,IAAK,EACLlE,WAAY,CAACrC,KAAM,SAAS+C,KAAM,UAClCgrB,aAAa,OACbxqB,QAAS,IANL,iBAFH,oBC3BR80B,GAAa,SAAC,GAAgB,IAAfpK,EAAc,EAAdA,SAGlBrqB,EAAO4X,GAAS6G,uBAAY,SAAA/e,GAAK,OACnCpH,OAAOyF,OAAO2B,EAAMM,KAAKvD,GAAU4tB,KAClC/f,QAAO,SAAAtK,GAAI,OAAEA,EAAKoI,KAAKvJ,SAASa,EAAM8Y,iBAAa,CAAC6R,IAAWrI,MAE9D0R,EAAa9b,IAAS,SAAAlY,GAAK,sEAC1ByG,GAAUzG,EAAMM,KAAKW,cAAa,SAAA2B,GAAW,MAAG,CAAC8F,KAAK9F,EAAYkH,aAAapB,KAAKujB,MAAK,OACzFxlB,GAAUzG,EAAMM,KAAKY,WAAU,SAAA8K,GAAQ,MAAG,CAACtD,KAAKsD,EAAStD,KAAKujB,MAAK,OACnExlB,GAAUzG,EAAMM,KAAKa,WAAU,SAAA8K,GAAQ,MAAG,CAACvD,KAAKuD,EAASvD,KAAKujB,MAAK,OACnExlB,GAAUzG,EAAMM,KAAK2B,UAAS,SAAAC,GAAO,MAAG,CAACwG,KAAKxG,EAAQwG,KAAKujB,MAAK,OAChExlB,GAAUzG,EAAMM,KAAKgB,cAAa,SAAAC,GAAU,MAAG,CAACmH,KAAKnH,EAAWmH,KAAKujB,MAAK,SAC9E3J,MAEG0H,EAAY,CAAC,aACdvqB,KAAK,UAAYmpB,GAAoBC,UAG1C,OACI,cAAC,IAAMyD,SAAP,UACKhsB,EAAKd,KAAI,SAACw1B,EAAMj8B,GAAP,OACN,qBAAsB+B,MAAO,CAACw4B,WAAW,GAAzC,SACI,cAAC,GAAD,CACItJ,UAAWA,EACX/mB,IAAKlK,EACLgG,WAAY,CAACrC,KAAK,SAAS+C,KAAK,UAChCa,KAAI,2BAAM00B,GAAN,IAAYrK,WAASjuB,KAAK,QAAD,OAASiuB,KACtCF,aAAa,OACbF,cAAY,EACZtqB,QAAS+zB,KARPgB,EAAMv1B,Y,WCvBnBw1B,GAAa,SAACruB,GAEvB,IAAMmtB,EAAcnL,GAAmBG,IAAID,QAI3C,EAAkCyC,aAAQ,CACtCC,OAAQuI,EACRtI,KAAM,SAACnZ,EAAM1L,GACT9E,QAAQC,IAAIuQ,GACRA,EAAK6X,UAAY7X,EAAKib,YACtBjb,EAAK6X,SAAS7X,IAGtBqZ,QAAS,SAACrZ,EAAM1L,GAAP,OAAcmtB,EAAYl6B,QAAQyY,EAAK5V,OAAO,GAAK4V,EAAKib,YACjEvC,QAAS,SAACC,GAAD,MAAc,CACnBW,OAAQX,EAAQW,SAChBD,QAASV,EAAQU,cAXzB,0BAAQC,EAAR,EAAQA,OAAQD,EAAhB,EAAgBA,QAAUF,EAA1B,KAeKE,GACD7pB,QAAQC,MAGZ,IAAI0f,EAAU,GACVjnB,EAAQ,GACRoxB,IACApxB,EAAQ,IACRinB,EAAU,IAGd,IAAMwN,EAAS,CACXtP,gBAAiB,UACjBnlB,QACA4xB,OAAQ,IACRluB,SAAU,WACVg3B,MAAM,GACN3G,OAAO,GACP9zB,OAAO,GACPglB,aAAa,EACbI,QAAQ,EACRgD,QAAQ,OACRC,cAAe,OAGnB,OACI,qBAAK1M,QAASuV,EAASxwB,IAAKswB,EAAM3wB,MAAOm0B,EAAzC,SACI,cAAC,IAAD,CAAK/P,MAAM,SAAS4B,QAAQ,SAAShmB,MAAO,CAAC0mB,KAAK,EAAE/mB,OAAO,OAAOD,MAAM,OAAOmlB,gBAAgB,cAAD,OAAe8B,EAAf,MAA9F,SACI,cAAC0T,GAAA,EAAD,CAAcr6B,MAAO,CAACwB,MAAM,UAAUD,SAAS,WClDzD+4B,GAAa,SAACx1B,GAChB,IAAIY,EAAa,CAACG,WAAWf,EAAMH,MAGnC,OAFAG,EAAM5G,UAAUsF,SAAQ,SAAA+U,GAAM7S,EAAW6S,EAAI5T,MAAQ,QAE9C,CACH/C,KAAM,6BACN+C,KAAMhD,EAAa,cACnBiM,KAAK,kBAAD,OAAoB9I,EAAM8I,MAC9BskB,UAAU,EACVO,YAAY,EACZrjB,YAAa,GACb1J,eAIK60B,GAAkB,SAACzuB,GAE5B,IAAMojB,EAAY,CAAC,aACbvqB,KAAM,UAAampB,GAAoBC,UAGvC/pB,EAASoZ,IAAS,SAAAlY,GAAK,OAAIpH,OAAOyF,OAAO2B,EAAMM,KAAKxB,WAE1D,OACI,cAAC,IAAMwtB,SAAP,UACKxtB,EAAOU,KAAI,SAAAI,GAAK,OACb,qBAAsB9E,MAAO,CAACw4B,WAAY,GAA1C,SACI,cAAC,GAAD,CACIjF,WAAY+G,GAAWx1B,GACvBoqB,UAAWA,EACX/mB,IAAK,EACLlE,WAAY,CAAErC,KAAM,SAAU+C,KAAM,UACpCgrB,aAAa,OACbxqB,QAAS,MAPPL,EAAMH,YCT1B61B,GAAa,CAAC,WAAW,YAAY,YAAY,gBAE1CC,GAAS,WAElB,MAE2Drd,IAAS,SAAAwQ,GAAK,MAAE,CACzEA,EAAMhQ,aACNgQ,EAAM/P,gBACN+P,EAAM5P,WACN4P,EAAM3P,cACN2P,EAAMzP,gBACNyP,EAAM1Y,QACN0Y,EAAMzS,gBACNqM,MAVF,mBACE5J,EADF,KACgBC,EADhB,KACiCG,EADjC,KAEEC,EAFF,KAEiBE,EAFjB,KAEkCjJ,EAFlC,KAE2CiG,EAF3C,KAYMuf,EAActH,oBAAU,CAAC1zB,MAAOke,EAAe,IAAM,EAAGmH,QAASnH,EAAe,EAAI,EAAG0F,OAAOA,SAAO+P,QAErGsH,EAAU,CACdxzB,SAAU,CACR5H,MAAO,WACPklB,KAAM,cAACqN,EAAA,EAAD,CAAMC,UAAWnD,KACvB9Q,OAAQ,cAAC,GAAD,CAAY+R,SAAS,YAC7B+K,MAAO,SAAC7e,GACN,IAAM8e,ENkNa,SAAC9e,GAAD,MAAW,CACpCna,KAAM,gBACN+C,KAAMhD,EAAa,iBACnBiM,KAAK,cACL6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,oCAEbhE,aAAc,EACd7D,OAAQ,GAIRM,QAAS,GACTmU,QAASD,EACTE,YAAa,CACTra,KAAM,aACN+C,KAAMhD,EAAa,cACnBiM,KAAK,SACL6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,GAEb8M,KAAM,GACN9Y,SAAU,CACNxB,KAAM,iBACN+C,KAAMhD,EAAa,kBACnBiM,KAAK,aACL6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,GAEbhN,EAAG,EACHC,EAAG,EACHC,EAAG,GAEP2L,YAAa,CACTrM,KAAM,oBACN+C,KAAMhD,EAAa,qBACnBiM,KAAK,gBACL6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,GAEbhN,EAAG,EACHC,EAAG,EACHC,EAAG,EACHyG,EAAG,IAGXmT,KAAM,QACN4e,oBAAqBliB,GAAiBmD,IMrQbgf,CAAchf,GACjC7G,EAAQ,UAAU2lB,GAClB1f,EAAa,UAAU0f,EAAWl2B,QAGtCyB,UAAW,CACT7G,MAAO,YACPklB,KAAM,cAACqN,EAAA,EAAD,CAAMC,UAAWlD,KACvB/Q,OAAQ,cAAC,GAAD,CAAY+R,SAAS,aAC7B+K,MAAO,WACL,IAAMI,ENgIqB,CACjCp5B,KAAM,+BACN+C,KAAMhD,EAAa,+BACnBiM,KAAK,eACL6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,oCAEb8M,KAAM,GACN1K,OAAQ,CACJ5P,KAAM,eACN+C,KAAMhD,EAAa,gBACnBiM,KAAM,GACN6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,GACb6rB,gBAAiB,KACjBC,YAAa,KACbztB,WAAW,EACXtP,OAAQ,GAEZiF,SAAU,CACNxB,KAAM,iBACN+C,KAAMhD,EAAa,kBACnBiM,KAAM,GACN6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,GACbhN,EAAG,IAAM+H,KAAK2J,SAAW,IACzBzR,EAAG,IAAM8H,KAAK2J,SAAW,IACzBxR,EAAG,IAAM6H,KAAK2J,SAAW,IAAO,KAEpC7F,YAAa,CACTrM,KAAM,oBACN+C,KAAMhD,EAAa,qBACnBiM,KAAM,GACN6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,GACbhN,EAAG,EACHC,EAAG,EACHC,EAAG,EACHyG,EAAG,IMzKDmM,EAAQ,WAAW8lB,GACnB7f,EAAa,WAAW6f,EAAYr2B,QAGxC0B,UAAW,CACT9G,MAAO,YACPklB,KAAM,cAACqN,EAAA,EAAD,CAAMC,UAAWhD,KACvBjR,OAAQ,cAAC,GAAD,CAAY+R,SAAS,aAC7B+K,MAAO,WACL,IAAMO,ENoEqB,CACjCv5B,KAAM,sBACN+C,KAAMhD,EAAa,uBACnBiM,KAAK,eACL6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,oCAEb8M,KAAM,QACN1K,OAAQ,CACJ5P,KAAM,eACN+C,KAAMhD,EAAa,gBACnBiM,KAAM,GACN6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,GAEb6rB,gBAAiB,KACjBC,YAAa,KACbztB,WAAW,EACXtP,OAAQ,GAEZiF,SAAU,CACNxB,KAAM,iBACN+C,KAAMhD,EAAa,kBACnBiM,KAAM,GACN6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,GAEbhN,EAAG,IAAM+H,KAAK2J,SAAW,IACzBzR,EAAG,IAAM8H,KAAK2J,SAAW,IACzBxR,EAAG,IAAM6H,KAAK2J,SAAW,IAAO,KAEpC7F,YAAa,CACTrM,KAAM,oBACN+C,KAAMhD,EAAa,qBACnBiM,KAAM,GACN6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,GAEbhN,EAAG,EACHC,EAAG,EACHC,EAAG,EACHyG,EAAG,IMhHDmM,EAAQ,WAAWimB,GACnBhgB,EAAa,WAAWggB,EAAYx2B,QAGxCwB,aAAc,CACZ5G,MAAO,SACPklB,KAAM,cAACqN,EAAA,EAAD,CAAMC,UAAWjD,KACvBhR,OAAQ,cAAC,GAAD,CAAY+R,SAAS,gBAC7B+K,MAAO,SAACQ,GACN,IAAMC,EN0JiB,SAACD,GAAD,MAAoB,CACjDx5B,KAAM,oBACN+C,KAAMhD,EAAa,qBACnBiM,KAAK,kBACL6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,yBAEbJ,aAAc,CACVpN,KAAM,mBACN+C,KAAMhD,EAAa,oBACnBiM,KAAK,YACL6kB,YAAY,EACZP,UAAU,EACV9iB,YAAa,oCAEbH,gBAAiBmsB,EACjBh4B,SAAU,YACV6K,YAAa,aAEjBqtB,eAAgB,CACZ,WACA,gBMhLyBC,CAAkBH,GACzClmB,EAAQ,cAAcmmB,GACtBlgB,EAAa,cAAckgB,EAAe12B,QAG9C62B,WAAY,CACVj8B,MAAO,aACPklB,KAAM,cAACqN,EAAA,EAAD,CAAMC,UAAW/C,KACvBlR,OAAQ,cAAC,GAAD,KAEV9Z,OAAQ,CACNzE,MAAO,SACPklB,KAAM,cAACqN,EAAA,EAAD,CAAMC,UAAWgE,KACvBjY,OAAQ,cAAC,GAAD,KAEV2d,QAAS,CACPl8B,MAAO,UACPklB,KAAM,cAACqN,EAAA,EAAD,CAAMC,UAAWiE,KACvBlY,OAAQ,cAAC,GAAD,MAIZ,OACI,eAAC,IAAD,CAAQ9d,MAAO,CAAEuB,SAAU,GAAI5B,OAAQ,uBAAvC,UACE,cAAC,IAAO+7B,MAAR,CAAcC,WAAS,EAACtV,aAAW,EAACuV,QAAS,KAAM57B,MAAO,CAACokB,MAAO,OAAQ2D,QAAS,OAAQC,cAAe,SAAUjD,QAAS,EAAGplB,OAAQ,uBAAxI,SACG7B,OAAOgB,KAAK67B,GAASj2B,KAAI,SAAAm3B,GAAS,OACjC,cAAC,KAAD,CAAyBrT,UAAU,QAAQjpB,MAASo7B,EAAQkB,GAAWt8B,MAAvE,SACA,cAAC,IAAD,CACEqC,KAAMgc,IAAiBie,EAAY,UAAY,OAC/CC,OAAK,EACLrX,KAAMkW,EAAQkB,GAAWpX,KACzBnjB,QAAS,WAAM6c,IAA8CN,EAA3Bge,IAAYje,EAA+B,KAAwBie,IACrG77B,MAAO,CAAEimB,aAAc,EAAG8V,WAAY,WAN1BF,QAUlB,cAAC,WAAS7S,IAAV,CAAc6O,OAAQ,kBAAIha,EAAgB,OAAO7d,MAAK,2BAAM06B,GAAN,IAAmBtW,MAAO,OAAQS,gBAAiB,UAAWtjB,SAAU,GAAI5B,OAAQ,wBAA1I,SACIie,GACC,eAAC,IAAM4T,SAAP,WACC,eAAC,IAAD,CAAKpN,MAAM,SAAS4B,QAAQ,gBAAgBhmB,MAAO,CAAC+kB,QAAQ,EAAEoB,WAAW,GAAzE,UACE,sBAAMnmB,MAAO,CAACwB,MAAM,QAAQujB,QAAQ,GAApC,SAAyC4V,EAAQ/c,GAAcre,QAC9Di7B,GAAWz7B,QAAQ6e,IAAiB,GACnC,cAAC,IAAD,CACEhc,KAAK,UACLN,QAASq5B,EAAQ/c,GAAcgd,MAC/BnW,KAAM,cAACuX,GAAA,EAAD,SAIXxB,GAAWz7B,QAAQ6e,IAAiB,GACnC,cAAC,IAAD,CAAK5d,MAAO,CAAC6kB,gBAAgB,YAAanlB,MAAM,QAAhD,SACE,cAAC,KAAD,CACEkG,MAAOoY,EACPlW,YAAY,YACZ0c,SAAU,SAACvJ,GAAD,OAAKgD,EAAchD,EAAEjd,OAAO4H,QACtCq2B,WAAY,cAACC,GAAA,EAAD,CAAe56B,QAAS6c,IACpCne,MAAO,CAAE4xB,SAAU,IAAKD,SAAU,IAAK5J,QAAS,aAGtD,qBAAK/nB,MAAO,CAACN,MAAM,OAAOwmB,UAAU,GAAIgH,UAAW,SAASvtB,QAA8C,IAAtC66B,GAAWz7B,QAAQ6e,GAAuB,sBAAwB,uBAAtI,SACG+c,EAAQ/c,GAAcE,cAM/B,eAAC,IAAOqe,QAAR,CAAgBn8B,MAAO,CAAEL,OAAQ,uBAAjC,UACE,cAAC,GAAD,IACA,cAAC,GAAD,WC3ICy8B,GAAgB,SAACtwB,GAE5B,OACE,qBAAK9L,MAAO,CAAEN,MAAO,OAAQC,OAAQ,sBAAuBooB,QAAS,OAAOpD,aAAa,GAAzF,SACE,cAAC0X,GAAA,EAAD,CAAaC,QAASC,KAAtB,SACE,cAAC,GAAD,S,8BCXFC,GAAc,CAChBC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GACxDC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GACxDC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GACxDC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GACxDC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GACxDC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GACxDC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GACxDC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,GAAIC,KAAM,CAAC,EAAG,EAAG,EAAG,IAEtDC,GAAa,CAAC,EAAG,EAAG,EAAG,GAEvBC,GAAO,kBAAkB/zB,KAAKS,IAAI,IAAI,IAEtCyhB,GAAM,SAAC1pB,EAAGD,GAAJ,OAAUC,EAAE+B,KAAI,SAACtC,EAAGnE,GAAJ,OAAU0E,EAAE1E,GAAKyE,EAAEzE,MAAIsO,QAAO,SAAC4xB,EAAGC,GAAJ,OAAUD,EAAIC,MAIlEC,GAAsB,SAACC,GAAuB,IAAjBC,EAAgB,uDAAX,OAStC,cAAuBD,GAAlBE,EAAL,KAASC,EAAT,KAAaC,EAAb,KACA,cAAiDlC,GAAY+B,EAAKI,gBAA7DC,EAAL,KAAgBC,EAAhB,KAAwBC,EAAxB,KAAoC39B,EAApC,KAEIlD,EAAI2gC,EAAY,EAChBnsB,EAAIwrB,GAAWhgC,EAAE4gC,EAAO,GAAK,EAC7BhyB,EAAIoxB,GAAWhgC,EAAE4gC,GAAU,EAE/B,GAAc,IAAV19B,EAAa,CACf,IAAIoC,EAAa,CAACi7B,EAAGE,GAAX,SACVF,EAAKj7B,EAAO,GACZm7B,EAAKn7B,EAAO,GAEC,IAAXs7B,IACFJ,IAAM,GAGRD,GAAQ,EACRC,GAAQ,EACRC,GAAQ,EACR,IAAIK,EAAK50B,KAAK60B,IAAIR,GACdS,EAAK90B,KAAK2S,IAAI0hB,GACdU,EAAK/0B,KAAK60B,IAAIP,GACdU,EAAKh1B,KAAK2S,IAAI2hB,GACdW,EAAKj1B,KAAK60B,IAAIN,GACdW,EAAKl1B,KAAK2S,IAAI4hB,GACdY,EAAKP,EAAGK,EACRG,EAAKR,EAAGM,EACRG,EAAKP,EAAGG,EACRK,EAAKR,EAAGI,EAERK,EAAI,CAAC,KAAK,KAAK,KAAK,MAiBxB,OAhBmB,IAAfZ,GACFY,EAAE,GAAKR,GAAII,EAAKG,GAChBC,EAAEzhC,GAAKihC,GAAIK,EAAKC,GAChBE,EAAEjtB,GAAK0sB,GAAIG,EAAKG,GAChBC,EAAE7yB,GAAKsyB,GAAII,EAAKC,KAEhBE,EAAE,GAAKR,EAAGI,EAAKH,EAAGM,EAClBC,EAAEzhC,GAAKihC,EAAGM,EAAKL,EAAGI,EAClBG,EAAEjtB,GAAKysB,EAAGO,EAAKN,EAAGG,EAClBI,EAAE7yB,GAAKqyB,EAAGK,EAAKJ,EAAGK,GAGL,IAAXX,IACFa,EAAEjtB,KAAO,GAGJitB,GAGHC,GAAkB,SAACC,GAAyB,IAAjBrB,EAAgB,uDAAX,OAgBlC,cAAiD/B,GAAY+B,EAAKI,gBAA7DC,EAAL,KAAgBC,EAAhB,KAAwBC,EAAxB,KAAoC39B,EAApC,KAEIlD,EAAI2gC,EACJnsB,EAAIwrB,GAAWhgC,EAAE4gC,GACjBhyB,EAAIoxB,GAAWhgC,EAAE4gC,EAAO,GAExBgB,EAAK,EACLC,EAAK,EACLC,EAAK,EAELC,EAAI7e,KAAKoB,MAAMpB,KAAKC,UAAUwe,IAElC,GAAmB,IAAfd,EAAkB,CACpB,IAAImB,EAAK91B,KAAKQ,KAAKq1B,EAAE/hC,GAAGwU,GAAGutB,EAAE/hC,GAAGwU,GAAKutB,EAAE/hC,GAAG4O,GAAGmzB,EAAE/hC,GAAG4O,IAC9CozB,EAAK/B,IACP2B,EAAK11B,KAAK+1B,MAAOF,EAAE/hC,GAAGwU,GAAKutB,EAAE/hC,GAAG4O,IAChCizB,EAAK31B,KAAK+1B,MAAOD,EAAUD,EAAE/hC,GAAGA,IAChC8hC,EAAK51B,KAAK+1B,MAAOF,EAAEvtB,GAAGxU,IAAK+hC,EAAEnzB,GAAG5O,MAEhC4hC,EAAK11B,KAAK+1B,OAAOF,EAAEvtB,GAAG5F,GAAKmzB,EAAEvtB,GAAGA,IAChCqtB,EAAK31B,KAAK+1B,MAAOD,EAAUD,EAAE/hC,GAAGA,IAChC8hC,EAAK,OAEF,CACL,IAAII,EAAKh2B,KAAKQ,KAAKq1B,EAAE/hC,GAAGA,GAAG+hC,EAAE/hC,GAAGA,GAAK+hC,EAAEvtB,GAAGxU,GAAG+hC,EAAEvtB,GAAGxU,IAC9CkiC,EAAKjC,IACP2B,EAAK11B,KAAK+1B,MAAOF,EAAEnzB,GAAG4F,GAAKutB,EAAEnzB,GAAGA,IAChCizB,EAAK31B,KAAK+1B,OAAOF,EAAEnzB,GAAG5O,GAAKkiC,GAC3BJ,EAAK51B,KAAK+1B,MAAOF,EAAEvtB,GAAGxU,GAAK+hC,EAAE/hC,GAAGA,MAEhC4hC,EAAK11B,KAAK+1B,OAAOF,EAAEvtB,GAAG5F,GAAKmzB,EAAEvtB,GAAGA,IAChCqtB,EAAK31B,KAAK+1B,OAAOF,EAAEnzB,GAAG5O,GAAKkiC,GAC3BJ,EAAK,GAIT,GAAe,IAAXlB,EAAc,CAAC,IAAD,EACG,EAAEgB,GAAKC,GAAKC,GADf,SACfF,EADe,KACXC,EADW,KACPC,EADO,KAGlB,GAAc,IAAV5+B,EAAa,CAAC,IAAD,EACA,CAAC4+B,EAAIF,GADL,SACdA,EADc,KACVE,EADU,KAGjB,MAAO,CAACF,EAAIC,EAAIC,IAGdK,GAAmB,SAACr1B,GAatB,IAvIarI,EAuITg9B,EAAC,YAAO30B,GACRqzB,EAAI/R,GAAIqT,EAAGA,GACf,OAAItB,EAAIF,GACC,CAAC,CAAC,EAAE,EAAE,EAAE,GACP,CAAC,EAAE,EAAE,EAAE,GACP,CAAC,EAAE,EAAE,EAAE,GACP,CAAC,EAAE,EAAE,EAAE,KAGjBwB,EAAIA,EAAEh7B,KAAI,SAAA8D,GAAC,OAAEA,EAAE2B,KAAKQ,KAAK,EAAMyzB,MAhJlB17B,EAiJAg9B,EACN,CAAC,CAAC,GADTA,EAAUA,EAjJWh7B,KAAI,SAACtC,GAAD,OAAOM,EAAEgC,KAAI,SAAArC,GAAC,OAAID,EAAEC,SAkJ9B,GAAG,GAAGq9B,EAAE,GAAG,GAAQA,EAAE,GAAG,GAAGA,EAAE,GAAG,GAAQA,EAAE,GAAG,GAAGA,EAAE,GAAG,GAAI,GAChE,CAAKA,EAAE,GAAG,GAAGA,EAAE,GAAG,GAAI,EAAIA,EAAE,GAAG,GAAGA,EAAE,GAAG,GAAQA,EAAE,GAAG,GAAGA,EAAE,GAAG,GAAI,GAChE,CAAKA,EAAE,GAAG,GAAGA,EAAE,GAAG,GAAQA,EAAE,GAAG,GAAGA,EAAE,GAAG,GAAI,EAAIA,EAAE,GAAG,GAAGA,EAAE,GAAG,GAAI,GAChE,CAAiB,EAAqB,EAAqB,EAAK,MC/JtEW,GAAY,IAAMl2B,KAAKm2B,GACvBC,GAAYp2B,KAAKm2B,GAAK,IAOtBE,GAAoB,SAACC,GACzB,OAAOA,EAAI/7B,KAAI,SAAA8D,GAAC,OAAE+3B,GAAU/3B,MAgGdk4B,OA7FhB,SAA2BjhC,GAC1B,IAR0BghC,EAQ1B,EAAsC1W,oBARZ0W,ED6JC,SAAC11B,GAA6B,IAAjBwzB,EAAgB,uDAAX,OAC5C,OAAOoB,GAAgBS,GAAiBr1B,GAAawzB,GCtJWoC,CAAoBlhC,EAAMmG,OAPnF66B,EAAI/7B,KAAI,SAAA8D,GAAC,OAAE63B,GAAU73B,OAO7B,mBAAOo4B,EAAP,KAAoBC,EAApB,KAEIC,EAAS,EAAE,IAAI,KACfz3B,EAAQc,KAAKm2B,GAAK,GAClB7gC,EAAMshC,eACRD,EAAO,GAAK,GAKf,MAA6B/W,mBAAS,MAAtC,mBAAOiX,EAAP,KAAeC,EAAf,KAME,OALExhC,EAAMmG,QAAUo7B,IAClBC,EAAWxhC,EAAMmG,OACjBi7B,EAAephC,EAAMmG,QAInB,sBAAK5F,MAAO,CAAE+nB,QAAQ,OAAOE,eAAgB,gBAAgB8T,WAAW,UAAxE,UACA,mBAAG/7B,MAAQ,CAACwB,MAAM,6BAAlB,0BACA,cAAC,KAAD,CACAgnB,UAAU,OACVrJ,QAAY1f,EAAMyhC,WAElBpY,QACE,eAAC,IAAD,WACE,oBAAI9oB,MAAO,CAAEwB,MAAO,OAApB,eACA,cAAC,KAAD,CACC8lB,IAAKwZ,EAAO,GACZ7L,IAAK6L,EAAO,GACZ59B,KAAMmG,EACN83B,UAAW,EACXnhC,MAAO,CAAE8kB,OAAQ,UACjBlf,MAAOg7B,EAAY,GACnBpc,SAAU,SAAChc,GAAK,GAAiB,kBAANA,EAAgB,CACzC,IAAI44B,EAAqB,CAAC54B,EAAEo4B,EAAY,GAAGA,EAAY,IACvDC,EAAeO,GACf3hC,EAAM+kB,SAAS6Z,GAAoBmC,GAAkBY,SAGxD,oBAAIphC,MAAO,CAAEwB,MAAO,QAApB,eACA,cAAC,KAAD,CACC8lB,IAAKwZ,EAAO,GACZ7L,IAAK6L,EAAO,GACZ59B,KAAMmG,EACN83B,UAAW,EACXnhC,MAAO,CAAE8kB,OAAQ,UACjBlf,MAAOg7B,EAAY,GACnBpc,SAAU,SAAChc,GAAK,GAAiB,kBAANA,EAAgB,CACzC,IAAI44B,EAAqB,CAACR,EAAY,GAAGp4B,EAAEo4B,EAAY,IACvDC,EAAeO,GACf3hC,EAAM+kB,SAAS6Z,GAAoBmC,GAAkBY,SAGxD,oBAAIphC,MAAO,CAAEwB,MAAO,QAApB,eACA,cAAC,KAAD,CACC8lB,IAAKwZ,EAAO,GACZ7L,IAAK6L,EAAO,GACZ59B,KAAMmG,EACN83B,UAAW,EACXnhC,MAAO,CAAE8kB,OAAQ,UACjBlf,MAAOg7B,EAAY,GACnBpc,SAAU,SAAChc,GAAK,GAAiB,kBAANA,EAAgB,CACzC,IAAI44B,EAAqB,CAACR,EAAY,GAAGA,EAAY,GAAGp4B,GACxDq4B,EAAeO,GACf3hC,EAAM+kB,SAAS6Z,GAAoBmC,GAAkBY,SAGxD,cAAC,IAAD,CAAQx/B,KAAK,UAAUN,QAAW7B,EAAM+hB,QAAxC,sBAGJjiB,MAAM,kBACNq8B,QAAQ,QApDR,SAyDA,cAAC,IAAD,CACEE,OAAK,EACLrX,KAAM,cAAC+N,GAAA,EAAD,IACNxyB,MAAO,CAAE8kB,OAAQ,EAAEplB,MAAM,MAAMC,OAAO,KAAK6oB,UAAU,SACrDlnB,QAAW7B,EAAMyhC,WAAazhC,EAAM+hB,QAAU/hB,EAAM4hC,eCP1CC,OAxFhB,SAAwB7hC,GACrB,MAAgCsqB,mBAAStqB,EAAMmG,OAA/C,mBAAO27B,EAAP,KAAiBC,EAAjB,KACA,EAA6BzX,mBAAS,MAAtC,mBAAOiX,EAAP,KAAeC,EAAf,KACIQ,EAAS,EAAE,GAAG,IACdp4B,EAAQ,IAOZ,OALK5J,EAAMmG,QAAUo7B,IAClBC,EAAWxhC,EAAMmG,OACjB47B,EAAY/hC,EAAMmG,QAKnB,sBAAK5F,MAAO,CAAE+nB,QAAQ,OAAOE,eAAgB,gBAAgB8T,WAAW,UAAxE,UACA,mBAAG/7B,MAAQ,CAACwB,MAAM,6BAAlB,uBAEA,cAAC,KAAD,CACAgnB,UAAU,OACVrJ,QAAY1f,EAAMyhC,WAClBpY,QACE,eAAC,IAAD,WACE,oBAAI9oB,MAAO,CAAEwB,MAAO,OAApB,eACA,cAAC,KAAD,CACA8lB,IAAMma,EAAO,GACbxM,IAAMwM,EAAO,GACbv+B,KAAOmG,EACP83B,UAAW,EACXnhC,MAAO,CAAE8kB,OAAQ,UACjBlf,MAAO27B,EAAS,GAChB/c,SAAU,SAAChc,GAAK,GAAiB,kBAANA,EAAgB,CACzC,IAAIk5B,EAAa,CAACl5B,EAAE+4B,EAAS,GAAGA,EAAS,IACzCC,EAAYE,GACZjiC,EAAM+kB,SAASkd,OAGjB,oBAAI1hC,MAAO,CAAEwB,MAAO,QAApB,eACA,cAAC,KAAD,CACA8lB,IAAMma,EAAO,GACbxM,IAAMwM,EAAO,GACbv+B,KAAOmG,EACP83B,UAAW,EACXnhC,MAAO,CAAE8kB,OAAQ,UACjBlf,MAAO27B,EAAS,GAChB/c,SAAU,SAAChc,GAAK,GAAiB,kBAANA,EAAgB,CACzC,IAAIk5B,EAAa,CAACH,EAAS,GAAG/4B,EAAE+4B,EAAS,IACzCC,EAAYE,GACZjiC,EAAM+kB,SAASkd,OAGjB,oBAAI1hC,MAAO,CAAEwB,MAAO,QAApB,eACA,cAAC,KAAD,CACC8lB,IAAMma,EAAO,GACbxM,IAAMwM,EAAO,GACbv+B,KAAMmG,EACN83B,UAAW,EACXnhC,MAAO,CAAE8kB,OAAQ,UACjBlf,MAAO27B,EAAS,GAChB/c,SAAU,SAAChc,GAAK,GAAiB,kBAANA,EAAgB,CACzC,IAAIk5B,EAAa,CAACH,EAAS,GAAGA,EAAS,GAAG/4B,GAC1Cg5B,EAAYE,GACZjiC,EAAM+kB,SAASkd,OAGjB,cAAC,IAAD,CAAQ9/B,KAAK,UAAUN,QAAW7B,EAAM+hB,QAAxC,sBAGLjiB,MAAM,eACNq8B,QAAQ,QAnDR,SAuDA,cAAC,IAAD,CACEE,OAAK,EACLrX,KAAM,cAAC+N,GAAA,EAAD,IACNxyB,MAAO,CAAE8kB,OAAQ,EAAEplB,MAAM,MAAMC,OAAO,KAAK6oB,UAAU,SACrDlnB,QAAW7B,EAAMyhC,WAAazhC,EAAM+hB,QAAU/hB,EAAM4hC,eCtE9CM,GAAiB,SAAC,GAAc,IAAZh9B,EAAW,EAAXA,KAE/B,EAAsCyY,GAAS6G,uBAAY,SAAA/e,GAAK,MAAK,CACnEgM,SAAUhM,EAAMM,KAAKY,UAAUzB,GAC/B8S,gBAAiBvS,EAAMuS,mBAErB,CAAC9S,KAJGuM,EAAR,EAAQA,SAAUuG,EAAlB,EAAkBA,gBAMVmqB,EAAaC,KAAbD,SAMFzmB,EAAeiC,IAAS,SAAAlY,GAAK,OAAEA,EAAMiW,gBAC3C,EAA6C4O,mBAAS,YAAtD,mBAAO+X,EAAP,KAAuBC,EAAvB,KACMhlB,EAA8BK,IAAS,SAAAlY,GAAK,OAAIA,EAAM6X,+BAEtDilB,EAAmB3lB,MAAS,WAChCU,EAA4B,WAAWpY,KACvC,KA2BF,OACE,qCAEE,cAACi9B,EAAD,CACEh8B,MAAOsL,EAAS9B,YAChBkV,UAAWpT,EAASghB,WAGtB,cAAC,KAAD,CAASjkB,YAAY,OAAOjO,MAAO,CAAEwB,MAAO,QAASygC,eAAgB,yBAA0BhV,WAAY,WAAYuL,WAAY,OAAQ1Q,cAAe,OAA1J,wBAIA,sBAAK9nB,MAAO,CAAE+nB,QAAS,OAAQC,cAAe,UAA9C,UACE,cAAC,GAAD,CAAepiB,MAAO,CAACsL,EAAS9N,SAAShB,EAAG8O,EAAS9N,SAASf,EAAG6O,EAAS9N,SAASd,GAAI++B,OAtCtE,WACrBlmB,EAAa,WAAWjK,EAASvM,KAAK,aACtCo9B,EAAmB,cAoCkGvgB,QAlC/F,WACtBrG,EAAa,WAAWjK,EAASvM,KAAK,YACtCo9B,EAAmB,aAiCbvd,SAvBiB,SAACvJ,GACxBxD,EAAgB,WAAWvG,EAASvM,KAAK,WAA1B,YAAC,eAAwCuM,EAAS9N,UAAlD,IAA4DhB,EAAG6Y,EAAE,GAAG5Y,EAAI4Y,EAAE,GAAG3Y,EAAG2Y,EAAE,MACjG+mB,KAqBkCd,WAAkC,cAApBY,IAC5C,cAAC,GAAD,CAAkBl8B,MAAO,CAACsL,EAASjD,YAAYlF,EAAGmI,EAASjD,YAAY7L,EAAG8O,EAASjD,YAAY5L,EAAG6O,EAASjD,YAAY3L,GAAI++B,OA5BjI,WACElmB,EAAa,WAAWjK,EAASvM,KAAK,UACtCo9B,EAAmB,WA0ByIvgB,QAhC9J,WACErG,EAAa,WAAWjK,EAASvM,KAAK,YACtCo9B,EAAmB,aA+Bbvd,SArBoB,SAACvJ,GAC3BxD,EAAgB,WAAWvG,EAASvM,KAAK,cAA1B,YAAC,eAA2CuM,EAASjD,aAArD,IAAkElF,EAAEkS,EAAE,GAAG7Y,EAAG6Y,EAAE,GAAG5Y,EAAI4Y,EAAE,GAAG3Y,EAAG2Y,EAAE,MAC9G+mB,KAmBqCd,WAAkC,WAApBY,IAC/C,uBACA,sBAAK9hC,MAAO,CAAEw4B,WAAY,MAAOzQ,QAAS,OAAQE,eAAgB,gBAAiB8T,WAAY,UAA/F,UACE,2CACA,cAAC,KAAD,CAAQ/U,QAAS9V,EAASM,OAAO/D,UAAWzN,MAAO,CAAE43B,KAAM,qBCxExDsK,GAAuB,SAACziC,GACnC,IAAMmC,EAAOwb,GAAS6G,uBAAY,SAAA/e,GAAK,OAAIA,EAAMM,KAAKc,WAAW7G,EAAM0iC,YAAW,CAAC1iC,EAAM0iC,YAEnFzjB,EAAoBtB,IAAS,SAAAlY,GAAK,OAAIA,EAAMwZ,qBAI3CH,EAAyBnB,IAAS,SAAAlY,GAAK,MAAK,CACjDqZ,sBAAwBrZ,EAAMqZ,0BADzBA,sBAMP,OACE,cAAC,IAAK2F,KAAKc,KAAX,CAAgBzlB,MAAOqC,EAAKgM,KAAMwB,YAChC,cAAC,IAAD,CACIiV,KAAK,QACL4C,OAAO,EACPC,WAAYznB,EAAM+F,KAClB2hB,WAAY,SAAC3hB,GAAD,OACV,cAAC,IAAK0e,KAAN,CAAWlkB,MAAO,CAAC+kB,QAAQ,GAA3B,SACE,eAAC,IAAD,CAAKiB,QAAQ,gBAAgBhmB,MAAO,CAACN,MAAM,OAAQqlB,QAAQ,GAAImB,UAAW,EAAGvB,aAAc,EAAGE,gBAAgB,yBAA9G,UACE,eAAC,IAAD,WACE,0CACA,cAAC,KAAD,CAAayC,IAAO,EAAGtnB,MAAO,CAAE4xB,SAAU,IAAMsD,aAAc1vB,EAAK48B,cAErE,eAAC,IAAD,WACE,mBAAGpiC,MAAO,CAAE6nB,aAAc,OAA1B,qBACA,cAAC,IAAD,CAAQvmB,QAAS,WAAKod,GAAkB,GAAOH,EAAsB,SAAS/Y,EAAKmC,cAAnF,gCC1BL06B,GAAyB,SAAC5iC,GACrC,IAAI6iC,EAAU,KAOd,OALGA,EADC7iC,EAAMoc,MACG/d,OAAOgB,KAAKW,EAAM2H,QAAQG,QAE1BzJ,OAAOgB,KAAKW,EAAM2H,QAAQS,SAIrC,qCACE,uBACA,cAAC,IAAD,CACEif,OAAQ,eAAC,IAAD,CAAK1C,MAAM,SAAS4B,QAAQ,gBAA5B,UAA6CvmB,EAAMoc,MAAQ,SAAW,UAAU,cAAC,IAAD,qBACxFoL,OAAO,EACP+K,UAAQ,EACR9K,WAAYob,EACZnb,WAAc,SAACxiB,GAAD,OACZ,cAAC,IAAKuf,KAAN,UACE,cAAC,GAAD,CAAsBie,SAAUx9B,EAAMa,KAAQ/F,EAAM2H,QAAQ3H,EAAMoc,MAAQ,SAAW,WAAWlX,cCd/F49B,GAAgB,SAAC,GAAc,IAAZ59B,EAAW,EAAXA,KAExByC,EAAUgW,GAAS6G,uBAAY,SAAA/e,GAAK,OAAIA,EAAMM,KAAK2B,SAASxC,KAAO,CAACA,KACpE8S,EAAkB2F,IAAS,SAAAlY,GAAK,OAAIA,EAAMuS,mBAExCmqB,EAAaC,KAAbD,SAER,OACE,qCAEE,cAAC,IAAD,IAEA,cAACA,EAAD,CACEh8B,MAAOwB,EAAQgI,YACfkV,UAAWld,EAAQ8qB,WAGrB,cAAC,KAAD,CAASjkB,YAAY,OAAOjO,MAAO,CAAEwB,MAAO,QAASygC,eAAgB,yBAA0BhV,WAAY,WAAYuL,WAAY,OAAQ1Q,cAAe,OAA1J,yBAIA,eAAC,IAAD,CAAK9B,QAAQ,gBAAgBhmB,MAAO,CAAC6nB,aAAa,GAAG2Q,WAAW,GAAG5Q,YAAY,IAA/E,UACE,uCACA,cAAC,KAAD,CAAO5nB,MAAO,CAAC4xB,SAAS,KAAMhsB,MAAOwB,EAAQgE,aAAckZ,UAAWld,EAAQ8qB,SAAUkE,OAAO,WAGjG,cAAC,GAAD,CAAwBhvB,QAASA,EAASyU,OAAK,IAC/C,cAAC,GAAD,CAAwBzU,QAASA,IAEjC,cAAC,KAAD,CAAS6G,YAAY,OAAOjO,MAAO,CAAEwB,MAAO,QAASygC,eAAgB,yBAA0BhV,WAAY,WAAYuL,WAAY,OAAQ1Q,cAAe,OAA1J,wBAIA,sBAAK9nB,MAAO,CAAE+nB,QAAS,OAAQC,cAAe,UAA9C,UACE,cAAC,GAAD,CAAepiB,MAAO,CAACwB,EAAQ6U,YAAY7Y,SAAShB,EAAGgF,EAAQ6U,YAAY7Y,SAASf,EAAG+E,EAAQ6U,YAAY7Y,SAASd,GAClHkiB,SAAU,SAAAvJ,GAAC,OAAIxD,EAAgB,UAAWrQ,EAAQzC,KAAM,WAA1B,YAAC,eAA0CyC,EAAQ6U,YAAY7Y,UAA/D,IAAyEhB,EAAG6Y,EAAE,GAAI5Y,EAAG4Y,EAAE,GAAI3Y,EAAG2Y,EAAE,SAChI,cAAC,GAAD,CAAkBrV,MAAO,CAACwB,EAAQ6U,YAAYhO,YAAYlF,EAAG3B,EAAQ6U,YAAYhO,YAAY7L,EAAGgF,EAAQ6U,YAAYhO,YAAY5L,EAAG+E,EAAQ6U,YAAYhO,YAAY3L,GACjKkiB,SAAU,SAAAvJ,GAAC,OAAIxD,EAAgB,UAAWrQ,EAAQzC,KAAM,cAA1B,YAAC,eAA6CyC,EAAQ6U,YAAYhO,aAAlE,IAA+ElF,EAAGkS,EAAE,GAAI7Y,EAAG6Y,EAAE,GAAI5Y,EAAG4Y,EAAE,GAAI3Y,EAAG2Y,EAAE,YAEjJ,2BC9CE2mB,GAAaC,KAAbD,SAEKY,GAAc,SAAC,GAAc,IAAZ79B,EAAW,EAAXA,KAEtBiD,EAAQwV,GAAS6G,uBAAY,SAAA/e,GAAK,OAAIA,EAAMM,KAAKc,WAAW3B,KAAO,CAACA,KAE1E,OACE,qCACE,4BACE,+CAEF,cAAC,IAAD,IAEA,cAAC,GAAD,CACEiB,MAAOgC,EAAMwH,YACbkV,UAAW1c,EAAMsqB,eCZjB0P,GAAaC,KAAbD,SAEKa,GAAiB,SAAC,GAAc,IAAZ99B,EAAW,EAAXA,KAEzBwM,EAAWiM,GAAS6G,uBAAY,SAAA/e,GAAK,OAAIA,EAAMM,KAAKa,UAAU1B,KAAO,CAACA,KAEtE8S,EAAkB2F,IAAS,SAAAlY,GAAK,OAAIA,EAAMuS,mBAC1CsF,EAA8BK,IAAS,SAAAlY,GAAK,OAAIA,EAAM6X,+BAEtD5B,EAAeiC,IAAS,SAAAlY,GAAK,OAAEA,EAAMiW,gBAC3C,EAA6C4O,mBAAS,YAAtD,mBAAO+X,EAAP,KAAuBC,EAAvB,KAEMC,EAAmB3lB,MAAS,WAChCU,EAA4B,WAAWpY,KACvC,KA2BF,OACE,qCAEE,cAAC,IAAD,IAEA,cAAC,GAAD,CACEiB,MAAOuL,EAAS/B,YAChBkV,UAAWnT,EAAS+gB,WAGtB,cAAC,KAAD,CAASjkB,YAAY,OAAOjO,MAAO,CAAEwB,MAAO,QAASygC,eAAgB,yBAA0BhV,WAAY,WAAYuL,WAAY,OAAQ1Q,cAAe,OAA1J,yBAGA,sBAAK9nB,MAAO,CAAC+nB,QAAQ,OAAOC,cAAc,UAA1C,UACA,cAAC,GAAD,CAAepiB,MAAO,CAACuL,EAAS/N,SAAShB,EAAG+O,EAAS/N,SAASf,EAAE8O,EAAS/N,SAASd,GAAI++B,OAvCnE,WACrBlmB,EAAa,WAAWhK,EAASxM,KAAK,aACtCo9B,EAAmB,cAqC+FvgB,QAnC5F,WACtBrG,EAAa,WAAWhK,EAASxM,KAAK,YACtCo9B,EAAmB,aAkCjBvd,SAxBqB,SAACvJ,GACxBxD,EAAgB,WAAWtG,EAASxM,KAAK,WAA1B,YAAC,eAAwCwM,EAAS/N,UAAlD,IAA4DhB,EAAG6Y,EAAE,GAAG5Y,EAAI4Y,EAAE,GAAG3Y,EAAG2Y,EAAE,MACjG+mB,KAsB8Bd,WAAkC,cAApBY,IAC1C,cAAC,GAAD,CAAkBl8B,MAAO,CAACuL,EAASlD,YAAYlF,EAAGoI,EAASlD,YAAY7L,EAAG+O,EAASlD,YAAY5L,EAAE8O,EAASlD,YAAY3L,GAAI++B,OA7B9H,WACElmB,EAAa,WAAWhK,EAASxM,KAAK,UACtCo9B,EAAmB,WA2BsIvgB,QAjC3J,WACErG,EAAa,WAAWhK,EAASxM,KAAK,YACtCo9B,EAAmB,aAgCjBvd,SAtBwB,SAACvJ,GAC3BxD,EAAgB,WAAWtG,EAASxM,KAAK,cAA1B,YAAC,eAA2CwM,EAASlD,aAArD,IAAkElF,EAAEkS,EAAE,GAAG7Y,EAAG6Y,EAAE,GAAG5Y,EAAI4Y,EAAE,GAAG3Y,EAAG2Y,EAAE,MAC9G+mB,KAoBiCd,WAAkC,WAApBY,IAC7C,uBACA,sBAAK9hC,MAAO,CAACw4B,WAAY,MAAMzQ,QAAQ,OAAOE,eAAgB,gBAAgB8T,WAAW,UAAzF,UACC,2CACA,cAAC,KAAD,CAAQ/U,QAAW7V,EAASK,OAAO/D,UAAWzN,MAAO,CAAC43B,KAAM,qBC/D3DgK,GAAaC,KAAbD,SAEKc,GAA2B,SAAC,GAAc,IAAZ/9B,EAAW,EAAXA,KAEjC+C,EAAS0V,GAAS6G,uBAAY,SAAA/e,GAAK,OAAIA,EAAMM,KAAKe,QAAQ5B,KAAO,CAACA,KAElE8S,EAAkB2F,IAAS,SAAAlY,GAAK,OAAIA,EAAMuS,mBAE1C8G,EAAwBnB,IAAS,SAAAlY,GAAK,OAAIA,EAAMqZ,yBAEtD,EAA8CwL,mBAAS,YAAvD,mBAAO+X,EAAP,KAAwBC,EAAxB,KA0BA,IAAIY,EAAe,SACdj7B,EAAOiV,qBACRgmB,EAAe,QAInB,MAA0B5Y,mBAAS4Y,GAAnC,mBAAO90B,EAAP,KAAc+0B,EAAd,KACA,SAASC,EAAYC,GACjB,GAAIA,IAAaj1B,EACb,GAAc,SAAVA,EAAkB,CAClB,IAAImd,EAAOtjB,EAAO8U,cAElB/E,EAAgB,SAAU/P,EAAO/C,KAAM,qBAAsBqmB,GAC7DvT,EAAgB,SAAU/P,EAAO/C,KAAM,gBAAiB,MACxD8S,EAAgB,SAAU/P,EAAO/C,KAAM,gBAAiB,MACxD8S,EAAgB,SAAU/P,EAAO/C,KAAM,gBAAiB,MACxDi+B,EAAS,cACN,CACH,IAAI5X,EAAOtjB,EAAOiV,mBAElBlF,EAAgB,SAAU/P,EAAO/C,KAAM,gBAAiBqmB,GACxDvT,EAAgB,SAAU/P,EAAO/C,KAAM,gBAAiBqmB,GACxDvT,EAAgB,SAAU/P,EAAO/C,KAAM,gBAAiBqmB,GACxDvT,EAAgB,SAAU/P,EAAO/C,KAAM,qBAAsB,MAC7Di+B,EAAS,SAQrB,IAAIG,EAAY,KAqDhB,OAnDIA,EADU,SAAVl1B,EAEI,cAAC,IAAD,CAAMwW,KAAK,QAAX,SACI,eAAC,IAAD,WACI,sBAAKrkB,MAAO,CAAE+nB,QAAS,OAAQgU,WAAY,UAA3C,UACI,mBAAG/7B,MAAO,CAAEwB,MAAO,MAAOqmB,aAAc,OAAxC,iBACA,cAAC,KAAD,CACIvD,UAAW5c,EAAOwqB,SAClBtsB,MAAO8B,EAAO8U,cACdxc,MAAO,CAAEN,MAAO,YAIxB,sBAAKM,MAAO,CAAE+nB,QAAS,OAAQgU,WAAY,UAA3C,UACI,mBAAG/7B,MAAO,CAAEwB,MAAO,OAAQqmB,aAAc,OAAzC,iBACA,cAAC,KAAD,CACIvD,UAAW5c,EAAOwqB,SAClBlyB,MAAO,CAAEN,MAAO,OAChBkG,MAAO8B,EAAO+U,mBAItB,sBAAKzc,MAAO,CAAE+nB,QAAS,OAAQgU,WAAY,UAA3C,UACI,mBAAG/7B,MAAO,CAAEwB,MAAO,OAAQqmB,aAAc,OAAzC,iBACA,cAAC,KAAD,CACIvD,UAAW5c,EAAOwqB,SAClBlyB,MAAO,CAAEN,MAAO,OAChBkG,MAAO8B,EAAOgV,wBAQ9B,8BACI,eAAC,IAAD,CAAM2H,KAAK,QAAX,UACI,mBAAG2e,MAAO,CAAExhC,MAAO,4BAA6BqmB,aAAc,OAA9D,sBACA,cAAC,KAAD,CACIvD,UAAW5c,EAAOwqB,SAClBlyB,MAAO,CAAEN,MAAO,OAChBkG,MAAO8B,EAAOiV,0BAY9B,qCACI,cAAC,GAAD,CACIuY,aAAcxtB,EAAO0H,YACrBkV,UAAW5c,EAAOwqB,WAGtB,cAAC,KAAD,CAASjkB,YAAY,OAAOjO,MAAO,CAAEwB,MAAO,QAASygC,eAAgB,yBAA0BhV,WAAY,WAAYuL,WAAY,OAAQ1Q,cAAe,OAA1J,SACI,+CAGJ,sBAAK9nB,MAAO,CAAE+nB,QAAS,OAAQC,cAAe,UAA9C,UACI,cAAC,GAAD,CAAepiB,MAAO,CAAC8B,EAAO4D,gBAAgBlJ,EAAGsF,EAAO4D,gBAAgBjJ,EAAGqF,EAAO4D,gBAAgBhJ,GAAI++B,OAzH3F,WACnB9iB,EAAsB,SAAU7W,EAAO/C,KAAM,aAC7Co9B,EAAmB,cAuHmHvgB,QApHlH,WACpBjD,EAAsB,SAAU7W,EAAO/C,KAAM,YAC7Co9B,EAAmB,aAkH6Ib,WAAgC,cAApBY,EAChKtd,SAAU,SAAAvJ,GAAC,OAAIxD,EAAgB,SAAU/P,EAAO/C,KAAM,kBAAxB,YAAC,eAA+C+C,EAAO4D,iBAAvD,IAAwElJ,EAAG6Y,EAAE,GAAI5Y,EAAG4Y,EAAE,GAAI3Y,EAAG2Y,EAAE,SACjI,cAAC,GAAD,CAAkBrV,MAAO,CAAC8B,EAAO6D,mBAAmBxC,EAAGrB,EAAO6D,mBAAmBnJ,EAAGsF,EAAO6D,mBAAmBlJ,EAAGqF,EAAO6D,mBAAmBjJ,GAAI++B,OA1G3J,WACI9iB,EAAsB,SAAU7W,EAAO/C,KAAM,UAC7Co9B,EAAmB,WAwG+JvgB,QAhHtL,WACIjD,EAAsB,SAAU7W,EAAO/C,KAAM,YAC7Co9B,EAAmB,aA8G4Lb,WAAgC,WAApBY,EAC/Mtd,SAAU,SAAAvJ,GAAC,OAAIxD,EAAgB,SAAU/P,EAAO/C,KAAM,qBAAxB,YAAC,eAAkD+C,EAAO6D,oBAA1D,IAA8ExC,EAAGkS,EAAE,GAAI7Y,EAAG6Y,EAAE,GAAI5Y,EAAG4Y,EAAE,GAAI3Y,EAAG2Y,EAAE,SAChJ,uBACA,sBAAKjb,MAAO,CAAEw4B,WAAY,MAAOzQ,QAAS,OAAQE,eAAgB,gBAAiB8T,WAAY,UAA/F,UACI,mBAAG/7B,MAAO,CAAEwB,MAAO,6BAAnB,+BACA,cAAC,KAAD,CAAQ8iB,UAAW5c,EAAOwqB,SAAUlL,QAAStf,EAAOu7B,iBAAkBjjC,MAAO,CAAE43B,KAAM,cAEzF,eAAC,KAAD,CAAS3pB,YAAY,OAAOjO,MAAO,CAAEwB,MAAO,QAASygC,eAAgB,yBAA0BhV,WAAY,WAAYuL,WAAY,OAAQ1Q,cAAe,OAA1J,UACI,yCACA,uBACA,0BAEJ,sBAAK9nB,MAAO,CAAE+nB,QAAS,OAAQgU,WAAY,SAAU9T,eAAgB,gBAAiBuQ,WAAY,OAAlG,UACI,mBAAGx4B,MAAO,CAAEwB,MAAO,6BAAnB,oBACA,gCAEI,cAAC,IAAD,CAAQxB,MAAO,CAAEilB,YAAa,GAAKX,UAAW5c,EAAOwqB,UAAsB,SAAVrkB,EAAkBjM,KAAgB,SAAViM,EAAmB,UAAY,UAAWvM,QAAS,WAAQuhC,EAAY,SAAhK,kBAGA,cAAC,IAAD,CAAQve,UAAW5c,EAAOwqB,UAAsB,WAAVrkB,EAAoBjM,KAAgB,SAAViM,EAAmB,UAAY,UAAWvM,QAAS,WAAQuhC,EAAY,WAAvI,0BAMR,uBAKA,mBAAG7iC,MAAO,CAAEwB,MAAO,6BAAnB,wBAECuhC,SC/JXG,GAAe,CAAC,YAAa,QAAS,UAAW,aAAc,SAGxDC,GAAS,SAACr3B,GAErB,MAUIsR,IAAS,SAAAlY,GAAK,MAAK,CACrByV,UAAWzV,EAAMyV,UACjBoD,eAAgB7Y,EAAM6Y,eACtBU,eAAgBvZ,EAAMuZ,eACtBE,oBAAqBzZ,EAAMyZ,oBAC3B5D,mBAAoB7V,EAAM6V,mBAC1B3E,WAAYlR,EAAMkR,WAClBqB,gBAAiBvS,EAAMuS,gBACvBD,KAAMtS,EAAMyV,UAAU/Y,MAAQshC,GAAankC,QAAQmG,EAAMyV,UAAU/Y,MAAQ,EAAIsD,EAAMM,KAAKN,EAAMyV,UAAU/Y,KAAO,KAAKsD,EAAMyV,UAAUhW,MAAQ,KAC9Iy+B,UAAW,CAAC,UAAUrkC,QAAQmG,EAAM6V,mBAAmBnZ,OAAS,EAAIsD,EAAMM,KAAKN,EAAM6V,mBAAmBnZ,KAAO,KAAKsD,EAAM6V,mBAAmBpW,MAAQ,CAAEiJ,KAAM,UAAWskB,UAAU,OAlBlLvX,EADF,EACEA,UACAoD,EAFF,EAEEA,eACAU,EAHF,EAGEA,eACAE,EAJF,EAIEA,oBACA5D,EALF,EAKEA,mBACA3E,EANF,EAMEA,WACAqB,EAPF,EAOEA,gBACAD,EARF,EAQEA,KACA4rB,EATF,EASEA,UAkBIta,EACJ,cAAC,IAAD,CACEua,QAAM,EACNvH,OAAK,EACLx6B,QATa,WACfyc,IACA3H,EAAWuE,EAAU/Y,KAAM+Y,EAAUhW,OAQnC8f,KAAM,cAACiO,GAAA,EAAD,IAJR,oBAWF,OAAIwQ,GAAankC,QAAQ4b,EAAU/Y,MAAQ,GAAK4V,GAAQ4rB,EAEpD,qBAAKpjC,MAAO,CAAEwB,MAAO,SAArB,SACE,eAAC,KAAD,CACEjC,MACE,eAAC,IAAD,WACE,uBAAMS,MAAO,CAAEiyB,cAAe,cAA9B,UAA+CtX,EAAU/Y,KAAzD,OACA,cAAC,KAAD,CACEgE,MAAO4R,EAAK5J,KACZ0W,UAAW9M,EAAK0a,SAChB1N,SAAU,SAAAvJ,GAAC,OAAIxD,EAAgBkD,EAAU/Y,KAAM+Y,EAAUhW,KAAM,OAAQsW,EAAEjd,OAAO4H,aAEtFuZ,QAA4B,OAAnBxE,EAAUhW,MAAoC,OAAnBgW,EAAU/Y,KAC9C4f,QAASzD,EACTulB,cAAc,EACdC,MAAM,EACNC,OACE,8BACGhsB,EAAKib,WACJ,cAAC,KAAD,CAASlzB,MAAM,6CACbq8B,QAAQ,QACRpT,UAAU,MACVM,QAASA,EAHX,SAIE,cAAC,IAAD,CACEua,QAAM,EACNvH,OAAK,EACLxX,UAAW9M,EAAKib,WAChBhO,KAAM,cAACiO,GAAA,EAAD,QAMV,cAAC,IAAD,CACE2Q,QAAM,EACNvH,OAAK,EACLxX,UAAW9M,EAAKib,WAChBhO,KAAM,cAACiO,GAAA,EAAD,QAQdhzB,MAAM,MA1CR,UA4CsB,aAAnBib,EAAU/Y,MACT,cAAC,GAAD,CAAgB+C,KAAMgW,EAAUhW,OAEd,YAAnBgW,EAAU/Y,MACT,mCACE,gCACE,cAAC,GAAD,CAAe+C,KAAMgW,EAAUhW,OAC/B,cAAC,KAAD,CAAQpF,MACN,eAAC,IAAD,WACE,uBAAMS,MAAO,CAAEiyB,cAAe,cAA9B,UAA+ClX,EAAmBnZ,KAAlE,OACA,cAAC,KAAD,CACEszB,aAAckO,EAAUx1B,KACxB0W,UAAW8e,EAAUlR,SACrB1N,SAAU,SAAAvJ,GAAC,OAAIxD,EAAgBsD,EAAmBnZ,KAAMmZ,EAAmBpW,KAAM,OAAQsW,EAAEjd,OAAO4H,aAEtG4b,QAAS7C,EACTQ,QAASV,EACT/e,MAAM,MACN6jC,MAAM,EACN/a,UAAU,QAZZ,SAaE,cAAC,GAAD,CAA0B7jB,KAAMoW,EAAmBpW,cAMvC,aAAnBgW,EAAU/Y,MACT,cAAC,GAAD,CAAgB+C,KAAMgW,EAAUhW,OAEd,cAAnBgW,EAAU/Y,MACT,cAAC,GAAD,CAAa+C,KAAMgW,EAAUhW,OAEX,OAAnBgW,EAAU/Y,MACT,cAAC,KAAD,SAON,cAAC,KAAD,CACErC,MAAO,uBAAMS,MAAO,CAAEiyB,cAAe,cAA9B,UAA+CtX,EAAU/Y,KAAzD,OACPud,QAA4B,OAAnBxE,EAAUhW,MAAoC,OAAnBgW,EAAU/Y,MAAiBshC,GAAankC,QAAQ4b,EAAU/Y,MAAQ,EACtG4f,QAASzD,EACTulB,cAAc,EACd5jC,MAAM,SC9ID+jC,GAAc,SAAChkC,GAGxB,OACI,sBAAKO,MAAO,CAACL,OAAO,qBAAqBkoB,aAAa,GAAG2Q,WAAW,GAAG1Q,cAAc,IAArF,UACI,cAAC,IAAD,CACIsF,UAAW,CAACztB,OAAO,GAAI64B,WAAW,GAClCx4B,MAAO,CAACL,OAAO,OAAOooB,QAAQ,OAAOrB,KAAK,EAAEsB,cAAc,UAC1DG,UAAW,CAACpD,QAAQ,EAAEgD,QAAQ,OAAOrB,KAAK,EAAEsB,cAAc,UAC1DzoB,MAAM,iBAJV,SAKQ,cAAC,GAAD,MAER,cAAC,GAAD,Q,oBCZCmkC,GAAgB,SAAC53B,GAE1B,MAAwFsR,IAAS,SAAAlY,GAAK,MAAG,CACrGsY,YAAYtY,EAAMsY,YAClBG,WAAWzY,EAAMyY,WACjB2C,IAAIpb,EAAMob,IACVC,OAAOrb,EAAMqb,OACbC,WAAWtb,EAAMsb,WACjBiB,QAAQvc,EAAMuc,QACdH,mBAAmBpc,EAAMoc,sBAC1BkG,MARIhK,EAAP,EAAOA,YAAaG,EAApB,EAAoBA,WAAY2C,EAAhC,EAAgCA,IAAKC,EAArC,EAAqCA,OAAQC,EAA7C,EAA6CA,WAAYiB,EAAzD,EAAyDA,QAUrDkiB,GAVJ,EAAkEriB,mBAU1C,WAOxB,MANmB,eAAfd,EACAmjB,EAAoB,aACE,cAAfnjB,IACPmjB,EAAoB,aAIpB,eAAC,KAAD,CAAOpkC,MAAM,WAAW4f,QAAyB,aAAhB3B,EAA4BomB,KAAMjmB,EAAYkmB,SAAUlmB,EAAzF,UACoB,cAAf6C,GACG,cAAC,KAAD,CAAO5e,KAAK,UAAUkiC,UAAQ,EAACC,QAAQ,eAE3B,eAAfvjB,GACG,cAAC,KAAD,CAAO5e,KAAK,UAAUkiC,UAAQ,EAACC,QAAQ,kBAE3B,iBAAfvjB,GACG,cAAC,KAAD,CAAO5e,KAAK,QAAQkiC,UAAQ,EAACC,QAAQ,mBAGzC,cAAC,KAAMC,OAAP,CACIhkC,MAAO,CAACkmB,UAAU,IAClBpe,YAAY,2BACZotB,aAAc5U,EACdkE,SAAU,SAACvJ,GAAD,OAAKsF,EAAOtF,EAAEjd,OAAO4H,QAC/Bq+B,YAAaN,EACbtf,KAAK,QACL6f,QAAwB,eAAf1jB,EACT2jB,SAAU1iB,EACV6C,SAAyB,eAAf9D,Q,uECrCb4jB,GAAY,SAACt4B,GAEtB,MAAoCsR,IAAS,SAAAlY,GAAK,MAAK,CACnDsY,YAAatY,EAAMsY,YACnBG,WAAYzY,EAAMyY,cACnB6J,MAHKhK,EAAR,EAAQA,YAAaG,EAArB,EAAqBA,WAKf0mB,EAAerL,mBAErB,EAAiC5b,IAAS,SAAAlY,GAAK,MAAI,CAACA,EAAM0Q,WAAY1Q,EAAMwP,cAAY8S,MAAxF,mBAAO5R,EAAP,KAAmBlB,EAAnB,KAUM4vB,EAAM,wCAAG,WAAOC,GAAP,iBAAA5hC,EAAA,sDACXqE,QAAQC,IAAIs9B,GACNC,EAAeD,EAAMvmC,OAAOymC,MAAM,GACxCz9B,QAAQC,IAAIu9B,GACRA,KACME,EAAS,IAAIC,YACZC,QAAU,WAAQb,KAAQhyB,MAAM,mBACvC2yB,EAAOG,QAAU,WAAQd,KAAQhyB,MAAM,iBACvC2yB,EAAOI,OAAS,WAEZ,IAAIt/B,EAAOu/B,KAAKxiB,MAAMmiB,EAAOl4B,QACzBhH,IAEAkP,EAAWlP,GACXmY,MAGR+mB,EAAOM,WAAWR,IAjBX,2CAAH,sDAgCZ,OACI,cAAC,KAAD,CAAOjlC,MAAM,sBAAsB4f,QAAyB,SAAhB3B,EAAwBomB,KAAMjmB,EAAYkmB,SAAUlmB,EAAhG,SACI,eAAC,IAAD,CAAK3d,MAAO,CAAEN,MAAO,QAArB,UACI,eAAC,KAAD,CAAKm1B,KAAM,GAAI70B,MAAO,CAAE+kB,QAAS,IAAjC,UACI,uBACInjB,KAAK,OACLvB,IAAKgkC,EACL7f,SAAU8f,EACVtkC,MAAO,CAAC+nB,QAAS,UAErB,cAAC,IAAD,CAAQnmB,KAAK,UAAUyiB,KAAK,QAAQyX,OAAK,EAACrX,KAAM,cAACwgB,GAAA,EAAD,IAAoB3jC,QAd1D,SAACwK,GACvBu4B,EAAa/K,QAAQ4L,SAaT,uBAEJ,cAAC,KAAD,CAAKrQ,KAAM,GAAI70B,MAAO,CAAE+kB,QAAS,IAAjC,SACI,cAAC,IAAD,CAAQnjB,KAAK,UAAUyiB,KAAK,QAAQyX,OAAK,EAACrX,KAAM,cAAC0gB,GAAA,EAAD,IAAsB7jC,QArDrE,WACb,IAAMoN,EAAUkH,IACVnU,EAAO0f,KAAKC,UAAU1S,GAEtB02B,EAAO,IAAIC,KAAK,CAAC5jC,GAAO,CAAEG,KAAM,6BACtC0jC,kBAAOF,EAAD,UAAU12B,EAAQd,KAAK6V,QAAQ,IAAK,KAApC,WAgDM,8BCpEP8hB,GAAS,SAAC9lC,GAEnB,OACI,eAAC,WAAD,WAEI,cAAC,GAAD,IAEA,cAAC,GAAD,QCOL,SAAS+lC,KAEZ,IAAM/nB,EAAiBL,IAAS,SAAAlY,GAAK,OAAEA,EAAMuY,kBAC7C,EAA6BL,IAAS,SAAAlY,GAAK,MAAE,CAACA,EAAM/D,MAAM+D,EAAMoY,gBAAckK,MAA9E,mBAAOrmB,EAAP,KAAamc,EAAb,KACMc,EAAUhB,IAAS,SAAAlY,GAAK,OAAEA,EAAMkZ,WAChCqnB,EAAWrS,oBAAU,CAAC1zB,MAAiB,YAAV0e,EAAsB,MAAQ,OAAQkF,OAAOA,SAAO+P,QACjFqS,EAAYtS,oBAAU,CAAC1zB,MAAiB,YAAV0e,EAAsB,MAAQ,KAAMkF,OAAOA,SAAO+P,QAChF7S,EAAapD,IAAS,SAAAlY,GAAK,OAAEA,EAAMsb,cACnCmlB,EAAcvoB,IAAS,SAAAlY,GAAK,OAAEA,EAAM0I,QAE1Cg4B,qBAAU,WACQ,WAAVzkC,GACA0kC,SAASC,KAAKC,UAAUC,OAAO,YAC/BH,SAASC,KAAKC,UAAUC,OAAO,eAC/BH,SAASC,KAAKC,UAAUC,OAAO,WAC/BH,SAASC,KAAKC,UAAUE,IAAI,WACX,YAAV9kC,GACP0kC,SAASC,KAAKC,UAAUC,OAAO,YAC/BH,SAASC,KAAKC,UAAUC,OAAO,eAC/BH,SAASC,KAAKC,UAAUC,OAAO,UAC/BH,SAASC,KAAKC,UAAUE,IAAI,YACX,gBAAV9kC,GACP0kC,SAASC,KAAKC,UAAUC,OAAO,YAC/BH,SAASC,KAAKC,UAAUC,OAAO,WAC/BH,SAASC,KAAKC,UAAUC,OAAO,UAC/BH,SAASC,KAAKC,UAAUE,IAAI,gBACX,aAAV9kC,IACP0kC,SAASC,KAAKC,UAAUC,OAAO,eAC/BH,SAASC,KAAKC,UAAUC,OAAO,WAC/BH,SAASC,KAAKC,UAAUC,OAAO,UAC/BH,SAASC,KAAKC,UAAUE,IAAI,eAE/B,CAAC9kC,IAGN,IAAM+kC,EAAY,CACd,CACIC,SAAU,WACVv4B,KAAM,WACN6W,KAAM,cAAC2hB,EAAA,EAAD,KAEV,CACID,SAAU,OACVv4B,KAAM,OACN6W,KAAM,cAACyD,EAAA,EAAD,MAId,OACI,qCACI,eAAC,IAAD,CAAQloB,MAAO,CAACL,OAAO,QAAQD,MAAM,SAArC,UACI,cAAC,IAAO2mC,OAAR,CAAe5U,UAAU,SAAzB,SACI,eAAC,IAAD,CAAKrN,MAAM,SAAS4B,QAAQ,gBAA5B,UACI,eAAC,IAAD,CAAOhmB,MAAO,CAACsmC,MAAM,QAArB,UACI,cAACxU,EAAA,EAAD,CAAM9xB,MAAO,CAACwB,MAAM8b,EAAa/b,SAAS,IAAKwwB,UAAWwU,IAC1D,oBAAIvmC,MAAO,CAAC4nB,YAAY,IAAxB,SAA6B,wCAAU,oCAAO+d,aAElD,uBAAM3lC,MAAO,CAACsmC,MAAM,SAApB,UACKJ,EAAUxhC,KAAI,SAAAwnB,GAAK,OAChB,cAAC,IAAD,CAAQtqB,KAAK,OAA4B6iB,KAAMyH,EAAMzH,KAAMnjB,QAAS,kBAAImc,EAAeyO,EAAMia,WAA7F,SACKja,EAAMte,MADcse,EAAMia,aAInB,cAAf3lB,GACG,cAAC,IAAD,CAAOgC,OAAO,YAEF,eAAfhC,GACG,cAAC,IAAD,CAAOgC,OAAO,YAEF,iBAAfhC,GACG,cAAC,IAAD,CAAOgC,OAAO,kBAK9B,eAAC,IAAD,WACI,cAAC,IAAOkZ,MAAR,CAAch8B,MAAM,OAApB,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAQA,MAAM,OAAd,SACI,cAAC,IAAOy8B,QAAR,UACI,sBAAKn8B,MAAO,CAACL,OAAO,OAAOD,MAAM,QAAjC,UACI,cAAC,WAASspB,IAAV,CAAchpB,MAAK,2BAAMylC,GAAN,IAAea,MAAM,SAAxC,SACI,cAAC,GAAD,MAEJ,cAAC,WAAStd,IAAV,CAAchpB,MAAK,2BAAM0lC,GAAN,IAAgBY,MAAM,UAAzC,SACI,cAAC,GAAD,mBAcxB,cAAC,GAAD,O,QC5GQE,QACa,cAA7BC,OAAOv1B,SAASw1B,UAEa,UAA7BD,OAAOv1B,SAASw1B,UAEhBD,OAAOv1B,SAASw1B,SAASC,MACrB,2DCVRC,IAASC,OAAO,cAACrB,GAAD,IAASK,SAASiB,eAAe,SDqHzC,kBAAmBC,WACnBA,UAAUC,cAAcC,MAAMC,MAAK,SAACC,GAChCA,EAAaC,gBACdC,OAAM,SAACt1B,GACN/K,QAAQ+K,MAAMA,EAAMgyB,a","file":"static/js/main.93b26a02.chunk.js","sourcesContent":["var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEvd(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: \"0 0 9449 9449\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    xmlSpace: \"preserve\",\n    style: {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 2\n    },\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1,0,0,1,174.923,719.226)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4549.49,294.453C2265.41,294.453 411.037,2148.83 411.037,4432.9C411.037,5408.83 749.584,6306.31 1315.51,7014.24C1503.27,7249.12 1950.11,7651.92 1950.11,7651.92C1995.99,7693.12 2055.48,7715.91 2117.15,7715.91L6981.83,7715.91C7043.49,7715.91 7102.99,7693.12 7148.87,7651.92C7148.87,7651.92 7595.7,7249.12 7783.47,7014.24C8349.39,6306.31 8687.93,5408.83 8687.93,4432.9C8687.93,2148.83 6833.56,294.453 4549.49,294.453ZM4549.49,794.453C6557.6,794.453 8187.94,2424.79 8187.94,4432.9C8187.94,5290.79 7890.39,6079.73 7392.92,6702.03C7266.35,6860.36 7009.4,7101.81 6885.17,7215.91C6537.58,7215.91 5330.37,7215.91 4549.49,7215.91L2213.8,7215.91C2089.57,7101.81 1832.62,6860.36 1706.05,6702.03C1208.58,6079.73 911.037,5290.79 911.037,4432.9C911.037,2424.79 2541.37,794.453 4549.49,794.453Z\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(0.567226,0.823562,-0.823562,0.567226,7158.44,-2390.15)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4913.86,5119.47C4291.18,5119.47 3785.64,5625.01 3785.64,6247.69C3785.64,6870.38 4291.18,7375.92 4913.86,7375.92C5536.55,7375.92 6042.09,6870.38 6042.09,6247.69C6042.09,5625.01 5536.55,5119.47 4913.86,5119.47L4913.86,5119.47ZM4913.86,5619.47C5260.59,5619.47 5542.09,5900.97 5542.09,6247.69C5542.09,6594.42 5260.59,6875.92 4913.86,6875.92C4567.14,6875.92 4285.64,6594.42 4285.64,6247.69C4285.64,5900.97 4567.14,5619.47 4913.86,5619.47L4913.86,5619.47Z\"\n  }))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(0.141081,1.00854,-1.01294,0.104945,10172.8,-290.491)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5598.84,5552.99L6690.89,4460.93C6785.03,4366.8 6782.25,4211.15 6684.68,4113.59C6587.11,4016.02 6431.48,4013.24 6337.34,4107.38L5245.28,5199.43C5151.15,5293.57 5153.93,5449.21 5251.49,5546.78C5349.06,5644.34 5504.7,5647.12 5598.84,5552.99Z\"\n  }))), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1,0,0,1,19.8835,415.834)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5061,1841.7C5061,1759.35 4994.15,1692.5 4911.8,1692.5L4613.41,1692.5C4531.06,1692.5 4464.21,1759.35 4464.21,1841.7L4464.21,2426.49C4464.21,2508.84 4531.06,2575.69 4613.41,2575.69L4911.8,2575.69C4994.15,2575.69 5061,2508.84 5061,2426.49L5061,1841.7Z\"\n  }))), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(6.12574e-17,1,-1,6.12574e-17,9535.09,464.65)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5061,1841.7C5061,1759.35 4994.15,1692.5 4911.8,1692.5L4613.41,1692.5C4531.06,1692.5 4464.21,1759.35 4464.21,1841.7L4464.21,2426.49C4464.21,2508.84 4531.06,2575.69 4613.41,2575.69L4911.8,2575.69C4994.15,2575.69 5061,2508.84 5061,2426.49L5061,1841.7Z\"\n  }))), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(6.12574e-17,1,-1,6.12574e-17,4221.79,464.65)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5061,1841.7C5061,1759.35 4994.15,1692.5 4911.8,1692.5L4613.41,1692.5C4531.06,1692.5 4464.21,1759.35 4464.21,1841.7L4464.21,2426.49C4464.21,2508.84 4531.06,2575.69 4613.41,2575.69L4911.8,2575.69C4994.15,2575.69 5061,2508.84 5061,2426.49L5061,1841.7Z\"\n  }))), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(0.707107,0.707107,-0.707107,0.707107,4795.04,-1485.06)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5061,1841.7C5061,1759.35 4994.15,1692.5 4911.8,1692.5L4613.41,1692.5C4531.06,1692.5 4464.21,1759.35 4464.21,1841.7L4464.21,2426.49C4464.21,2508.84 4531.06,2575.69 4613.41,2575.69L4911.8,2575.69C4994.15,2575.69 5061,2508.84 5061,2426.49L5061,1841.7Z\"\n  }))), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(0.707107,-0.707107,0.707107,0.707107,-1970.57,5250.28)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5061,1841.7C5061,1759.35 4994.15,1692.5 4911.8,1692.5L4613.41,1692.5C4531.06,1692.5 4464.21,1759.35 4464.21,1841.7L4464.21,2426.49C4464.21,2508.84 4531.06,2575.69 4613.41,2575.69L4911.8,2575.69C4994.15,2575.69 5061,2508.84 5061,2426.49L5061,1841.7Z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEvd);\nexport default __webpack_public_path__ + \"static/media/EVD.6a9ab05d.svg\";\nexport { ForwardRef as ReactComponent };","const frameStyles = {\n    colors: {\n        safety: '#CC79A7',\n        quality: '#56B4E9',\n        performance: '#E69F00',\n        business: '#009E73',\n    }\n};\n\nexport default frameStyles","import React from 'react';\nimport styled from 'styled-components';\nimport frameStyles from '../frameStyles';\n\nconst StyledButton = styled.button`\n    flex: 1;\n    display: flex;\n    padding-top: 2pt;\n    padding-bottom: 2pt;\n    border: 1px solid ${props=>frameStyles.colors[props.frame]};\n    border-radius: 2pt;\n    background-color: ${props=>(props.active ? frameStyles.colors[props.frame] : 'rgba(0,0,0,0)')};\n    &:hover { // apply this style when button is hovered\n        background-color: ${props=>frameStyles.colors[props.frame]}${props=>(props.active ? 'ff' : '33')};\n        transition: 0.4s ease-out;\n    }\n`;\n\nexport function FrameButton(props) {\n\n    \n\n    return <StyledButton frame={props.frame} active={props.active} onClick={props.onClick}><span style={{fontSize:'0.9em',color:props.active ? 'black' : frameStyles.colors[props.frame]}}>{props.text}</span></StyledButton>\n}","import frameStyles from '../frameStyles';\n// import { INITIAL_SIM, COLLISION_MESHES } from './initialSim';\n\n// const ROBOT_PARTS = Object.keys(INITIAL_SIM.staticScene).filter(v => v.includes('robot'));\n// const GRIPPER_PARTS = Object.keys(INITIAL_SIM.staticScene).filter(v => v.includes('gripper'));\n\nconst ACTIVE_TFS = [\n  'simulated_base_link',\n  'simulated_shoulder_link',\n  'simulated_upper_arm_link',\n  'simulated_forearm_link',\n  'simulated_wrist_1_link',\n  'simulated_wrist_2_link',\n  'simulated_wrist_3_link'\n]\n\nexport const GuiSlice = (set, get) => ({\n  // EDITOR/SETUP/MAIN\n  // The frame specifies the expert (color) frame\n  //positionVec : [0,0,0],\n  //setPositionVec : (vec) => set(_ => ({postionVec : vec})),\n  frame: 'safety',\n  primaryColor: frameStyles.colors['safety'],\n  setFrame: (frame) => set(state => {\n    state.frame = frame;\n    state.primaryColor = frameStyles.colors[frame];\n    if (state.secondaryFocusItem.type === 'issue') {\n      state.focusItem = { type: null, uuid: null };\n      state.secondaryFocusItem = { type: null, uuid: null };\n    }\n    // TODO: recolor any items/lines/hulls.\n  }),\n  // the activeModal specifies the type of modal shown\n  activeModal: null,\n  setActiveModal: (modal) => set(_ => ({ activeModal: modal })),\n  closeModal: () => set(_ => ({ activeModal: null })),\n  // the activeDrawer specifies the tab in the SetupEditor that is shown\n  activeDrawer: null,\n  setActiveDrawer: (drawer) => set(_ => ({ activeDrawer: drawer })),\n  // the focusItem specifies the type and uuid of data to focus on\n  focusItem: { type: null, uuid: null, transformMode: null },\n  setFocusItem: (type, uuid, transformMode) => set(state => {\n    // TODO Clear current items.\n    state.focusItem = { type: type, uuid: uuid, transformMode: transformMode };\n  }),\n  clearFocusItem: () => set(state => {\n    state.focusItem = { type: null, uuid: null, transformMode: null };\n    state.secondaryFocusItem = { type: null, uuid: null, transformMode: null };\n  }),\n  // the search terms they have entered\n  searchTerm: '',\n  setSearchTerm: (term) => set(_ => ({ searchTerm: term })),\n  clearSearchTerm: () => set(_ => ({ searchTerm: '' })),\n  // whether the sim window is expanded to the whole width\n  simMode: 'default',\n  setSimMode: (mode) => set(_ => ({ simMode: mode })),\n  secondaryFocusItem: { type: null, uuid: null },\n  setSecondaryFocusItem: (type, uuid, transformMode) => set(_ => ({ secondaryFocusItem: { type, uuid, transformMode } })),\n  clearSecondaryFocusItem: () => set(_ => ({ secondaryFocusItem: { type: null, uuid: null } })),\n  childrenDrawer: false,\n  setChildrenDrawer: (input) => set(_ => ({ childrenDrawer: input })),\n  clearChildrenDrawer: () => set(_ => ({ childrenDrawer: false })),\n  updateFromTfs: (msg) => set(state => {\n    msg.transforms.forEach(transformstamped => {\n      if (ACTIVE_TFS.indexOf(transformstamped.child_frame_id) >= 0) {\n        state.setTF(transformstamped.child_frame_id, state.tfs[transformstamped.child_frame_id])\n      }\n    })\n  }),\n  collisionsVisible: false,\n  setCollisionsVisible: (visible) => set(state => {\n    state.collisionsVisible = visible;\n  }),\n  occupancyVisible: false,\n  setOccupancyVisible: (visible) => set(state => {\n    state.occupancyVisible = visible;\n  }),\n});\n","import { v4 as uuidv4 } from 'uuid';\n\nconst generateUuid = (type) => {\n    return `${type}-js-${uuidv4()}`;\n};\n\nexport { generateUuid };","export const GRIPPER_FRAMES = [\n    \"simulated_robotiq_85_base_link\",\n    \"simulated_robotiq_85_left_finger_link\",\n    \"simulated_robotiq_85_left_finger_tip_link\",\n    \"simulated_robotiq_85_left_inner_knuckle_link\",\n    \"simulated_robotiq_85_left_knuckle_link\",\n    \"simulated_robotiq_85_right_finger_link\",\n    \"simulated_robotiq_85_right_finger_tip_link\",\n    \"simulated_robotiq_85_right_inner_knuckle_link\",\n    \"simulated_robotiq_85_right_knuckle_link\"\n]\n\nexport const GRIPPER_CONFIGURATIONS = {\n    \"capture\": {\n        \"simulated_robotiq_85_base_link\": [\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ],\n            [\n                [\n                    0.0,\n                    0.0,\n                    0.0\n                ],\n                [\n                    0.4999999999995599,\n                    -0.4999999999995599,\n                    0.4999993366025517,\n                    0.5000006633974483\n                ]\n            ]\n        ],\n        \"simulated_robotiq_85_left_finger_link\": [\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ]\n        ],\n        \"simulated_robotiq_85_left_finger_tip_link\": [\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.3912596842321502,\n                    0.9202803157161181\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ]\n        ],\n        \"simulated_robotiq_85_left_inner_knuckle_link\": [\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9202803157153081,\n                    -0.3912596842318058,\n                    5.191213523148797e-07,\n                    1.2210232264049343e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    0.0127,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ]\n        ],\n        \"simulated_robotiq_85_left_knuckle_link\": [\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9202803157153081,\n                    -0.3912596842318058,\n                    5.191213523148797e-07,\n                    1.2210232264049343e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    0.03060114443,\n                    0.0\n                ],\n                [\n                    0.9997980018000318,\n                    -0.02009864659382208,\n                    2.6666781730831885e-08,\n                    1.3265268864978445e-06\n                ]\n            ]\n        ],\n        \"simulated_robotiq_85_right_finger_link\": [\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ],\n            [\n                [\n                    -0.00408552455,\n                    -0.03148604435,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.0,\n                    1.0\n                ]\n            ]\n        ],\n        \"simulated_robotiq_85_right_finger_tip_link\": [\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.3912596842321502,\n                    0.9202803157161181\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.04303959807,\n                    -0.03759940821,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    -0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ]\n        ],\n        \"simulated_robotiq_85_right_inner_knuckle_link\": [\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.3912596842321502,\n                    0.9202803157161181\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.06142,\n                    -0.0127,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ]\n        ],\n        \"simulated_robotiq_85_right_knuckle_link\": [\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.3912596842321502,\n                    0.9202803157161181\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ],\n            [\n                [\n                    0.05490451627,\n                    -0.03060114443,\n                    0.0\n                ],\n                [\n                    0.0,\n                    0.0,\n                    0.020098646593839774,\n                    0.9997980018009117\n                ]\n            ]\n        ]\n    },\n    \"cmd\": [\n        0,\n        4.25,\n        8.5,\n        12.75,\n        17,\n        21.25,\n        25.5,\n        29.75,\n        34,\n        38.25,\n        42.5,\n        46.75,\n        51,\n        55.25,\n        59.5,\n        63.75,\n        68,\n        72.25,\n        76.5,\n        80.75,\n        85\n    ],\n    \"subtree\": [\n        [\n            \"planner_tool0\",\n            \"planner_tool0\"\n        ],\n        [\n            \"planner_tool0\",\n            \"planner_robotiq_85_base_link\"\n        ],\n        [\n            \"planner_robotiq_85_base_link\",\n            \"planner_robotiq_85_left_knuckle_link\"\n        ],\n        [\n            \"planner_robotiq_85_base_link\",\n            \"planner_robotiq_85_right_knuckle_link\"\n        ],\n        [\n            \"planner_robotiq_85_left_knuckle_link\",\n            \"planner_robotiq_85_left_finger_link\"\n        ],\n        [\n            \"planner_robotiq_85_right_knuckle_link\",\n            \"planner_robotiq_85_right_finger_link\"\n        ],\n        [\n            \"planner_robotiq_85_base_link\",\n            \"planner_robotiq_85_left_inner_knuckle_link\"\n        ],\n        [\n            \"planner_robotiq_85_base_link\",\n            \"planner_robotiq_85_right_inner_knuckle_link\"\n        ],\n        [\n            \"planner_robotiq_85_left_inner_knuckle_link\",\n            \"planner_robotiq_85_left_finger_tip_link\"\n        ],\n        [\n            \"planner_robotiq_85_right_inner_knuckle_link\",\n            \"planner_robotiq_85_right_finger_tip_link\"\n        ]\n    ]\n}","import useStore from './Store';\nimport lodash from 'lodash';\nimport { GRIPPER_CONFIGURATIONS, GRIPPER_FRAMES } from './gripper';\nimport { Quaternion } from 'three';\n\nexport function durationEstimate(unrolled){\n    let duration = 0;\n    const initialTrajectory = 50;\n    let gripperStart = 50;\n    let gripperEnd = null;\n    let first = true;\n    let tasks = [];\n    console.log(\"this is :\" + unrolled);\n    if (unrolled === undefined || unrolled === null){\n        return 0;\n    }else{\n        Object.values(unrolled).forEach(primitive=>{\n            //console.log(primitive);\n            if (primitive.type === 'node.primitive.breakpoint.' ){\n               return duration;\n\n            }else if(primitive.type === 'node.primitive.delay.'){\n                if (tasks.length === 0){\n                    duration += primitive.parameters.duration ;\n                }else{\n                    let assigned = false;\n                    let i = 0;\n                    let waiting = false;\n                    while (assigned === false && i < tasks.length){\n                        if (tasks[i].status === 'started'){\n                            tasks[i].timeTaken += primitive.parameters.duration ;\n                            duration += primitive.parameters.duration ;\n                            assigned = true;\n                        }else if (tasks[i].status === 'waiting'){\n                            waiting = true;\n                            assigned = true;\n                        }else{\n                            i += 1;\n                        }\n                    }\n                    if (i === tasks.length || waiting === false){                           \n                        duration += primitive.parameters.duration ;                            \n                    }\n                }\n\n\n            }else if (primitive.type ==='node.primitive.gripper.'){\n                if (tasks.length === 0){\n                    if (first === true){\n                        //gripperStart = initialTrajectory;\n                        gripperEnd = primitive.parameters.position;\n                        first = false;\n                        duration += Math.abs((gripperEnd - gripperStart) / primitive.parameters.speed);\n                        gripperStart = primitive.parameters.position;\n                        \n                    }else{\n                        gripperEnd = primitive.parameters.position;\n                        duration += Math.abs((gripperEnd - gripperStart) / primitive.parameters.speed);\n                        gripperStart = primitive.parameters.position;\n                    }  \n                }else{\n                    let assigned = false;\n                    let i = 0;\n                    let waiting = false;\n                    while (assigned === false && i < tasks.length){\n                        if (tasks[i].status === 'started'){\n                            if (first === true){\n                                //gripperStart = initialTrajectory;\n                                gripperEnd = primitive.parameters.position;\n                                first = false;\n                                duration += Math.abs((gripperEnd - gripperStart) / primitive.parameters.speed);\n                                gripperStart = primitive.parameters.position;\n                                tasks[i].timeTaken += Math.abs((gripperEnd - gripperStart) / primitive.parameters.speed);\n                                \n                            }else{\n                                gripperEnd = primitive.parameters.position;\n                                duration += Math.abs((gripperEnd - gripperStart) / primitive.parameters.speed);\n                                gripperStart = primitive.parameters.position;\n                                tasks[i].timeTaken += Math.abs((gripperEnd - gripperStart) / primitive.parameters.speed);\n                            }  \n                            assigned = true;\n                        }else if (tasks[i].status === 'waiting'){\n                            waiting = true;\n                            assigned = true;\n                        }else{\n                            i += 1;\n                        }\n                    }\n                    if (i === tasks.length || waiting === false){\n                        gripperEnd = primitive.parameters.position;\n                        duration += Math.abs((gripperEnd - gripperStart) / primitive.parameters.speed);\n                        gripperStart = primitive.parameters.position;\n                    }\n                }           \n            }else if (primitive.type === 'node.primitive.move-trajectory.'){\n                if (primitive.trajectory_uuid === null){\n                    duration += 0;\n                }else {\n                    if (tasks.length === 0){\n                        duration += primitive.parameters.trajectory_uuid.trace.duration ;\n                    }else{\n                        let assigned = false;\n                        let i = 0;\n                        let waiting = true;\n                        while (assigned === false && i < tasks.length){\n                            if (tasks[i].status === 'started'){\n                                tasks[i].timeTaken += primitive.parameters.trajectory_uuid.trace.duration ;\n                                duration += primitive.parameters.trajectory_uuid.trace.duration ;\n                                assigned = true;\n                            }else if (tasks[i].status === 'waiting'){\n                                waiting = true;\n                                assigned = true;\n                            }else{\n                                i += 1;\n                            }\n                        }\n                        if (i === tasks.length || waiting === false){                           \n                            duration += primitive.parameters.trajectory_uuid.trace.duration ;                            \n                        }\n                    }\n                }\n                }else if (primitive.type === 'node.primitive.machine-primitive.machine-start.' ){\n                tasks.push({'machineUUID' : primitive.parameters.machine_uuid.uuid, \n                           'status' : 'started', 'processTime' :primitive.parameters.machine_uuid.process_time, 'timeTaken': 0 });\n                \n            }else if(primitive.type === 'node.primitive.machine-primitive.machine-wait.'){\n                if (tasks.length === 0){\n                    console.log(\"this might be an error\");\n                }else{\n                   \n                    tasks.forEach((task) => \n                    {   \n                        \n                        if (primitive.parameters.machine_uuid.uuid === task.machineUUID &&task.status === 'started') {\n                            duration +=  task.processTime - task.timeTaken;\n                            console.log(duration);\n                            task.timeTaken += task.processTime - task.timeTaken;\n                            console.log(task.timeTaken);    \n                            task.status = 'waiting';\n                            \n                        }\n                    })\n                }\n            }else if (primitive.type ===  'node.primitive.machine-primitive.machine-stop.'){\n                tasks.forEach((task) => {if (primitive.parameters.machine_uuid.uuid === task.machineUUID) task.status = 'stopped'} ); \n            }\n        });\n\n        tasks.forEach((task) => {if (task.status === 'closed'){\n\n        }})\n        return duration;\n    }\n\n\n   \n\n}\n\nexport const typeToKey = (type) => {\n    let key;\n    switch (type) {\n        case 'trajectory':\n            key = 'trajectories';\n            break;\n        case 'collisionMesh':\n            key = 'collisionMeshes';\n            break;\n        default:\n            key = type + 's'\n    }\n    return key;\n}\n\nconst ROBOT_FRAMES = [\n    'base_link',\n    'shoulder_link',\n    'upper_arm_link',\n    'forearm_link',\n    'wrist_1_link',\n    'wrist_2_link',\n    'wrist_3_link',\n    'flange',\n    'tool0'\n]\n\nexport const HUMAN_ZONE = { radius: 2, height: 3, position: { x: 0, y: -1, z: 1 } }\n\nexport const DEFAULT_LOCATION_COLOR = { r: 62, g: 16, b: 102, a: 1 };\n\nexport const DEFAULT_WAYPOINT_COLOR = { r: 100, g: 18, b: 128, a: 1 };\n\nexport const DEFAULT_TRAJECTORY_COLOR = { r: 209, g: 0, b: 146, a: 1 };\n\nexport const UNREACHABLE_COLOR = { r: 204, g: 75, b: 10, a: 1 };\n\nexport const OCCUPANCY_ERROR_COLOR = { r: 233, g: 53, b: 152, a: 1 };\n\nfunction* range(start, end, step=1) {\n    for (let i = start; i <= end; i+=step) {\n        yield i;\n    }\n}\n\nexport const inHumanZone = ({ x, y, z }) => {\n    if (HUMAN_ZONE.position.z + HUMAN_ZONE.height * 0.5 > z && HUMAN_ZONE.position.z - HUMAN_ZONE.height * 0.5 < z) {\n        return Math.pow(x - HUMAN_ZONE.position.x, 2) + Math.pow(y - HUMAN_ZONE.position.y, 2) < Math.pow(HUMAN_ZONE.radius, 2)\n    }\n    return false\n}\n\nexport const occupancyOverlap = (position, occupancyZones) => {\n    let noOverlap = true\n    Object.values(occupancyZones).forEach(zone => {\n        if (position.x < zone.position_x + zone.scale_x &&\n            position.x > zone.position_x - zone.scale_x &&\n            position.y < zone.position_z + zone.scale_z &&\n            position.y > zone.position_z - zone.scale_z) {\n            noOverlap = false\n        }\n    })\n    return !noOverlap\n}\n\nexport function flattenProgram(primitives, skills, parentData) {\n\n    let flattenedPrimitives = [];\n    let flattenedSkills = [];\n\n    primitives.forEach(primitive => {\n        if (primitive.type.includes('hierarchical')) {\n            let newPrimitive = lodash.omit(primitive, 'primitives');\n            newPrimitive.primitiveIds = primitive.primitives.map(primitive => primitive.uuid);\n            newPrimitive.parentData = { type: 'primitive', uuid: primitive }\n            flattenedPrimitives.push(newPrimitive);\n            const primitiveChildren = flattenProgram(primitive.primitives, [], { type: 'primitive', uuid: primitive.uuid })[0];\n            flattenedPrimitives = [...flattenedPrimitives, ...primitiveChildren];\n        } else {\n            flattenedPrimitives.push({ ...primitive, parentData })\n        }\n    });\n    skills.forEach(skill => {\n        if (skill.type.includes('hierarchical')) {\n            let newSkill = lodash.omit(skill, 'primitives');\n            newSkill.primitiveIds = skill.primitives.map(primitive => primitive.uuid);\n            flattenedSkills.push(newSkill);\n            const primitiveChildren = flattenProgram(skill.primitives, [], { type: 'skill', uuid: skill.uuid })[0];\n            flattenedPrimitives = [...flattenedPrimitives, ...primitiveChildren]\n        }\n    })\n\n    return [flattenedPrimitives, flattenedSkills]\n}\n\nfunction executableTrajectory(trajectory, context) {\n    let executable = { uuid: trajectory.uuid, sequence: [], trace: null }\n    if (!trajectory.start_location_uuid || !trajectory.end_location_uuid || !trajectory.trace) {\n        console.log('no start or end')\n        return null\n    }\n    executable.sequence.push(context[trajectory.start_location_uuid])\n    trajectory.waypoint_uuids.forEach(waypoint_uuid => {\n        executable.sequence.push(context[waypoint_uuid])\n    })\n    executable.sequence.push(context[trajectory.end_location_uuid]);\n    executable.trace = trajectory.trace;\n    return executable\n}\n\nexport function executableMachine(machine, context) {\n    let executable = {...machine,inputData:[],outputData:[]};\n    Object.keys(machine.inputs).forEach(thingType=>{\n        const thingInfo = context[thingType];\n        machine.inputs[thingType].forEach(outputData=>{\n            const region = context[outputData.region_uuid];\n            // For now, assume only one is created\n            executable.inputData.push({thing:thingInfo,region})\n        })\n    })\n    Object.keys(machine.outputs).forEach(thingType=>{\n        const thingInfo = context[thingType];\n        machine.outputs[thingType].forEach(outputData=>{\n            const region = context[outputData.region_uuid];\n            // For now, assume only one is created\n            executable.outputData.push({thing:thingInfo,region,placeholder:context[outputData.placeholder_uuids[0]]})\n        })\n    })\n\n    return executable\n}\n\nfunction executablePrimitiveInner(primitiveId, state, context) {\n    let executable = [];\n    if (primitiveId === state.uuid) {\n        // Program is the primitive;\n        if (state.primitiveIds.some(childId => {\n            const children = executablePrimitiveInner(childId, state, context);\n            if (children === null || children.includes(null)) {\n                return true\n            } else {\n                executable = [...executable, ...children]\n                return false\n            }\n        })) {\n            // There was a null response\n            return null\n        } else {\n            return executable\n        }\n    } else {\n        const primitive = state.data.primitives[primitiveId];\n        if (primitive.type.includes('hierarchical')) {\n            if (primitive.primitiveIds.some(childId => {\n                const children = executablePrimitiveInner(childId, state, context);\n                if (children === null || children.includes(null)) {\n                    return true\n                } else {\n                    executable = [...executable, ...children]\n                    return false\n                }\n            })) {\n                // There was a null response\n                return null\n            } else {\n                return executable\n            }\n        } else if (primitive.type.includes('skill-call')) {\n            let innerContext = { ...context };\n            if (Object.keys(primitive.parameters).some(parameterKey => {\n                const value = primitive.parameters[parameterKey];\n                if (parameterKey !== 'skill_uuid' && context[value]) {\n                    innerContext[parameterKey] = context[value]\n                    return false\n                } else if (parameterKey !== 'skill_uuid') {\n                    return true\n                }\n                return false\n            })) {\n                // There was a null param\n                return null\n            }\n            const calledSkill = state.data.skills[primitive.parameters.skill_uuid];\n            if (calledSkill.primitiveIds.some(childId => {\n                const children = executablePrimitiveInner(childId, state, innerContext);\n                if (children === null || children.includes(null)) {\n                    return true\n                } else {\n                    executable = [...executable, ...children]\n                    return false\n                }\n            })) {\n                // There was a null response\n                return null\n            } else {\n                return executable\n            }\n        } else if (primitive.type === 'node.primitive.breakpoint.' || primitive.type === 'node.primitive.delay.') {\n            return [...executable, primitive]\n        } else if (primitive.type === 'node.primitive.gripper.') {\n            if (context[primitive.parameters.thing_uuid]) {\n                return [...executable, { ...primitive, parameters: { ...primitive.parameters, thing_uuid: context[primitive.parameters.thing_uuid] } }]\n            } else {\n                return null\n            }\n        } else if (primitive.type.includes('machine-primitive')) {\n            if (context[primitive.parameters.machine_uuid]) {\n                return [...executable, { ...primitive, parameters: { ...primitive.parameters, machine_uuid: context[primitive.parameters.machine_uuid] } }]\n            } else {\n                return null\n            }\n        } else if (primitive.type === 'node.primitive.move-trajectory.') {\n            if (primitive.parameters.trajectory_uuid && context[primitive.parameters.trajectory_uuid]) {\n                return [...executable, { ...primitive, parameters: { ...primitive.parameters, trajectory_uuid: context[primitive.parameters.trajectory_uuid] } }]\n            } else {\n                return null\n            }\n        } else if (primitive.type === 'node.primitive.move-unplanned.') {\n            if (context[primitive.parameters.location_uuid]) {\n                return [...executable, { ...primitive, parameters: { ...primitive.parameters, location_uuid: context[primitive.parameters.location_uuid] } }]\n            } else {\n                return null\n            }\n        }\n    }\n    return null\n}\n\nexport function executablePrimitive(primitiveId, state) {\n    let context = {\n        ...state.data.placeholders,\n        ...state.data.locations,\n        ...state.data.waypoints,\n        ...state.data.thingTypes,\n        ...state.data.regions\n    }\n    Object.values(state.data.trajectories).forEach(trajectory => {\n        context[trajectory.uuid] = executableTrajectory(trajectory, context)\n    })\n    Object.values(state.data.machines).forEach(machine => {\n        context[machine.uuid] = executableMachine(machine, context)\n    })\n    return executablePrimitiveInner(primitiveId, state, context)\n}\n\nconst findLastSatisfiedFromReference = (x, fn) => {\n    let lastIdx = 0;\n    for (let i = 0; i < x.length; i++) {\n        if (fn(x[i])) {\n            lastIdx = i\n        } else {\n            break\n        }\n    }\n    return lastIdx\n}\n\nconst gripperFramesFromValue = (distance) => {\n    const idx = findLastSatisfiedFromReference(GRIPPER_CONFIGURATIONS.cmd, v => v <= distance);\n    let frames = {};\n    GRIPPER_FRAMES.forEach(frameName => {\n        const rawFrame = GRIPPER_CONFIGURATIONS.capture[frameName][idx];\n        frames[frameName] = {\n            translation: {\n                x: rawFrame[0][0],\n                y: rawFrame[0][1],\n                z: rawFrame[0][2]\n            },\n            rotation: {\n                x: rawFrame[1][0],\n                y: rawFrame[1][1],\n                z: rawFrame[1][2],\n                w: rawFrame[1][3]\n            }\n        }\n    })\n    return frames\n}\n\nexport const robotFramesFromPose = (pose) => {\n    let frames = {};\n    console.log(pose.frames)\n    ROBOT_FRAMES.forEach(frame=>{\n        const rawFrame = pose.frames[frame];\n        frames['simulated_'+frame] = {\n            translation: {\n                x: rawFrame[0][0],\n                y: rawFrame[0][1],\n                z: rawFrame[0][2]\n            },\n            rotation: {\n                x: rawFrame[1][0],\n                y: rawFrame[1][1],\n                z: rawFrame[1][2],\n                w: rawFrame[1][3]\n            }\n        }\n    })\n    return frames\n}\n\nconst frameFromRegion = (region) => {\n    return {\n        translation: {\n            x: region.center_position.x,\n            y: region.center_position.y,\n            z: region.center_position.z\n        },\n        rotation: {\n            x: region.center_orientation.x,\n            y: region.center_orientation.y,\n            z: region.center_orientation.z,\n            w: region.center_orientation.w,\n        }\n    }\n}\n\nconst robotFramesFromIdx = (idx,trace) => {\n    let frames = {};\n    ROBOT_FRAMES.forEach(frame=>{\n        const rawFrame = trace.frames[frame][idx];\n        frames['simulated_'+frame] = {\n            translation: {\n                x: rawFrame[0][0],\n                y: rawFrame[0][1],\n                z: rawFrame[0][2]\n            },\n            rotation: {\n                x: rawFrame[1][0],\n                y: rawFrame[1][1],\n                z: rawFrame[1][2],\n                w: rawFrame[1][3]\n            }\n        }\n    })\n    return frames\n}\n\nconst poseDiff = (pose1,pose2) => {\n    const translationDistance = Math.sqrt(\n        Math.pow(pose1.position.x-pose2.position.x,2) + \n        Math.pow(pose1.position.y-pose2.position.y,2) + \n        Math.pow(pose1.position.z-pose2.position.z,2)\n    )\n    const quat1 = Quaternion(pose1.quaternion.x,pose1.quaternion.y,pose1.quaternion.z,pose1.quaternion.w)\n    const quat2 = Quaternion(pose2.quaternion.x,pose2.quaternion.y,pose2.quaternion.z,pose2.quaternion.w)\n    return {distance:translationDistance, angle:quat1.angleTo(quat2)}\n}\n\nconst stepsToAnimatedTfs = (steps) => {\n    if (steps.length === 0) {\n        return {}\n    }\n    let tempAnimatedTfs = objectMap(steps[0].tfs,_=>({\n            translation:{x:[],y:[],z:[]},\n            rotation:{w:[],x:[],y:[],z:[]}\n        })\n    )\n    const tfNames = Object.keys(tempAnimatedTfs);\n    console.log(tfNames)\n    let timesteps = steps.map(step=>step.time)\n    steps.forEach(step=>{\n        tfNames.forEach(tfName=>{\n            tempAnimatedTfs[tfName].translation.x.push(step.tfs[tfName].translation.x);\n            tempAnimatedTfs[tfName].translation.y.push(step.tfs[tfName].translation.y);\n            tempAnimatedTfs[tfName].translation.z.push(step.tfs[tfName].translation.z);\n            tempAnimatedTfs[tfName].rotation.w.push(step.tfs[tfName].rotation.w);\n            tempAnimatedTfs[tfName].rotation.x.push(step.tfs[tfName].rotation.x);\n            tempAnimatedTfs[tfName].rotation.y.push(step.tfs[tfName].rotation.y);\n            tempAnimatedTfs[tfName].rotation.z.push(step.tfs[tfName].rotation.z);\n        })\n    })\n    // console.log(tempAnimatedTfs)\n    const animatedTfs = objectMap(tempAnimatedTfs,tf=>({\n        translation:{\n            x: interpolateScalar(timesteps, tf.translation.x),\n            y: interpolateScalar(timesteps, tf.translation.y),\n            z: interpolateScalar(timesteps, tf.translation.z)\n        },\n        rotation:{\n            w: interpolateScalar(timesteps, tf.rotation.w),\n            x: interpolateScalar(timesteps, tf.rotation.x),\n            y: interpolateScalar(timesteps, tf.rotation.y),\n            z: interpolateScalar(timesteps, tf.rotation.z)\n        }\n    }))\n    // for (let timestep of timesteps) {\n    //     console.log(animatedTfs['simulated_tool0'].translation.x(timestep))\n    // }\n\n    return animatedTfs\n}\n\nexport function tfAnimationFromExecutable(executable, startingTfs) {\n    let steps = [{ time: 0, tfs: startingTfs }]\n    let machineProcessing = {};\n    let cancelled = false;\n    let currentTime = 0;\n    let gripperState = 55;\n    let activePlaceholders = [];\n    let carriedPlaceholder = null;\n    executable.forEach(chunk => {\n        let prevTfs = lodash.cloneDeep(steps[steps.length - 1]);\n        let duration = 0;\n        if (!cancelled) {\n            if (chunk.type === 'node.primitive.gripper.') {\n                const delta = chunk.parameters.position - gripperState;\n                const direction = delta >= 0 ? 1 : -1\n                duration = 1000 * Math.abs(delta) / chunk.parameters.speed;\n                for (let timeOffset of range(0,duration,250)) {\n                    const tempGripperState = chunk.parameters.speed * timeOffset * direction;\n                    prevTfs.tfs = {...prevTfs.tfs,...gripperFramesFromValue(tempGripperState)};\n                    prevTfs.time = currentTime+timeOffset;\n                    steps.push(prevTfs)\n                    prevTfs = lodash.cloneDeep(steps[steps.length - 1]);\n                }\n                if (direction === -1) {\n                    activePlaceholders.forEach(placeholder=>{\n                        const {distance, angle} = poseDiff(prevTfs[placeholder],prevTfs['simulated_tool0']);\n                        if (distance < 0.01 && angle < 0.35) {\n                            carriedPlaceholder = placeholder\n                        }\n                    })\n                }\n                if (direction === 1 && carriedPlaceholder) {\n                    carriedPlaceholder = null\n                }\n            } else if (chunk.type === 'node.primitive.delay.') {\n                duration = chunk.parameters.duration * 1000;\n                steps.push({ ...prevTfs, time: currentTime + duration })\n            } else if (chunk.type === 'node.primitive.breakpoint.') {\n                cancelled = true;\n            } else if (chunk.type === 'node.primitive.machine-primitive.machine-initialize.') {\n                // Ignore\n            } else if (chunk.type === 'node.primitive.machine-primitive.machine-start.') {\n                machineProcessing[chunk.parameters.machine_uuid.uuid] = chunk.parameters.machine_uuid.process_time;\n            } else if (chunk.type === 'node.primitive.machine-primitive.machine-stop.') {\n                const machine = chunk.parameters.machine_uuid;\n                machine.outputData.forEach(outputObj=>{\n                    prevTfs.tfs[outputObj.placeholder.uuid] = frameFromRegion(outputObj.region)\n                    if (!activePlaceholders.includes(outputObj.placeholder.uuid)) {\n                        activePlaceholders.push(outputObj.placeholder.uuid)\n                    }\n                })\n            } else if (chunk.type === 'node.primitive.machine-primitive.machine-wait.') {\n                if (machineProcessing[chunk.parameters.machine_uuid.uuid]) {\n                    duration = machineProcessing[chunk.parameters.machine_uuid.uuid]\n                }\n                steps.push(prevTfs)\n            } else if (chunk.type === 'node.primitive.move-trajectory.') {\n                duration = chunk.parameters.trajectory_uuid.trace.duration * 1000;\n                if (chunk)\n                for (let i = 0; i < chunk.parameters.trajectory_uuid.trace.time_data.length-1; i++) {\n                    prevTfs.tfs = {...prevTfs.tfs,...robotFramesFromIdx(i,chunk.parameters.trajectory_uuid.trace)};\n                    if (carriedPlaceholder) {\n                        // Attach the carried object\n                        prevTfs.tfs[carriedPlaceholder] = prevTfs.tfs.simulated_tool0\n                    }\n                    prevTfs.time = currentTime+chunk.parameters.trajectory_uuid.trace.time_data[i]*1000;\n                    steps.push(prevTfs)\n                    prevTfs = lodash.cloneDeep(steps[steps.length - 1]);\n                }\n                if (chunk.parameters.trajectory_uuid.trace.in_timeout) {\n                    cancelled = true\n                }\n            } else if (chunk.type === 'node.primitive.move-unplanned.') {\n                duration = 100;\n                prevTfs.time = prevTfs.time + 100;\n                prevTfs.tfs = {...prevTfs.tfs,...robotFramesFromPose(chunk.parameters.location_uuid)}\n                if (carriedPlaceholder) {\n                    // Attach the carried object\n                    prevTfs.tfs[carriedPlaceholder] = prevTfs.tfs.simulated_tool0\n                }\n                steps.push(prevTfs)\n                prevTfs = lodash.cloneDeep(steps[steps.length - 1]);\n            }\n        }\n        currentTime += duration;\n        machineProcessing = objectMap(machineProcessing, val => {\n            if (val - duration < 0) {\n                return 0\n            } else {\n                return val - duration\n            };\n        })\n    })\n    return stepsToAnimatedTfs(steps)\n}\n\n\n\nfunction interpolateScalar(x, y) {\n    //const defaultFn = (v) => 0;\n    if (x.length <= 0) {\n        return null\n    }\n    const interp = (v) => {\n        const val = v > x[x.length - 1] ? v % x : v;\n        let lastIdx = 0;\n        for (let i = 0; i < x.length; i++) {\n            if (x[i] <= val) {\n                lastIdx = i\n            } else {\n                break\n            }\n        }\n        return y[lastIdx]\n    }\n    return interp\n}\n\nexport function objectMap(object, mapFn) {\n    return Object.keys(object).reduce(function (result, key) {\n        result[key] = mapFn(object[key], key)\n        return result\n    }, {})\n}\n\nexport function arrayMove(arr, old_index, new_index) {\n    while (old_index < 0) {\n        old_index += arr.length;\n    }\n    while (new_index < 0) {\n        new_index += arr.length;\n    }\n    if (new_index >= arr.length) {\n        var k = new_index - arr.length + 1;\n        while (k--) {\n            arr.push(undefined);\n        }\n    }\n    arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\n    return arr; // for testing purposes\n};\n\nexport function unFlattenProgramPrimitives(primitives, ids) {\n    let unFlattenedPrimitives = [];\n    ids.forEach(id => {\n        let newPrimitive = lodash.omit(primitives[id], 'primitiveIds');\n        if (newPrimitive.type.includes('hierarchical')) {\n            newPrimitive.primitives = unFlattenProgramPrimitives(primitives, primitives[id].primitiveIds);\n        };\n        unFlattenedPrimitives.push(newPrimitive);\n    });\n    return unFlattenedPrimitives;\n}\n\nexport function unFlattenProgramSkills(skills, primitives) {\n    let unflattenedSkillSet = Object.values(skills);\n    let unFlattenedSkills = [];\n    unflattenedSkillSet.forEach(skill => {\n        let newSkill = lodash.omit(skill, 'primitiveIds');\n        newSkill.primitives = unFlattenProgramPrimitives(primitives, skill.primitiveIds);\n        unFlattenedSkills.push(newSkill);\n    });\n    return unFlattenedSkills;\n}\n\nexport function poseToColor(pose, frame, focused) {\n    let color = { r: 255, g: 255, b: 255, a: focused ? 1 : 0 };\n    if (frame === 'safety' && inHumanZone(pose.position)) {\n        color.r = 233;\n        color.g = 53;\n        color.b = 152;\n    } else if (frame === 'performance' && !pose.reachable) {\n        color.r = 204;\n        color.g = 75;\n        color.b = 10;\n    }\n    return color\n}\n\nexport function reachabilityColor(focused, locationOrWaypoint) {\n    let color = { r: 255, g: 255, b: 255, a: focused ? 1 : 0 };\n\n    if (locationOrWaypoint === 'location') {//134, 36, 224\n        color.r = 62;\n        color.g = 16;\n        color.b = 102;\n    } else {//173, 31, 222\n        color.r = 100;\n        color.g = 18;\n        color.b = 128;\n    }\n    return color;\n}\n\n\nexport function poseDataToShapes(pose, frame) {\n    let pose_stored = pose;\n    return [\n        {\n            uuid: `${pose_stored.uuid}-tag`,\n            frame: 'world',\n            name: pose.name,\n            shape: pose_stored.type.includes('location') ? 'flag' : 'tag',\n            position: pose_stored.position,\n            rotation: { w: 1, x: 0, y: 0, z: 0 },\n            scale: { x: -0.25, y: 0.25, z: 0.25 },\n            highlighted: false,\n            showName: false,\n            color: poseToColor(pose_stored, frame, false)\n        },\n        {\n            uuid: `${pose_stored.uuid}-pointer`,\n            frame: 'world',\n            shape: pose_stored.type.includes('location') ? 'package://app/meshes/LocationMarker.stl' : 'package://app/meshes/OpenWaypointMarker.stl',\n            position: pose_stored.position,\n            rotation: pose_stored.orientation,\n            scale: { x: 1, y: 1, z: 1 },\n            highlighted: false,\n            showName: false,\n            color: poseToColor(pose_stored, frame, false)\n        }\n    ]\n}\n\nexport function trajectoryDataToLine(trajectory, locations, waypoints, frame, reachableAndPerformance) {\n    // For the time being, enumerate the location and waypoints //197, 50, 154\n    let points = [];\n    if (trajectory.start_location_uuid) {\n        let location = locations[trajectory.start_location_uuid];\n        let position = { x: location.position.x, y: location.position.y, z: location.position.z };\n\n        if ((frame === 'performance' && location.joints.reachable) || frame === 'quality' || frame === 'business') {\n\n            points.push({ position, color: { r: 209, g: 0, b: 146, a: 1 } });\n\n        } else {\n            points.push({ position, color: poseToColor(location, frame, true) });\n        }\n\n\n    }\n    trajectory.waypoint_uuids.forEach(waypoint_uuid => {\n        let waypoint = waypoints[waypoint_uuid];\n        let position = { x: waypoint.position.x, y: waypoint.position.y, z: waypoint.position.z };\n        if ((frame === 'performance' && waypoint.joints.reachable) || frame === 'quality' || frame === 'business') {\n            points.push({ position, color: { r: 209, g: 0, b: 146, a: 1 } })\n        } else {\n            points.push({ position, color: poseToColor(waypoint, frame, true) })\n        }\n\n    })\n\n    if (trajectory.end_location_uuid) {\n        let location = locations[trajectory.end_location_uuid];\n        let position = { x: location.position.x, y: location.position.y, z: location.position.z };\n        if ((frame === 'performance' && location.joints.reachable) || frame === 'quality' || frame === 'business') {\n            points.push({ position, color: { r: 209, g: 0, b: 146, a: 1 } });\n        } else {\n            points.push({ position, color: poseToColor(location, frame, true) });\n        }\n    }\n    return {\n        name: trajectory.name,\n        frame: \"world\",\n        width: 0,\n        vertices: points\n    }\n}\n\nexport function trajectoryDataToShapes(trajectory, locations, waypoints, frame) {\n    // For the time being, enumerate the location and waypoints\n    let shapes = [];\n    if (trajectory.start_location_uuid) {\n        let location = locations[trajectory.start_location_uuid];\n        shapes.push(poseDataToShapes(location, frame));\n    }\n    trajectory.waypoint_uuids.forEach(waypoint_uuid => {\n        let waypoint = waypoints[waypoint_uuid];\n        shapes.push(poseDataToShapes(waypoint, frame));\n    })\n\n    if (trajectory.end_location_uuid) {\n        let location = locations[trajectory.end_location_uuid];\n        shapes.push(poseDataToShapes(location, frame));\n    }\n    return shapes\n}\n\nexport const createTrajectory = (trajectory, locations, waypoints, frame, humanZone) => useStore.setState(state => ({\n    lines: { ...state.lines, [trajectory.uuid]: trajectoryDataToLine(trajectory, locations, waypoints, frame, humanZone) },\n    items: { ...state.items, ...trajectoryDataToShapes(trajectory, locations, waypoints, frame, humanZone) }\n}))\n\n","import { findCollisionIssues, findEndEffectorPoseIssues, findOccupancyIssues, findPinchPointIssues, findThingMovementIssues } from \"./issueDetectors/safety\";\nimport { findEmptyBlockIssues, findMissingBlockIssues, findMissingParameterIssues, findUnusedFeatureIssues, findUnusedSkillIssues } from \"./issueDetectors/quality\";\nimport { findEndEffectorSpeedIssues, findJointSpeedIssues, findPayloadIssues, findReachabilityIssues, findSpaceUsageIssues } from \"./issueDetectors/performance\";\nimport { findCycleTimeIssues, findIdleTimeIssues, findReturnOnInvestmentIssues } from \"./issueDetectors/business\";\nimport { objectMap } from \"./helpers\";\n\nconst SECTION_INFO = {\n    endEffectorPoses:{\n        name:'End Effector Poses',\n        updater:findEndEffectorPoseIssues,\n        dependencies:['reachability']\n        // dependencies:[]\n    },\n    pinchPoints:{\n        name:'Pinch Points',\n        updater:findPinchPointIssues,\n        dependencies:[]\n    }, \n    collisions:{\n        name:'Collisions',\n        updater:findCollisionIssues,\n        dependencies:[]\n    },\n    occupancy:{\n        name:'Occupancy',\n        updater:findOccupancyIssues,\n        dependencies:['spaceUsage']\n    },\n    thingMovement:{\n        name:'Thing Movement',\n        updater:findThingMovementIssues,\n        dependencies:['endEffectorPoses']\n        // dependencies:[]\n    },\n    missingBlocks:{\n        name:'Missing Blocks',\n        updater:findMissingBlockIssues,\n        dependencies:[]\n    },\n    missingParameters:{\n        name:'Missing Parameters',\n        updater:findMissingParameterIssues,\n        dependencies:[]\n    },\n    unusedSkills:{\n        name:'Unused Skills',\n        updater:findUnusedSkillIssues,\n        dependencies:[]\n    },\n    unusedFeatures:{\n        name:'Unused Features',\n        updater:findUnusedFeatureIssues,\n        dependencies:[]\n    },\n    emptyBlocks:{\n        name:'Empty Blocks',\n        updater:findEmptyBlockIssues,\n        dependencies:[]\n    },\n    reachability:{\n        name:'Reachability',\n        updater:findReachabilityIssues,\n        dependencies:[]\n    },\n    jointSpeed:{\n        name:'Joint Speed',\n        updater:findJointSpeedIssues,\n        dependencies:['reachability']\n    },\n    endEffectorSpeed:{\n        name:'End Effector Speed',\n        updater:findEndEffectorSpeedIssues,\n        dependencies:['reachability']\n    },\n    payload:{\n        name:'Payload',\n        updater:findPayloadIssues,\n        dependencies:['thingMovement']\n    },\n    spaceUsage:{\n        name:'Space Usage',\n        updater:findSpaceUsageIssues,\n        dependencies:[]\n    },\n    cycleTime:{\n        name:'Cycle Time',\n        updater:findCycleTimeIssues,\n        dependencies:[]\n    },\n    idleTime:{\n        name:'Idle Time',\n        updater:findIdleTimeIssues,\n        dependencies:[]\n    },\n    returnOnInvestment:{\n        name:'Return on Investment',\n        updater:findReturnOnInvestmentIssues,\n        dependencies:['cycleTime','idleTime']\n    }\n}\n\nexport const ReviewSlice = (set) => ({\n    // Issues are stored in a flat lookup\n    stats: [],\n    issues: {\n        /* \n        Each issue has the following structure:\n        {\n            uuid: str (unique uuid for this issue)\n            requiresChanges: bool (whether the issue is one that requires changes to the program and a refresh. Similar to warning vs. error)\n            title: str (short title for issue)\n            description: str (text string for error information, displayed in issue)\n            complete: bool (mainly for issues that don't require changes, whether it has been marked as complete)\n            focus: {uuid:str, type:str} (what type of item to focus on in the gui when issue is selected)\n            graphData: {series : [{x: ..., '...': ..., ....},...], lineColors: ['#00000', ...],  xAxisLabel: '', yAxisLabel: '', title: ''}\n            sceneData: 🤷\n            code: str (whatever we want)\n        }\n        */\n    },\n    sections: objectMap(SECTION_INFO,section=>({...section,issues:[]})),\n    setIssueCompletion: (uuid,complete) => set(state=>{\n        state.issues[uuid].complete = complete\n    }),\n    refresh: () => set(state=>{\n        //state.issues = {};\n        let newIssues = {};\n        let unrolledProgram = state.executablePrimitives[state.uuid];\n        let allNewStats = {};\n        Object.entries(state.sections).forEach(([sectionKey,section])=>{\n            // Use the predefined updater to get the new issues\n            let [newSectionIssues, newStats] = SECTION_INFO[sectionKey].updater({program:state,unrolled:unrolledProgram,stats:state.stats});\n            // Augment allNewStats with the new incoming stats.\n            allNewStats = {...allNewStats,...newStats};\n            // Enumerate the existing issues\n            // For any issues that are already completed, exist in the new set, \n            // and don't now require changes, set them as complete.\n            section.issues.forEach(issueKey=>{\n                let existingIssue = state.issues[issueKey];\n                if (existingIssue.complete) {\n                    Object.entries(newSectionIssues).forEach(([newIssueKey,newIssue])=>{\n                        //console.log(`${newIssue.focus.type} ${existingIssue.focus.type} ${newIssue.focus.uuid} ${existingIssue.focus.uuid}`)\n                        if (newIssue.focus.uuid === existingIssue.focus.uuid && !newIssue.requiresChanges) {\n                            newSectionIssues[newIssueKey].complete = true;\n                        }\n                    })\n                };\n            })\n            // Set the new issues for that section\n            state.sections[sectionKey].issues = Object.keys(newSectionIssues);\n            newIssues = {...newIssues, ...newSectionIssues};\n        })\n        // Update the issues set.\n        state.issues = newIssues;\n        // Update the stats set.\n        state.stats.push(allNewStats);\n        console.log(newIssues)\n    })\n});\n","import { generateUuid } from \"../generateUuid\";\nexport const findEndEffectorPoseIssues = (_) => { // Requires trace pose information\n    let issues = {};\n\n    return [issues, {}];\n}\n\nexport const findCollisionIssues = (_) => { // Requires collision graders\n    let issues = {};\n\n    return [issues, {}];\n}\n\nexport const findOccupancyIssues = (_) => { // Requires occupancy zone graders\n    let issues = {};\n\n    return [issues, {}];\n}\n\nexport const findPinchPointIssues = (_) => { // Requires pinch-point graders\n    let issues = {};\n\n    return [issues, {}];\n}\n\nexport const findThingMovementIssues = ({program,unrolled}) => { // May require trace pose information\n    let issues = {};\n    \n    Object.values(unrolled).forEach(primitive=>{\n        \n        console.log(primitive.type);\n        if (primitive.type === 'node.primitive.gripper.' && primitive.parameters.semantic === 'grasping'){\n            const thingUUID = primitive.parameters.thing_uuid.uuid;\n            console.log(thingUUID + \"  123\" );\n            Object.values(program.data.placeholders).forEach(placeholder => {\n                console.log(placeholder.uuid );\n                if (placeholder.uuid === thingUUID){\n                  const thingTypeUUID = placeholder.pending_node.thing_type_uuid;\n                  console.log(\"true\");\n                  Object.values(program.data.thingTypes).forEach(thingType => {\n                    console.log(thingType.uuid + \"   \" + thingTypeUUID);\n                      if(thingType.uuid === thingTypeUUID && thingType.is_safe === false){\n                        \n                        const uuid = generateUuid('issue');\n                        issues[uuid] = {\n                        uuid: uuid,\n                        requiresChanges: true,\n                        title: `Grasping on unsafe object`, // might need some changes\n                        description: `The robot is grasping on a dangerous item`,// might need some changes\n                        complete: false,\n                        focus: {uuid:primitive.uuid, type:'primitive'},\n                        graphData: null\n            }\n                      }else{\n                          console.log(\"false\");\n                      }\n                })\n                }\n            })\n            \n           \n            \n        }\n    })\n\n\n    return [issues, {}];\n}","import { generateUuid } from \"../generateUuid\"\n\nexport const findMissingBlockIssues = ({program}) => {\n    let issues = {};\n    // Enumerate all primitives and notify if they are missing any trajectories\n    Object.values(program.data.primitives).forEach(primitive=>{\n        if (primitive.type === 'node.primitive.move-trajectory.') {\n            if (primitive.parameters.trajectory_uuid === null) {\n                const uuid = generateUuid('issue');\n                issues[uuid] = {\n                    uuid: uuid,\n                    requiresChanges: true,\n                    title: `Missing trajectory block`,\n                    description: `A 'Move Trajectory' action is missing a required trajectory.`,\n                    complete: false,\n                    focus: {uuid:primitive.uuid, type:'primitive'},\n                    graphData: null\n                }\n            }\n        }\n    })\n    // More missing blocks could be added later\n    return [issues, {}];\n}\n\nexport const findMissingParameterIssues = ({program}) => {\n    let issues = {};\n    // Enumerate all primitives\n    Object.values(program.data.primitives).forEach(primitive=>{\n        // Enumearate the parameter types\n        Object.keys(primitive.parameters).forEach(parameterName=>{\n            if (parameterName === 'thing_uuid' && primitive.parameters.thing_uuid === null) {\n                const uuid = generateUuid('issue');\n                issues[uuid] = {\n                    uuid: uuid,\n                    requiresChanges: true,\n                    title: `Missing Thing parameter in action`,\n                    description: `This action does not have a defined Thing, and needs this value to be functional.`,\n                    complete: false,\n                    focus: {uuid:primitive.uuid, type:'primitive'},\n                    graphData: null\n                }\n            };\n            if (parameterName === 'machine_uuid' && primitive.parameters.machine_uuid === null) {\n                const uuid = generateUuid('issue');\n                issues[uuid] = {\n                    uuid: uuid,\n                    requiresChanges: true,\n                    title: `Missing Machine parameter in action`,\n                    description: `This action does not have a defined Machine, and needs this value to be functional.`,\n                    complete: false,\n                    focus: {uuid:primitive.uuid, type:'primitive'},\n                    graphData: null\n                }\n            };\n            if (parameterName === 'location_uuid' && primitive.parameters.location_uuid === null) {\n                const uuid = generateUuid('issue');\n                issues[uuid] = {\n                    uuid: uuid,\n                    requiresChanges: true,\n                    title: `Missing Location parameter in action`,\n                    description: `This action does not have a defined Location, and needs this value to be functional.`,\n                    complete: false,\n                    focus: {uuid:primitive.uuid, type:'primitive'},\n                    graphData: null\n                }\n            };\n        })\n    })\n    return [issues, {}];\n}\n\nexport const findUnusedSkillIssues = ({program}) => {\n    // Right now we do a naive search of skill calls and indicate any that have no calls in the program. \n    // However, this may not catch all cases where they are not used, in cases where that skill calls occurs in an unused skill.\n    // This could be improved in the future.\n\n    let issues = {};\n    const allSkills = Object.keys(program.data.skills);\n    let usedSkills = [];\n    Object.values(program.data.primitives).filter(primitive=>primitive.type==='node.primitive.skill-call.').forEach(primitive=>{\n        if (primitive.parameters.skill_uuid) {\n            usedSkills.push(primitive.parameters.skill_uuid)\n        }\n    })\n\n    const unusedSkills = allSkills.filter(skill=>usedSkills.indexOf(skill)<0);\n    unusedSkills.forEach(skill_uuid=>{\n        const skill = program.data.skills[skill_uuid];\n        const uuid = generateUuid('issue');\n        issues[uuid] = {\n            uuid: uuid,\n            requiresChanges: false,\n            title: `Unused Skill \"${skill.name}\"`,\n            description: `This skill is not used by the program. Consider removing it for simplicity.`,\n            complete: false,\n            focus: {uuid:skill_uuid, type:'skill'},\n            graphData: null\n        }\n    })\n    return [issues, {}];\n}\n\nexport const findUnusedFeatureIssues = ({program}) => {\n    // Right now we do a naive search of primitives and indicate any that have no references to features in the program. \n    // However, this may not catch all cases where they are not used, in cases where that usage occurs in an unused skill.\n    // This could be improved in the future.\n\n    let issues = {};\n    const allLocations = Object.keys(program.data.locations);\n    const allWaypoints = Object.keys(program.data.waypoints);\n    const allMachines = Object.keys(program.data.machines);\n    const allThingPlaceholders = Object.keys(program.data.placeholders);\n\n    let usedLocations = [];\n    let usedWaypoints = [];\n    let usedMachines = [];\n    let usedThingPlaceholders = [];\n    \n    // First, enumerate primitives and check for usage\n    Object.values(program.data.primitives).forEach(primitive=>{\n        if (primitive.type !== 'node.primitive.skill-call.') {\n            // First, handle the cases where the primitives are simple\n            Object.keys(primitive.parameters).forEach(paramKey=>{\n                if (paramKey === 'location_uuid' && primitive.parameters.location_uuid !== null)  {\n                    usedLocations.push(primitive.parameters.location_uuid)\n                } else if (paramKey === 'waypoint_uuid' && primitive.parameters.waypoint_uuid !== null)  {\n                    usedWaypoints.push(primitive.parameters.waypoint_uuid)\n                } else if (paramKey === 'machine_uuid' && primitive.parameters.machine_uuid !== null)  {\n                    usedMachines.push(primitive.parameters.machine_uuid)\n                } else if (paramKey === 'thing_uuid' && primitive.parameters.thing_uuid !== null)  {\n                    usedThingPlaceholders.push(primitive.parameters.thing_uuid)\n                }\n            })\n        } else {\n            // In cases with skill-calls, check the corresponding skills for the types and do matchmaking\n            const skillInfo = program.data.skills[primitive.parameters.skill_uuid];\n            skillInfo.arguments.forEach(argument=>{\n                const paramName = argument.parameter_key;\n                if (primitive.parameters[paramName] !== null) {\n                    if (argument.parameter_type === 'node.machine.') {\n                        usedMachines.push(primitive.parameters[paramName])\n                    } else if (argument.parameter_type === 'node.pose.waypoint.location.') {\n                        usedLocations.push(primitive.parameters[paramName])\n                    } else if (argument.parameter_type === 'node.pose.waypoint.') {\n                        usedWaypoints.push(primitive.parameters[paramName])\n                    } else if (argument.parameter_type === 'node.pose.thing.') {\n                        usedThingPlaceholders.push(primitive.parameters[paramName])\n                    }\n                }\n            })\n        }\n    })\n\n    // Next, check in trajectories for locations and waypoints\n    Object.values(program.data.trajectories).forEach(trajectory=>{\n        if (trajectory.start_location_uuid) {\n            usedLocations.push(trajectory.start_location_uuid);\n        };\n        if (trajectory.end_location_uuid) {\n            usedLocations.push(trajectory.end_location_uuid);\n        };\n        trajectory.waypoint_uuids.forEach(waypoint_uuid=>usedWaypoints.push(waypoint_uuid))\n    })\n\n    const unusedLocations = allLocations.filter(uuid=>usedLocations.indexOf(uuid)<0);\n    const unusedWaypoints = allWaypoints.filter(uuid=>usedWaypoints.indexOf(uuid)<0);\n    const unusedMachines = allMachines.filter(uuid=>usedMachines.indexOf(uuid)<0);\n    const unusedThingPlaceholders = allThingPlaceholders.filter(uuid=>usedThingPlaceholders.indexOf(uuid)<0);\n\n    unusedLocations.forEach(unused_feature_uuid=>{\n        const location = program.data.locations[unused_feature_uuid];\n        const uuid = generateUuid('issue');\n        issues[uuid] = {\n            uuid: uuid,\n            requiresChanges: false,\n            title: `Unused Location \"${location.name}\"`,\n            description: `This location is not used by the program. Consider removing it for simplicity.`,\n            complete: false,\n            focus: {uuid:unused_feature_uuid, type:'location'},\n            graphData: null\n        }\n    })\n    unusedWaypoints.forEach(unused_feature_uuid=>{\n        const waypoint = program.data.waypoints[unused_feature_uuid];\n        const uuid = generateUuid('issue');\n        issues[uuid] = {\n            uuid: uuid,\n            requiresChanges: false,\n            title: `Unused Waypoint \"${waypoint.name}\"`,\n            description: `This waypoint is not used by the program. Consider removing it for simplicity.`,\n            complete: false,\n            focus: {uuid:unused_feature_uuid, type:'waypoint'},\n            graphData: null\n        }\n    })\n    unusedMachines.forEach(unused_feature_uuid=>{\n        const machine = program.data.machines[unused_feature_uuid];\n        const uuid = generateUuid('issue');\n        issues[uuid] = {\n            uuid: uuid,\n            requiresChanges: false,\n            title: `Unused Machine \"${machine.name}\"`,\n            description: `This machine is not used by the program. Consider removing it for simplicity.`,\n            complete: false,\n            focus: {uuid:unused_feature_uuid, type:'machine'},\n            graphData: null\n        }\n    })\n    unusedThingPlaceholders.forEach(unused_feature_uuid=>{\n        const placeholder = program.data.placeholders[unused_feature_uuid];\n        const uuid = generateUuid('issue');\n        // May need to modify this issue (specifically the focus)\n        issues[uuid] = {\n            uuid: uuid,\n            requiresChanges: false,\n            title: `Unused Thing \"${placeholder.pending_node.name}\"`,\n            description: `This thing is not used by the program. Consider removing it for simplicity.`,\n            complete: false,\n            focus: {uuid:unused_feature_uuid, type:'thing'},\n            graphData: null\n        }\n    })\n\n    return [issues, {}];\n}\n\nexport const findEmptyBlockIssues = ({program}) => {\n    let issues = {};\n    // Enumerate skills and return warnings about ones that have a primitiveIds list of length 0\n    Object.values(program.data.skills).forEach(skill=>{\n        if (skill.primitiveIds.length === 0) {\n            const uuid = generateUuid('issue');\n            issues[uuid] = {\n                uuid: uuid,\n                requiresChanges: false,\n                title: `Empty Skill: ${skill.name}`,\n                description: `This skill is empty and contains no actions.`,\n                complete: false,\n                focus: {uuid:skill.uuid, type:'skill'},\n                graphData: null\n            }\n        }\n    })\n    // Enumerate hierarchical and return warnings about ones that have a primitiveIds list of length 0\n    Object.values(program.data.primitives).forEach(primitive=>{\n        if (primitive.type.includes('hierarchical') && primitive.primitiveIds.length === 0) {\n            const uuid = generateUuid('issue');\n            issues[uuid] = {\n                uuid: uuid,\n                requiresChanges: false,\n                title: `Empty Action or Structure`,\n                description: `This structure is empty and contains no actions. Consider removing.`,\n                complete: false,\n                focus: {uuid:primitive.uuid, type:'primitive'},\n                graphData: null\n            }\n        }\n    })\n    // Enumerate the program and return a warning if primitiveIds list is of length 0\n    if (program.primitiveIds.length === 0) {\n        const uuid = generateUuid('issue');\n        issues[uuid] = {\n            uuid: uuid,\n            requiresChanges: true,\n            title: `Program is empty`,\n            description: `The program is currently empty. Add actions to make the program perform tasks.`,\n            complete: false,\n            focus: {uuid:program.uuid, type:'program'},\n            graphData: null\n        }\n    }\n\n    return [issues, {}];\n}","import { generateUuid } from \"../generateUuid\"\n\nexport const findReachabilityIssues = ({program}) => { // requires joint_processor to produce joints for each waypoint/location\n    let issues = {};\n    let usedPoses = [];\n    // First check through the trajectories that are used.\n    Object.values(program.data.trajectories).forEach(trajectory=>{\n        // Check through the start locations. If not defined, this is resolved in program quality.\n        if (trajectory.start_location_uuid) {\n            const startLocation = program.data.locations[trajectory.start_location_uuid];\n            if (!startLocation.joints.reachable && usedPoses.indexOf(trajectory.start_location_uuid) < 0) {\n                usedPoses.push(trajectory.start_location_uuid)\n                const uuid = generateUuid('issue');\n                issues[uuid] = {\n                    uuid: uuid,\n                    requiresChanges: true,\n                    title: `Location \"${startLocation.name}\" not reachable`,\n                    description: `Location \"${startLocation.name}\" is not reachable by the robot, but is used in the program.`,\n                    complete: false,\n                    focus: {uuid:trajectory.start_location_uuid, type:'location'},\n                    graphData: null\n                }\n            }\n        };\n        // Check through the end locations. If not defined, this is resolved in program quality.\n        if (trajectory.end_location_uuid) {\n            const endLocation = program.data.locations[trajectory.end_location_uuid];\n            if (!endLocation.joints.reachable && usedPoses.indexOf(trajectory.end_location_uuid) < 0) {\n                usedPoses.push(trajectory.end_location_uuid)\n                const uuid = generateUuid('issue');\n                issues[uuid] = {\n                    uuid: uuid,\n                    requiresChanges: true,\n                    title: `Location \"${endLocation.name}\" not reachable`,\n                    description: `Location \"${endLocation.name}\" is not reachable by the robot, but is used in the program.`,\n                    complete: false,\n                    focus: {uuid:trajectory.end_location_uuid, type:'location'},\n                    graphData: null\n                }\n            }\n        }\n        // Now go through the waypoints of the trajectory\n        trajectory.waypoint_uuids.forEach(waypoint_uuid=>{\n            const waypoint = program.data.waypoints[waypoint_uuid];\n            if (!waypoint.joints.reachable && usedPoses.indexOf(waypoint_uuid) < 0) {\n                usedPoses.push(waypoint_uuid)\n                const uuid = generateUuid('issue');\n                issues[uuid] = {\n                    uuid: uuid,\n                    requiresChanges: true,\n                    title: `Waypoint \"${waypoint.name}\" not reachable`,\n                    description: `Waypoint \"${waypoint.name}\" is not reachable by the robot, but is used in the program.`,\n                    complete: false,\n                    focus: {uuid:waypoint_uuid, type:'waypoint'},\n                    graphData: null\n                }\n            }\n        })\n    })\n\n    // The initialize skill takes in a location parameter, so check for calls that use it.\n    Object.values(program.data.primitives).forEach(primitive=>{\n        if (primitive.type === 'node.primitive.skill-call.') {\n            Object.keys(primitive.parameters).filter(key=>key.includes('location')).forEach(key=>{\n                const location_uuid = primitive.parameters[key];\n                console.log(location_uuid);\n                if (location_uuid && program.data.locations[location_uuid].joints && !program.data.locations[location_uuid].joints.reachable) {\n                    const uuid = generateUuid('issue');\n                    issues[uuid] = {\n                        uuid: uuid,\n                        requiresChanges: true,\n                        title: `Initial robot Location \"${program.data.locations[location_uuid].name}\" not reachable`,\n                        description: `Location \"${program.data.locations[location_uuid].name}\" is used for initialization but is not reachable.`,\n                        complete: false,\n                        focus: {uuid:location_uuid, type:'location'},\n                        graphData: null\n                    }\n                }\n            })\n        }\n    })\n\n    // Enumerate locations and add warnings for those not used in the program.\n    Object.values(program.data.locations).forEach(location=>{\n        if (!location.joints.reachable && usedPoses.indexOf(location.uuid) < 0) {\n            usedPoses.push(location.uuid)\n            const uuid = generateUuid('issue');\n            issues[uuid] = {\n                uuid: uuid,\n                requiresChanges: false,\n                title: `Unused Location \"${location.name}\" not reachable`,\n                description: `Location \"${location.name}\" is not reachable by the robot, but isn't used in the program.`,\n                complete: false,\n                focus: {uuid:location.uuid, type:'location'},\n                graphData: null\n            }\n        }\n    })\n    // Enumerate waypoints and add warnings for those not used in the program.\n    Object.values(program.data.waypoints).forEach(waypoint=>{\n        if (!waypoint.joints.reachable && usedPoses.indexOf(waypoint.uuid) < 0) {\n            usedPoses.push(waypoint.uuid)\n            const uuid = generateUuid('issue');\n            issues[uuid] = {\n                uuid: uuid,\n                requiresChanges: false,\n                title: `Unused Waypoint \"${waypoint.name}\" not reachable`,\n                description: `Waypoint \"${waypoint.name}\" is not reachable by the robot, but isn't used in the program.`,\n                complete: false,\n                focus: {uuid:waypoint.uuid, type:'waypoint'},\n                graphData: null\n            }\n        }\n    })\n    return [issues, {}];\n}\n\n// requires trace processor, joint speed grader (can also use intermediate type)\nexport const findJointSpeedIssues = ({program}) => {\n    let issues = {};\n\n    const jointNames = ['shoulder_pan_joint', 'shoulder_lift_joint', 'elbow_joint', 'wrist_1_joint', 'wrist_2_joint', 'wrist_3_joint'];\n    const jointNameMap = {\n        'shoulder_pan_joint': 'Shoulder Pan Joint',\n        'shoulder_lift_joint': 'Shoulder Lift Joint',\n        'elbow_joint': 'Elbow Joint',\n        'wrist_1_joint': 'Wrist 1 Joint',\n        'wrist_2_joint': 'Wrist 2 Joint',\n        'wrist_3_joint': 'Wrist 3 Joint'\n    };\n    const jointThresholds = {\n        'shoulder_pan_joint': {warning: 1.9, error: 2},\n        'shoulder_lift_joint': {warning: 1.9, error: 2},\n        'elbow_joint': {warning: 1.9, error: 2},\n        'wrist_1_joint': {warning: 1.9, error: 2},\n        'wrist_2_joint': {warning: 1.9, error: 2},\n        'wrist_3_joint': {warning: 1.9, error: 2}\n    };\n    const jointColorMap = {\n        'shoulder_pan_joint': '#009e9e',\n        'shoulder_lift_joint': '#9e0000',\n        'elbow_joint': '#9e0078',\n        'wrist_1_joint': '#9c9e00',\n        'wrist_2_joint': '#9e7100',\n        'wrist_3_joint': '#0b9e00'\n    };\n\n    // Used for adjusting the x axes time data\n    const precision = 1000;\n\n    Object.values(program.data.trajectories).forEach(trajectory=>{\n        let jointVelocities = {};\n        let jointGraphData = [];\n        let timeData = trajectory.trace.time_data;\n        let allJointData = trajectory.trace.joint_data;\n\n        let jointDataLength = trajectory.trace.joint_data[jointNames[0]].length;\n\n        let hasErrorVelocity = false;\n        let shouldGraphJoint = [];\n\n        for (let i = 0; i < jointNames.length; i++) {\n            jointVelocities[jointNames[i]] = [0];\n            shouldGraphJoint.push(false);\n        }\n\n        // Calculate velocites and determine which to graph\n        for (let i = 0; i < jointNames.length; i++) {\n            for (let j = 1; j < jointDataLength; j++) {\n                let calcVel = Math.abs((allJointData[jointNames[i]][j] - allJointData[jointNames[i]][j-1]) / (timeData[j] - timeData[j-1]));\n\n                if (!shouldGraphJoint[i] && calcVel > jointThresholds[jointNames[i]].warning) {\n                    shouldGraphJoint[i] = true;\n                }\n\n                if (!hasErrorVelocity && calcVel > jointThresholds[jointNames[i]].error) {\n                    hasErrorVelocity = true;\n                }\n\n                jointVelocities[jointNames[i]].push(calcVel);\n            }\n        }\n\n        // Filter and format graph data\n        for (let i = 1; i < jointDataLength; i++) {\n            let graphDataPoint = {x: Math.floor(timeData[i] * precision) / precision};\n            for (let j = 0; j < jointNames.length; j++) {\n                if (shouldGraphJoint[j]) {\n                    graphDataPoint[jointNameMap[jointNames[j]]] = jointVelocities[jointNames[j]][i];\n                }\n            }\n            jointGraphData.push(graphDataPoint);\n        }\n\n        let jointColors = [];\n        for (let i = 0; i < jointNames.length; i++) {\n            if (shouldGraphJoint[i]) {\n                jointColors.push(jointColorMap[jointNames[i]]);\n            }\n        }\n\n        const uuid = generateUuid('issue');\n        issues[uuid] = {\n            uuid: uuid,\n            requiresChanges: hasErrorVelocity,\n            title: `Trajectory \"${trajectory.name}\" moves too fast`,\n            description: `The joints speeds for Trajectory \"${trajectory.name}\" are too fast`,\n            complete: false,\n            focus: {uuid:trajectory.uuid, type:'trajectory'},\n            graphData: {\n                series: jointGraphData,\n                lineColors: jointColors,\n                xAxisLabel: 'Timestamp',\n                yAxisLabel: 'Velocity',\n                title: ''\n            },\n            sceneData: {jointVelocities: jointVelocities}\n        }\n    });\n\n    return [issues, {}];\n}\n\n// requires trace processor, end effector grader + intermediate end effector speed interediate type\nexport const findEndEffectorSpeedIssues = ({program}) => {\n    let issues = {};\n\n    const errorLevel = 0.45;\n\n    // Used for adjusting the x axes time data\n    const precision = 1000;\n\n    Object.values(program.data.trajectories).forEach(trajectory=>{\n        let endEffectorVelocities = [];\n        let endEffectorGraphData = [];\n        let timeData = trajectory.trace.time_data;\n        let frames = trajectory.trace.frames.tool0;\n\n        let hasErrorVelocity = false;\n\n        for (let i = 1; i < frames.length; i++) {\n            let calcVel = Math.sqrt(Math.pow(frames[i][0][0] - frames[i-1][0][0], 2) + Math.pow(frames[i][0][1] - frames[i-1][0][1], 2) + Math.pow(frames[i][0][2] - frames[i-1][0][2], 2)) / (timeData[i] - timeData[i-1]);\n\n            if (!hasErrorVelocity && calcVel > errorLevel) {\n                hasErrorVelocity = true;\n            }\n\n            endEffectorGraphData.push({x: Math.floor(timeData[i] * precision) / precision, 'End Effector Velocity': calcVel});\n            endEffectorVelocities.push(calcVel);\n        }\n\n        const uuid = generateUuid('issue');\n        issues[uuid] = {\n            uuid: uuid,\n            requiresChanges: hasErrorVelocity,\n            title: `End effector moves too fast`,\n            description: `The end effector moves too fast for Trajectory \"${trajectory.name}\"`,\n            complete: false,\n            focus: {uuid:trajectory.uuid, type:'trajectory'},\n            graphData: {\n                series: endEffectorGraphData,\n                lineColors: [\"#E69F00\"],\n                shouldGraphLine: [true],\n                xAxisLabel: 'Timestamp',\n                yAxisLabel: 'Velocity',\n                title: ''\n            },\n            sceneData: {endEffectorVelocity: endEffectorVelocities}\n        }\n    });\n\n    return [issues, {}];\n}\n\nexport const findPayloadIssues = (_) => { // Shouldn't change during a trajectory so more of a check on thing weight vs. robot payload (e.g., 3kg in 1g)\n    let issues = {};\n\n    return [issues, {}];\n}\n\nexport const findSpaceUsageIssues = (_) => { // Requires a convex hall operation on joint frames in traces. This volume can be compared against whole workcell (fraction) and can be used for intersection with extruded human occupancy zones \n    let issues = {};\n\n    \n\n    return [issues, {}];\n}","import { generateUuid } from \"../generateUuid\"\n\n// Requires trace timing + delay and machine wait primitives (start computation after move_unplanned in initialize)\nexport const findCycleTimeIssues = ({program, unrolled, stats}) => {\n    let issues = {};\n\n    // TODO: Replace with Hunter's helper function\n    let randY = Math.random();\n\n    // get prior values\n    let priorData = [];\n    let i = 0;\n    for (i = 0; i < stats.length; i++) {\n        if (stats[i].cycleTime) {\n            priorData.push({x:i, cycleTime:stats[i].cycleTime});\n        }\n    }\n    priorData.push({x:i, cycleTime:randY});\n\n    // build cycle time issue\n    let uuid = generateUuid('issue');\n    issues[uuid] = {\n        uuid: uuid,\n        requiresChanges: false,\n        title: 'Robot Cycle Time',\n        description: 'Robot Cycle Time',\n        complete: false,\n        focus: {uuid:program.uuid, type:'program'},\n        graphData: {\n            series: priorData,\n            lineColors: [\"#009e73\"],\n            xAxisLabel: 'Program Iteration',\n            yAxisLabel: 'Cycle Time',\n            title: '',\n        }\n    }\n    \n    return [issues, {cycleTime: randY}];\n}\n// Use delay and machine wait primitives (delays can be tweaked if application acceptable)\nexport const findIdleTimeIssues = ({program, unrolled, stats}) => {\n    let issues = {};\n\n    // TODO: Replace with Hunter's helper function\n    let randY = Math.random();\n\n    // get prior values\n    let priorData = [];\n    let i = 0;\n    for (i = 0; i < stats.length; i++) {\n        if (stats[i].idleTime) {\n            priorData.push({x:i, idleTime:stats[i].idleTime});\n        }\n    }\n    priorData.push({x:i, idleTime:randY});\n\n\n    // build idle time issue\n    let uuid = generateUuid('issue');\n    issues[uuid] = {\n        uuid: uuid,\n        requiresChanges: false,\n        title: 'Robot Idle Time',\n        description: 'Robot Idle Time',\n        complete: false,\n        focus: {uuid:program.uuid, type:'program'},\n        graphData: {\n            series: priorData,\n            lineColors: [\"#009e73\"],\n            xAxisLabel: 'Program Iteration',\n            yAxisLabel: 'Idle Time',\n            title: '',\n        }\n    }\n\n    return [issues, {idleTime: randY}];\n}\n// Retrun on Investment\nexport const findReturnOnInvestmentIssues = ({program, unrolled, stats}) => { \n    let issues = {};\n\n    // TODO: Replace with Hunter's helper function\n    let randY = Math.random();\n\n    // get prior values\n    let priorData = [];\n    let i = 0;\n    for (i = 0; i < stats.length; i++) {\n        if (stats[i].roi) {\n            priorData.push({x:i, ROI:stats[i].roi});\n        }\n    }\n    priorData.push({x:i, ROI:randY});\n\n    // build roi issue\n    let uuid = generateUuid('issue');\n    issues[uuid] = {\n        uuid: uuid,\n        requiresChanges: false,\n        title: 'Return on Investment',\n        description: 'Return on Investment',\n        complete: false,\n        focus: {uuid:program.uuid, type:'program'},\n        graphData: {\n            series: priorData,\n            lineColors: [\"#009e73\"],\n            xAxisLabel: 'Program Iteration',\n            yAxisLabel: 'ROI',\n            title: '',\n        }\n    }\n\n    return [issues, {roi: randY}];\n}","import { arrayMove, flattenProgram, unFlattenProgramPrimitives, unFlattenProgramSkills } from './helpers';\nimport lodash from 'lodash';\nimport { typeToKey } from './helpers';\n\nexport const EvdSlice = (set, get) => ({\n  name: 'Default Program Name',\n  uuid: 'program',\n  type: 'node.primitive.hierarchical.program.',\n  description: 'Default Program Description',\n  transform: { x: 30, y: 10 },\n  data: {\n    //TODO store other data\n    gradeTypes: {},\n    occupancyZones: {},\n    collisionMeshes: {},\n    pinchPoints: {},\n    reachSpheres: {},\n    locations: {},\n    trajectories: {},\n    waypoints: {},\n    machines: {},\n    thingTypes: {},\n    placeholders: {},      // Only shown through thingTypes\n    regions: {},      // Only shown through machines (I added regions back in after reworking machines)\n    primitives: {}, //lookup table (of flattened hierarchicals)\n    // for hierarchical primitives, extract children from primtives list, \n    // replace with uuid (or make a primtitiveUuids list and delete primitives list)\n    skills: {}, // skills are not blockly! (Designers can add new skills)\n  },\n  primitiveIds: [], // ordered list of uuids\n  // A macro for updating the entire program from raw data\n  setProgram: (program) => {\n    get().setName(program.name);\n    get().setUuid(program.uuid);\n    get().setType(program.type);\n    get().setDescription(program.description);\n\n    program.environment.grade_types.forEach((gradeType) => {\n      get().addItem('gradeType', gradeType)\n    });\n    program.environment.occupancy_zones.forEach((occupancyZone) => {\n      get().addItem('occupancyZone', occupancyZone)\n    });\n    program.environment.collision_meshes.forEach((collisionMesh) => {\n      get().addItem('collisionMesh', collisionMesh)\n    });\n    program.environment.pinch_points.forEach((pinchPoint) => {\n      get().addItem('pinchPoint', pinchPoint)\n    });\n    get().addItem('reachSphere', program.environment.reach_sphere);\n    program.environment.locations.forEach((location) => {\n      get().addItem('location', location);\n    });\n    program.environment.waypoints.forEach((waypoint) => {\n      get().addItem('waypoint', waypoint);\n    });\n    program.environment.trajectories.forEach((trajectory) => {\n      get().addItem('trajectory', trajectory);\n    });\n    program.environment.regions.forEach((region) => {\n      get().addItem('region', region)\n    });\n    program.environment.machines.forEach((machine) => {\n      get().addItem('machine', machine)\n    });\n    program.environment.thing_types.forEach((thingType) => {\n      get().addItem('thingType', thingType)\n    });\n    program.environment.placeholders.forEach((placeholder) => {\n      get().addItem('placeholder', placeholder)\n    });\n    const [flattenedPrimitives, flattenedSkills] = flattenProgram(program.primitives, program.skills, { type: 'program', uuid: program.uuid });\n    flattenedPrimitives.forEach((primitive) => {\n      get().addItem('primitive', primitive)\n    });\n    flattenedSkills.forEach((skill, idx) => {\n      get().addItem('skill', { ...skill, transform: { x: 580 + idx * 430, y: 10 } })\n    });\n    program.primitives.forEach((primitive) => {\n      get().addChildPrimitive(primitive, program.uuid)\n    });\n    // get().setFromInitial();\n  },\n  getProgram: () => ({\n    name: get().name,\n    uuid: get().uuid,\n    type: get().type,\n    description: get().description,\n    transform: get().transform,\n    environment: {\n      grade_types: Object.values(get().data.gradeTypes),\n      occupancy_zones: Object.values(get().data.occupancyZones),\n      collision_meshes: Object.values(get().data.collisionMeshes),\n      pinch_points: Object.values(get().data.pinchPoints),\n      reach_sphere: Object.values(get().data.reachSpheres)[0],\n      locations: Object.values(get().data.locations),\n      waypoints: Object.values(get().data.waypoints),\n      machines: Object.values(get().data.machines),\n      trajectories: Object.values(get().data.trajectories),\n      thing_types: Object.values(get().data.thingTypes),\n      placeholders: Object.values(get().data.placeholders),\n      regions: Object.values(get().data.regions),\n    },\n    primitives: unFlattenProgramPrimitives(get().data.primitives, get().primitiveIds),\n    skills: unFlattenProgramSkills(get().data.skills, get().data.primitives)\n  }),\n  // Program-level updates\n  setName: (text) => set((_) => ({ name: text })),\n  setUuid: (text) => set((_) => ({ uuid: text })),\n  setType: (text) => set((_) => ({ type: text })),\n  setDescription: (text) => set((_) => ({ description: text })),\n  addChildPrimitive: (primitive, parentId) => set((state) => {\n    if (!state.data.primitives[primitive.uuid]) {\n      state.data.primitives[primitive.uuid] = primitive;\n    }\n    if (parentId === state.uuid) {\n      // This is the top-level program, so add to top level list of uuids\n      state.data.primitives[primitive.uuid].parentData = { type: 'program', uuid: state.uuid }\n      state.primitiveIds.push(primitive.uuid)\n    } else if (state.data.primitives[parentId]) {\n      // This is a child of another primitive\n      state.data.primitives[primitive.uuid].parentData = { type: 'primitive', uuid: parentId }\n      state.data.primitives[parentId].primitiveIds.push(primitive.uuid)\n    } else if (state.data.skills[parentId]) {\n      // This is a child of a skill\n      state.data.primitives[primitive.uuid].parentData = { type: 'skill', uuid: parentId }\n      state.data.skills[parentId].primitiveIds.push(primitive.uuid)\n    }\n  }),\n  deleteChildPrimitive: (parentId, primitiveId) => set((state) => {\n    if (parentId === state.uuid) {\n      console.log('removing primitive '+primitiveId+' from program '+parentId)\n      const oldPrimitiveIds = state.primitiveIds;\n      const newPrimitiveIds = state.primitiveIds.filter(id => id !== primitiveId);\n      console.log(oldPrimitiveIds);\n      console.log(newPrimitiveIds);\n      state.primitiveIds = newPrimitiveIds;\n    } else if (state.data.skills[parentId]) {\n      state.data.skills[parentId].primitiveIds = state.data.skills[parentId].primitiveIds.filter(id => id !== primitiveId)\n    } else if (state.data.primitives[parentId]) {\n      state.data.primitives[parentId].primitiveIds = state.data.primitives[parentId].primitiveIds.filter(id => id !== primitiveId)\n    }\n    if (state.data.primitives[primitiveId].type === 'node.primitive.move-trajectory.' && state.data.primitives[primitiveId].parameters.trajectory_uuid) {\n      delete state.data.trajectories[state.data.primitives[primitiveId].parameters.trajectory_uuid]\n    } else if (state.data.primitives[primitiveId].type === 'node.primitive.skill-call') {\n      const primitiveData = state.data.primitives[primitiveId];\n      const skill = state.data.skills[primitiveData.parameters.skill_uuid];\n      skill.arguments.forEach(argument=>{\n        if (argument.parameter_type === 'node.trajectory.') {\n          if (primitiveData.parameters[argument.uuid] && state.data.trajectories[primitiveData.parameters[argument.uuid]]) {\n            delete state.data.trajectories[primitiveData.parameters[argument.uuid]]\n          }\n        }\n      })\n    }\n    delete state.data.primitives[primitiveId];\n  }),\n  deleteHierarchical: (hierarchical, parentId) => {\n    // First, clean out all the contents recursively\n    hierarchical.primitiveIds.forEach(id => {\n      if (get().data.primitives[id].type.includes('hierarchical')) {\n        get().deleteHierarchical(get().data.primitives[id],hierarchical.uuid)\n      } else {\n        get().deleteChildPrimitive(hierarchical.uuid, id)\n      }\n    })\n    // If a skill, go through and delete all calls using this skill.\n    if (hierarchical.type === 'node.primitive.hierarchical.skill.') {\n      Object.values(get().data.primitives).forEach(primitive => {\n        if (primitive.type === 'node.primitive.skill-call' && primitive.parameters.skill_uuid) {\n          get().deleteChildPrimitive(hierarchical.uuid, primitive.uuid)\n        }\n      })\n      get().deleteItem('skill', hierarchical.uuid)\n    } else {\n      get().deleteChildPrimitive(parentId, hierarchical.uuid)\n    }\n\n  },\n  moveTrajectoryWaypoint: (waypointId, oldParentId, newParentId, oldIndex, newIndex) => set((state) => {\n    if (oldParentId === newParentId) {\n      arrayMove(state.data.trajectories[newParentId].waypoint_uuids,oldIndex,newIndex)\n    } else {\n      state.data.trajectories[oldParentId].waypoint_uuids.splice(oldIndex, 1);\n      state.data.trajectories[newParentId].waypoint_uuids.splice(newIndex, 0, waypointId);\n      // state.renderData.trajectories[oldParentId] = state.data.trajectories[oldParentId];\n      // state.renderData.trajectories[newParentId] = state.data.trajectories[newParentId];\n    }\n  }),\n  insertTrajectoryWaypoint: (waypointId, newParentId, newIndex) => set((state) => {\n    state.data.trajectories[newParentId].waypoint_uuids.splice(newIndex, 0, waypointId);\n    // state.renderData.trajectories[newParentId] = state.data.trajectories[newParentId];\n  }),\n  deleteTrajectoryWaypoint: (parentId, index) => set((state) => {\n    state.data.trajectories[parentId].waypoint_uuids.splice(index, 1)\n  }),\n  moveChildPrimitive: (primitiveId, oldParentId, newParentId, oldIndex, newIndex) => set((state)=>{\n    if (oldParentId === newParentId && state.uuid === oldParentId) {\n      // console.log('moving within program')\n      // Moving within the program\n      arrayMove(state.primitiveIds,oldIndex,newIndex)\n    } else if (oldParentId === newParentId) {\n      // console.log('moving within skill or primitive')\n      // Moving within a single skill or primitive\n      const parentType = state.data.skills[newParentId] ? 'skills' : 'primitives';\n      arrayMove(state.data[parentType][newParentId].primitiveIds,oldIndex,newIndex)\n    } else if (state.uuid === oldParentId) {\n      // Move from program\n      // console.log('moving from program to someplace else')\n      const newParentType = state.data.skills[newParentId] ? 'skills' : 'primitives';\n      state.primitiveIds.splice(oldIndex, 1);\n      state.data[newParentType][newParentId].primitiveIds.splice(newIndex, 0, primitiveId)\n    } else if (state.uuid === newParentId) {\n      const oldParentType = state.data.skills[oldParentId] ? 'skills' : 'primitives';\n      state.data[oldParentType][oldParentId].primitiveIds.splice(oldIndex, 1);\n      state.primitiveIds.splice(newIndex, 0, primitiveId)\n    } else {\n      const newParentType = state.data.skills[newParentId] ? 'skills' : 'primitives';\n      const oldParentType = state.data.skills[oldParentId] ? 'skills' : 'primitives';\n      state.data[oldParentType][oldParentId].primitiveIds.splice(oldIndex, 1);\n      state.data[newParentType][newParentId].primitiveIds.splice(newIndex, 0, primitiveId)\n    }\n  }),\n  insertChildPrimitive: (primitive, newParentId, newIndex) => set(state=>{\n    if (!state.data.primitives[primitive.uuid]) {\n      // Add if it isn't here yet.\n      state.data.primitives[primitive.uuid] = lodash.omit(primitive,'idx','parentData','dragBehavior','onDelete')\n    }\n    if (newParentId === state.uuid) {\n      state.primitiveIds.splice(newIndex, 0, primitive.uuid);\n    } else if (state.data.skills[newParentId]) {\n      state.data.skills[newParentId].primitiveIds.splice(newIndex, 0, primitive.uuid);\n    } else {\n      state.data.primitives[newParentId].primitiveIds.splice(newIndex, 0, primitive.uuid);\n    }\n  }),\n  moveTrajectoryBlock: (trajectory, newParentId, argKey) => set((state) => {\n    const onFile = state.data.trajectories[trajectory.uuid];\n    if (!onFile) {\n      console.log('Adding because it doesnt exist in store')\n      state.data.trajectories[trajectory.uuid] = lodash.omit(trajectory,'parentData','dragBehavior','onDelete')\n    }\n    const field = argKey ? argKey : 'trajectory_uuid';\n    if (trajectory.parentData.type !== 'drawer') {\n      console.log('from drawer, not removing')\n      state.data.primitives[trajectory.parentData.uuid].parameters[trajectory.parentData.field] = null\n    }\n    console.log(`Setting field ${field} of ${newParentId} to ${trajectory.uuid}`)\n    state.data.primitives[newParentId].parameters[field] = trajectory.uuid;\n  }),\n  deletePrimitiveTrajectory: (parentId, field, trajectoryId) => set(state=>{\n    state.data.primitives[parentId].parameters[field] = null;\n    delete state.data.trajectories[trajectoryId];\n  }),\n  // Piecewise update functions for data\n  addItem: (type, item) => set((state) => {\n    state.data[typeToKey(type)][item.uuid] = item;\n    // if (['waypoint','location','trajectory'].includes(type)) {\n    //   state.renderData[typeToKey(type)][item.uuid] = item;\n    // }\n  }),\n  setItemProperty: (type, uuid, property, value) => set((state) => {\n    state.data[typeToKey(type)][uuid][property] = value;\n    // if (['waypoint','location','trajectory'].includes(type)) {\n    //   state.renderData[typeToKey(type)][uuid] = state.data[typeToKey(type)][uuid];\n    // }\n    if (type === 'primitive' && state.data.primitives[uuid].type === 'node.primitive.gripper.' && property === 'position') {\n      if (value < 45) {\n        state.data.primitives[uuid].name = 'Grasp'\n      } else if (value > 55) {\n        state.data.primitives[uuid].name = 'Release'\n      } else {\n        state.data.primitives[uuid].name = 'Gripper Move'\n      }\n    }\n  }),\n  setPoseTransform: (uuid, transform) => set(state=>{\n    if (state.data.locations[uuid]) {\n      state.data.locations[uuid].position.x = transform.local.position.x;\n      state.data.locations[uuid].position.y = transform.local.position.y;\n      state.data.locations[uuid].position.z = transform.local.position.z;\n      state.data.locations[uuid].orientation.x = transform.local.quaternion.x;\n      state.data.locations[uuid].orientation.y = transform.local.quaternion.y;\n      state.data.locations[uuid].orientation.z = transform.local.quaternion.z;\n      state.data.locations[uuid].orientation.w = transform.local.quaternion.w;\n      //.locations[uuid] = state.data.locations[uuid];\n    } else if (state.data.waypoints[uuid]) {\n      state.data.waypoints[uuid].position.x = transform.local.position.x;\n      state.data.waypoints[uuid].position.y = transform.local.position.y;\n      state.data.waypoints[uuid].position.z = transform.local.position.z;\n      state.data.waypoints[uuid].orientation.x = transform.local.quaternion.x;\n      state.data.waypoints[uuid].orientation.y = transform.local.quaternion.y;\n      state.data.waypoints[uuid].orientation.z = transform.local.quaternion.z;\n      state.data.waypoints[uuid].orientation.w = transform.local.quaternion.w;\n      //state.renderData.waypoints[uuid] = state.data.waypoints[uuid];\n    }\n  }),\n  setRegionTransform: (uuid, transform) => set(state=>{\n    if (state.data.regions[uuid]) {\n      state.data.regions[uuid].center_position.x = transform.local.position.x;\n      state.data.regions[uuid].center_position.y = transform.local.position.y;\n      state.data.regions[uuid].center_position.z = transform.local.position.z;\n      state.data.regions[uuid].center_orientation.x = transform.local.quaternion.x;\n      state.data.regions[uuid].center_orientation.y = transform.local.quaternion.y;\n      state.data.regions[uuid].center_orientation.z = transform.local.quaternion.z;\n      state.data.regions[uuid].center_orientation.w = transform.local.quaternion.w;\n    }\n  }),\n  setPrimitiveParameter: (type, uuid, property, value) => set((state) => {\n    state.data[typeToKey(type)][uuid].parameters[property] = value\n  }),\n  deleteItem: (type, uuid) => set((state) => {\n    delete state.data[typeToKey(type)][uuid]\n    if (type === \"waypoint\") {\n      //delete state.renderData.waypoints[uuid];\n      Object.keys(state.data.trajectories).forEach(trajectory_uuid => {\n        state.data.trajectories[trajectory_uuid].waypoint_uuids = state.data.trajectories[trajectory_uuid].waypoint_uuids.filter(other_uuid => other_uuid !== uuid)\n        //state.renderData.trajectories[trajectory_uuid] = state.data.trajectories[trajectory_uuid]\n      })\n      // TODO: Remove from other params.\n    } else if (type === 'location') {\n      Object.keys(state.data.trajectories).forEach(trajectory_uuid => {\n        if (state.data.trajectories[trajectory_uuid].start_location_uuid === uuid) {\n          state.data.trajectories[trajectory_uuid].start_location_uuid = null\n        }\n        if (state.data.trajectories[trajectory_uuid].end_location_uuid === uuid) {\n          state.data.trajectories[trajectory_uuid].end_location_uuid = null\n        }\n        //state.renderData.trajectories[trajectory_uuid] = state.data.trajectories[trajectory_uuid]\n      })\n      // TODO: Remove from other params.\n    }\n  }),\n  moveItem: (type, uuid, x, y) => set((state) => {\n    if (type === 'program') {\n      state.transform.x += x;\n      state.transform.y += y;\n    } else if (type === 'skill') {\n      state.data[typeToKey(type)][uuid].transform.x += x;\n      state.data[typeToKey(type)][uuid].transform.y += y;\n    }\n  }),\n  createAndPlaceItem: (type, item, x, y) => set((state) => {\n    if (type === 'skill') {\n      state.data[typeToKey(type)][item.uuid] = lodash.omit({ ...item, transform: { x, y } }, 'parentData');\n    }\n  }),\n  createSkillArgument: (skill_uuid, argument) => set((state)=>{\n    state.data[typeToKey('skill')][skill_uuid].arguments.push(argument);\n  }),\n  deleteArgumentFromChild: (uuid, argument) => set((state) => {\n    if (argument.parameter_type === 'node.machine.' && state.data.primitives[uuid].parameters.machine_uuid === argument.uuid) {\n      state.data.primitives[uuid].parameters.machine_uuid = null;\n    } else if (argument.parameter_type === 'node.pose.thing.' && state.data.primitives[uuid].parameters.thing_uuid === argument.uuid) {\n      state.data.primitives[uuid].parameters.thing_uuid = null;\n    } else if (argument.parameter_type === 'node.trajectory.' && state.data.primitives[uuid].parameters.trajectory_uuid === argument.uuid) {\n      state.data.primitives[uuid].parameters.trajectory_uuid = null;\n    } else if (argument.parameter_type === 'node.pose.waypoint.location.' && state.data.primitives[uuid].parameters.location_uuid === argument.uuid) {\n      state.data.primitives[uuid].parameters.location_uuid = null;\n    }\n  }),\n  deleteArgumentsFromHierarchical: (hier_uuid, argument) => {\n    get().data.primitives[hier_uuid].primitiveIds.forEach(uuid => {\n      // Clear argument from hierarchicals\n      if (uuid.includes(\"hierarchical\")) {\n        get().deleteArgumentsFromHierarchical(uuid, argument);\n      }\n\n      // Clear argument from children\n      get().deleteArgumentFromChild(uuid, argument);\n    });\n  },\n  deleteArgumentFromSkill: (skill_uuid, argument) => set((state) => {\n    state.data[typeToKey('skill')][skill_uuid].arguments = state.data[typeToKey('skill')][skill_uuid].arguments.filter(arg => arg.uuid !== argument.uuid)\n  }),\n  deleteSkillArgument: (skill, argument) => {\n    skill.primitiveIds.forEach(uuid => {\n      // Clear argument from hierarchicals\n      if (uuid.includes(\"hierarchical\")) {\n        get().deleteArgumentsFromHierarchical(uuid, argument);\n      }\n\n      // Clear argument from children\n      get().deleteArgumentFromChild(uuid, argument);\n    });\n\n    // Delete Argument\n    get().deleteArgumentFromSkill(skill.uuid, argument);\n  },\n  getSkillArugment: (skill_uuid, argument_uuid) => get((state)=>{\n    for (let i = 0; i < state.data[typeToKey('skill')][skill_uuid].arguments.length; i++) {\n      if (state.data[typeToKey('skill')][skill_uuid].arguments[i].uuid === argument_uuid) {\n        return state.data[typeToKey('skill')][skill_uuid].arguments[i];\n      }\n    }\n    return undefined\n  }),\n  setArgumentProperty: (skill_uuid, argument_uuid, property, value) => set((state)=>{\n    for (let i = 0; i < state.data[typeToKey('skill')][skill_uuid].arguments.length; i++) {\n      if (state.data[typeToKey('skill')][skill_uuid].arguments[i].uuid === argument_uuid) {\n        state.data[typeToKey('skill')][skill_uuid].arguments[i][property] = value;\n      }\n    }\n    \n  })\n});","export const COLLISION_MESHES = {\n    'package://evd_ros_tasks/tasks/3d_printer_machine_tending/models/Table/Table.stl':'package://evd_ros_tasks/tasks/3d_printer_machine_tending/models/Table/Table.stl',\n    'conveyor':'conveyor_collision',\n    'conveyor_receiver':'conveyor_receiver_collision',\n    'conveyor_dispatcher':'conveyor_dispatcher_collision',\n    'package://evd_ros_tasks/tasks/3d_printer_machine_tending/models/ur3e-Pedestal/Pedestal.stl':'package://evd_ros_tasks/tasks/3d_printer_machine_tending/collision_meshes/Pedestal.stl',\n    'package://evd_ros_tasks/tasks/3d_printer_machine_tending/models/MK2-Printer/MK2-Printer.stl':'package://evd_ros_tasks/tasks/3d_printer_machine_tending/collision_meshes/MK2-Printer.stl',\n    'assembly_jig':'assembly_jig_collision',\n    'package://ur_description/meshes/ur3/visual/base.dae':'package://ur_description/meshes/ur3/collision/base.stl',\n    'package://ur_description/meshes/ur3/visual/shoulder.dae':'package://ur_description/meshes/ur3/collision/shoulder.stl',\n    'package://ur_description/meshes/ur3/visual/upperarm.dae':'package://ur_description/meshes/ur3/collision/upperarm.stl',\n    'package://ur_description/meshes/ur3/visual/forearm.dae':'package://ur_description/meshes/ur3/collision/forearm.stl',\n    'package://ur_description/meshes/ur3/visual/wrist1.dae':'package://ur_description/meshes/ur3/collision/wrist1.stl',\n    'package://ur_description/meshes/ur3/visual/wrist2.dae':'package://ur_description/meshes/ur3/collision/wrist2.stl',\n    'package://ur_description/meshes/ur3/visual/wrist3.dae':'package://ur_description/meshes/ur3/collision/wrist3.stl',\n    'package://robotiq_85_description/meshes/visual/robotiq_85_base_link.dae':'package://robotiq_85_description/meshes/collision/robotiq_85_base_link.stl',\n    'package://robotiq_85_description/meshes/visual/robotiq_85_knuckle_link.dae':'package://robotiq_85_description/meshes/collision/robotiq_85_knuckle_link.stl',\n    'package://robotiq_85_description/meshes/visual/robotiq_85_finger_link.dae':'package://robotiq_85_description/meshes/collision/robotiq_85_finger_link.stl',\n    'package://robotiq_85_description/meshes/visual/robotiq_85_inner_knuckle_link.dae':'package://robotiq_85_description/meshes/collision/robotiq_85_inner_knuckle_link.stl',\n    'package://robotiq_85_description/meshes/visual/robotiq_85_finger_tip_link.dae':'package://robotiq_85_description/meshes/collision/robotiq_85_finger_tip_link.stl'\n}\n\nexport const EVD_MESH_LOOKUP = {\n    \"package://evd_ros_tasks/description/meshes/visual/3d_printer.stl\":\"package://evd_ros_tasks/tasks/3d_printer_machine_tending/models/MK2-Printer/MK2-Printer.stl\",\n    \"package://evd_ros_tasks/description/meshes/visual/assembly_jig.stl\":\"assembly_jig\",\n    \"package://evd_ros_tasks/description/meshes/visual/conveyor.stl\":\"conveyor\",\n    \"package://evd_ros_tasks/description/meshes/visual/blade_feeder.stl\":\"conveyor_receiver\",\n    \"package://evd_ros_tasks/description/meshes/visual/knife_feeder.stl\":\"conveyor_dispatcher\",\n    \"package://evd_ros_tasks/description/markers/left_handle.stl\":\"handle_l\",\n    \"package://evd_ros_tasks/description/markers/right_handle.stl\":\"handle_r\",\n    \"package://evd_ros_tasks/description/markers/blade.stl\":\"blade\",\n    \"package://evd_ros_tasks/description/markers/tranport_jig.stl\":\"transport_jig\",\n    \"package://evd_ros_tasks/description/markers/blade_with_transport_jig.stl\":\"blade_with_transport_jig\",\n    \"package://evd_ros_tasks/description/markers/knife_with_transport_jig.stl\":\"knife_with_transport_jig\"\n}\n\nexport const INITIAL_SIM =\n    {\n        tfs:{\n            '3d_printer_link':{\n                frame:'world',\n                translation: { x: -0.28, y: 0.32, z: 0.3 },\n                rotation: { w: 1, x: 0, y: 0, z: 0 },\n            },\n            'assembly_jig_link':{\n                frame:'world',\n                translation: { x: 0.2, y: 0.28, z: 0.14 },\n                rotation: { w: -0.5, x: 0.5, y: -0.5, z: -0.5 },\n            },\n            'blade_conveyor_link':{\n                frame:'world',\n                translation: { x: -0.85, y: -0.25, z: -0.75 },\n                rotation: { w: 0.707, x: 0, y: 0, z: 0.707 },\n            },\n            'blade_feeder_link':{\n                frame:'world',\n                translation: { x: -0.85, y: -0.25, z: -0.75 },\n                rotation: { w: 0.707, x: 0, y: 0, z: 0.707 },\n            },\n            'knife_conveyor_link':{\n                frame:'world',\n                translation: { x: 0.85, y: -0.25, z: -0.75 },\n                rotation: { w: 0.707, x: 0, y: 0, z: -0.707 },\n            },\n            'knife_feeder_link':{\n                frame:'world',\n                translation: { x: 0.85, y: -0.25, z: -0.75 },\n                rotation: { w: 0.707, x: 0, y: 0, z: -0.707 },\n            },\n            'simulated_base_link':{\n                frame:'world',\n                translation: { x: 0, y: -0.15, z: 0 },\n                rotation: { w: 0, x: 0, y: 0, z: 1 },\n            },\n            'simulated_shoulder_link':{\n                frame:'world',\n                translation: { x: 0, y: -0.15, z: 0.15185 },\n                rotation: { w: 0.6669439077377319, x: 0, y: 0, z: 0.745107889175415 },\n            },\n            'simulated_upper_arm_link':{\n                frame:'world',\n                translation: { x: 0, y: -0.15, z: 0.15185 },\n                rotation: { w: -0.4478497803211212, x: 0.5932892560958862, y: -0.3847179114818573, z: 0.5472025871276855 }\n            },\n            'simulated_forearm_link':{\n                frame:'world',\n                translation: { x: -0.02560272067785263, y: 0.08055101335048676, z: 0.07763859629631042 },\n                rotation: { w: 0.6748411655426025, x: 0.1353885531425476, y: 0.694024384021759, z: 0.2111620008945465 },\n            },\n            'simulated_wrist_1_link':{\n                frame:'world',\n                translation: { x: 0.11584359407424927, y: -0.005812940187752247, z: 0.2651554048061371},\n                rotation: { w: -0.29463568329811096, x: 0.6713905930519104, y: -0.22188881039619446, z: 0.6427983641624451 },\n            },\n            'simulated_wrist_2_link':{\n                frame:'world',\n                translation: { x: 0.1089443638920784, y: 0.05631420761346817, z: 0.32326942682266235 },\n                rotation: { w: 0.9164819121360779, x: -0.39580079913139343, y: -0.05381776764988899, z: -0.022500555962324142 },\n            },\n            'simulated_wrist_3_link':{\n                frame:'world',\n                translation: { x: 0.11666648089885712, y: 0.11946450173854828, z: 0.25667497515678406 },\n                rotation: { w: -0.37005797028541565, x: 0.9280606508255005, y: -0.01538957841694355, z: 0.039035625755786896 },\n            },\n            'simulated_flange':{\n                frame:'world',\n                translation: { x: 0.11666648089885712, y: 0.11946450173854828, z: 0.25667497515678406 },\n                rotation: { w: 0.29082435369491577, x: 0.676271915435791, y: 0.6218466758728027, z: -0.26717832684516907 },\n              },\n            'simulated_tool0':{\n                frame:'world',\n                translation: { x: 0.11666648089885712, y: 0.11946450173854828, z: 0.25667497515678406 },\n                rotation: { w: -0.37005797028541565, x: 0.9280606508255005, y: -0.01538957841694355, z: 0.039035625755786896 },\n            },\n            // This starts the overriden values by gripper.js\n            'simulated_robotiq_85_base_link':{\n                frame:'simulated_tool0',\n                translation: {x: 0, y: 0, z: 0},\n                rotation: { w: 0.5, x: 0.5, y: -0.5, z: 0.5},\n            },\n            'simulated_robotiq_85_left_knuckle_link':{\n                frame:'simulated_robotiq_85_base_link',\n                translation: { x: 0.05490451627, y: 0.03060114443, z: 0 },\n                rotation: { w: 0, x: 1, y: 0, z: 0 },\n            },\n            'simulated_robotiq_85_right_knuckle_link':{\n                frame:'simulated_robotiq_85_base_link',\n                translation: { x: 0.05490451627, y: -0.03060114443, z: 0 },\n                rotation: { w: 1, x: 0, y: 0, z: 0 },\n            },\n            'simulated_robotiq_85_left_finger_link':{\n                frame:'simulated_robotiq_85_left_knuckle_link',\n                translation: { x: -0.00408552455, y: -0.03148604435, z: 0 },\n                rotation: { w: 1, x: 0, y: 0, z: 0 },\n            },\n            'simulated_robotiq_85_right_finger_link':{\n                frame:'simulated_robotiq_85_right_knuckle_link',\n                translation: { x: -0.00408552455, y: -0.03148604435, z: 0 },\n                rotation: { w: 1, x: 0, y: 0, z: 0 },\n            },\n            'simulated_robotiq_85_left_inner_knuckle_link':{\n                frame:'simulated_robotiq_85_base_link',\n                translation: { x: 0.06142, y: 0.0127, z: 0 },\n                rotation: { w: 0, x: 1, y: 0, z: 0 },\n            },\n            'simulated_robotiq_85_right_inner_knuckle_link':{\n                frame:'simulated_robotiq_85_base_link',\n                translation: { x: 0.06142, y: -0.0127, z: 0 },\n                rotation: { w: 1, x: 0, y: 0, z: 0 },\n            },\n            'simulated_robotiq_85_left_finger_tip_link':{\n                frame:'simulated_robotiq_85_left_inner_knuckle_link',\n                translation: { x: 0.04303959807, y: -0.03759940821, z: 0 },\n                rotation: { w: 1, x: 0, y: 0, z: 0 },\n            },\n            'simulated_robotiq_85_right_finger_tip_link':{\n                frame:'simulated_robotiq_85_right_inner_knuckle_link',\n                translation: { x: 0.04303959807, y: -0.03759940821, z: 0 },\n                rotation: { w: 1, x: 0, y: 0, z: 0},\n            }\n        },\n        staticScene: {\n            table: {\n                shape: \"package://evd_ros_tasks/tasks/3d_printer_machine_tending/models/Table/Table.stl\",\n                name: \"Table\",\n                frame: \"world\",\n                position: { x: 0, y: 0.36, z: -0.37 },\n                rotation: { w: 1, x: 0, y: 0, z: 0 },\n                color: {r: 10, g: 10, b: 10, a: 1},\n                showCollision: false,\n                highlighted: false,\n                scale: {x:1,y:1,z:1}\n            },\n            // bladeConveyor: {\n            //     shape: 'conveyor',\n            //     name: \"Blade Production Conveyor Belt\",\n            //     frame: \"blade_conveyor_link\",\n            //     position: { x: 0, y: 0, z: 0 },\n            //     rotation: { w: 1, x: 0, y: 0, z: 0 },\n            //     scale: { x: 1, y: 1, z: 1 },\n            //     highlighted: false,\n            //     showName: false\n            // },\n            // conveyorReceiver: {\n            //     shape: 'conveyor_receiver',\n            //     name: \"Blade Receiver\",\n            //     frame: \"blade_feeder_link\",\n            //     position: { x: 0, y: 0, z: 0 },\n            //     rotation: { w: 1, x: 0, y: 0, z: 0 },\n            //     scale: { x: 1, y: 1, z: 1 },\n            //     highlighted: false,\n            //     showName: false\n            // },\n            // knifeConveyor: {\n            //     shape: 'conveyor',\n            //     name: \"Finished Knife Conveyor Belt\",\n            //     frame: \"knife_conveyor_link\",\n            //     position: { x: 0, y: 0, z: 0 },\n            //     rotation: { w: 1, x: 0, y: 0, z: 0 },\n            //     scale: { x: 1, y: 1, z: 1 },\n            //     highlighted: false,\n            //     showName: false,\n            // },\n            // conveyorDispatcher: {\n            //     shape: 'conveyor_dispatcher',\n            //     name: \"Knife Dispatcher\",\n            //     frame: \"knife_feeder_link\",\n            //     position: { x: 0, y: 0, z: 0 },\n            //     rotation: { w: 1, x: 0, y: 0, z: 0 },\n            //     scale: { x: 1, y: 1, z: 1 },\n            //     highlighted: false,\n            //     showName: false,\n            // },    \n            pedestal: {\n                shape: \"package://evd_ros_tasks/tasks/3d_printer_machine_tending/models/ur3e-Pedestal/Pedestal.stl\",\n                name: \"Pedestal\",\n                frame: \"world\",\n                position: { x: 0, y: -0.15, z: -0.38 },\n                rotation: { w: 1, x: 0, y: 0, z: 0 },\n                color: {r: 15, g: 15, b: 15, a: 1},\n                showCollison: false,\n                highlighted: false,\n                scale: {x:1,y:1,z:1}\n            },\n            // printer: {\n            //     shape: \"package://evd_ros_tasks/tasks/3d_printer_machine_tending/models/MK2-Printer/MK2-Printer.stl\",\n            //     name: \"3D Printer\",\n            //     frame: \"3d_printer_link\",\n            //     position: { x: 0, y: 0, z: 0 },\n            //     rotation: { w: 1, x: 0, y: 0, z: 0 },\n            //     showCollison: false,\n            //     highlighted: false,\n            //     scale: {x:1,y:1,z:1}\n            // },\n            // assemblyJig: {\n            //     shape: \"assembly_jig\",\n            //     name: \"Assembly Jig\",\n            //     frame: \"assembly_jig_link\",\n            //     position: { x: 0, y: 0, z: 0 },\n            //     rotation: { w: 1, x: 0, y: 0, z: 0 },\n            //     scale: { x: 0.2, y: 0.2, z: 0.2 },\n            //     highlighted: false,\n            // },\n            robotBase: {\n                shape: \"package://ur_description/meshes/ur3/visual/base.dae\",\n                name: 'Robot Base',\n                frame: \"simulated_base_link\",\n                position: { x: 0, y: 0, z: 0 },\n                rotation: { w: 0, x: 0, y: 0, z: 1 },\n                scale: {x:1,y:1,z:1},\n                showCollison: false,\n                highlighted: false\n            },\n            robotShoulderLink: {\n                shape: \"package://ur_description/meshes/ur3/visual/shoulder.dae\",\n                name: 'Shoulder Link',\n                frame: \"simulated_shoulder_link\",\n                position: { x: 0, y: 0, z: 0 },\n                rotation: { w: 0, x: 0, y: 0, z: 1 },\n                scale: {x:1,y:1,z:1},\n                showCollison: false,\n                highlighted: false,\n            },\n            robotUpperArmLink: {\n                shape: \"package://ur_description/meshes/ur3/visual/upperarm.dae\",\n                collision: \"package://ur_description/meshes/ur3/collision/upperarm.stl\",\n                name: \"Upper Arm Link\",\n                frame: \"simulated_upper_arm_link\",\n                position: { x: 0, y: 0, z: 0.12 },\n                rotation: { w: 0.5, x: 0.5, y: -0.5, z: -0.5 },\n                scale: {x:1,y:1,z:1},\n                showCollison: false,\n                highlighted: false,\n            },\n            robotForearmLink: {\n                shape: \"package://ur_description/meshes/ur3/visual/forearm.dae\",\n                collision: \"package://ur_description/meshes/ur3/collision/forearm.stl\",\n                name: \"Forearm Link\",\n                frame: \"simulated_forearm_link\",\n                position: { x: 0, y: 0, z: 0.027 },\n                rotation: { w: 0.5, x: 0.5, y: -0.5, z: -0.5 },\n                scale: {x:1,y:1,z:1},\n                showCollison: false,\n                highlighted: false,\n            },\n            robotWrist1Link: {\n                shape: \"package://ur_description/meshes/ur3/visual/wrist1.dae\",\n                collision: \"package://ur_description/meshes/ur3/collision/wrist1.stl\",\n                name: \"Wrist 1 Link\",\n                frame: \"simulated_wrist_1_link\",\n                position: { x: 0, y: 0, z: -0.104 },\n                rotation: { w: 0.7071068, x: 0.7071068, y: 0, z: 0 },\n                scale: {x:1,y:1,z:1},\n                showCollison: false,\n                highlighted: false,\n            },\n            robotWrist2Link: {\n                shape: \"package://ur_description/meshes/ur3/visual/wrist2.dae\",\n                collision: \"package://ur_description/meshes/ur3/collision/wrist2.stl\",\n                name: \"Wrist 2 Link\",\n                frame: \"simulated_wrist_2_link\",\n                position: { x: 0, y: 0, z: -0.08535 },\n                rotation: { w: 1, x: 0, y: 0, z: 0 },\n                scale: {x:1,y:1,z:1},\n                showCollison: false,\n                highlighted: false,\n            },\n            robotWrist3Link: {\n                shape: \"package://ur_description/meshes/ur3/visual/wrist3.dae\",\n                collision: \"package://ur_description/meshes/ur3/collision/wrist3.stl\",\n                name: \"Wrist 3 Link\",\n                frame: \"simulated_wrist_3_link\",\n                position: { x: 0, y: 0, z: -0.0921 },\n                rotation: { w: 0.7071068, x: 0.7071068, y: 0, z: 0 },\n                scale: {x:1,y:1,z:1},\n                showCollison: false,\n                highlighted: false,\n            },\n            gripperBaseLink:{\n                shape: \"package://robotiq_85_description/meshes/visual/robotiq_85_base_link.dae\",\n                name: \"Gripper Base\",\n                frame: \"simulated_robotiq_85_base_link\",\n                position: { x: 0, y: 0, z: 0},\n                rotation: { w: 1, x: 0, y: 0, z: 0},\n                scale: {x:1,y:1,z:1},\n                showName: false,\n                highlighted: false\n              },\n              gripperLeftKnuckle:{\n                shape: \"package://robotiq_85_description/meshes/visual/robotiq_85_knuckle_link.dae\",\n                name: \"Gripper Left Knuckle\",\n                frame: \"simulated_robotiq_85_left_knuckle_link\",\n                position: { x: 0, y: 0, z: 0},\n                rotation: { w: 1, x: 0, y: 0, z: 0},\n                scale: {x:1,y:1,z:1},\n                showName: false,\n                highlighted: false\n              },\n              gripperRightKnuckle:{\n                shape: \"package://robotiq_85_description/meshes/visual/robotiq_85_knuckle_link.dae\",\n                name: \"Gripper Right Knuckle\",\n                frame: \"simulated_robotiq_85_right_knuckle_link\",\n                position: { x: 0, y: 0, z: 0},\n                rotation: { w: 1, x: 0, y: 0, z: 0},\n                scale: {x:1,y:1,z:1},\n                showName: false,\n                highlighted: false\n              },\n              gripperLeftFinger:{\n                shape: \"package://robotiq_85_description/meshes/visual/robotiq_85_finger_link.dae\",\n                name: \"Gripper Left Finger\",\n                frame: \"simulated_robotiq_85_left_finger_link\",\n                position: { x: 0, y: 0, z: 0},\n                rotation: { w: 1, x: 0, y: 0, z: 0},\n                scale: {x:1,y:1,z:1},\n                showName: false,\n                highlighted: false\n              },\n              gripperRightFinger:{\n                shape: \"package://robotiq_85_description/meshes/visual/robotiq_85_finger_link.dae\",\n                name: \"Gripper Right Finger\",\n                frame: \"simulated_robotiq_85_right_finger_link\",\n                position: { x: 0, y: 0, z: 0},\n                rotation: { w: 1, x: 0, y: 0, z: 0},\n                scale: {x:1,y:1,z:1},\n                showName: false,\n                highlighted: false\n              },\n              gripperLeftInnerKnuckle:{\n                shape: \"package://robotiq_85_description/meshes/visual/robotiq_85_inner_knuckle_link.dae\",\n                name: \"Gripper Left Inner Knuckle\",\n                frame: \"simulated_robotiq_85_left_inner_knuckle_link\",\n                position: { x: 0, y: 0, z: 0},\n                rotation: { w: 1, x: 0, y: 0, z: 0},\n                scale: {x:1,y:1,z:1},\n                showName: false,\n                highlighted: false\n              },\n              gripperRightInnerKnuckle:{\n                shape: \"package://robotiq_85_description/meshes/visual/robotiq_85_inner_knuckle_link.dae\",\n                name: \"Gripper Right Inner Knuckle\",\n                frame: \"simulated_robotiq_85_right_inner_knuckle_link\",\n                position: { x: 0, y: 0, z: 0},\n                rotation: { w: 1, x: 0, y: 0, z: 0},\n                scale: {x:1,y:1,z:1},\n                showName: false,\n                highlighted: false\n              },\n              gripperLeftFingerTip:{\n                shape: \"package://robotiq_85_description/meshes/visual/robotiq_85_finger_tip_link.dae\",\n                name: \"Gripper Left Finger Tip\",\n                frame: \"simulated_robotiq_85_left_finger_tip_link\",\n                position: { x: 0, y: 0, z: 0},\n                rotation: { w: 1, x: 0, y: 0, z: 0},\n                scale: {x:1,y:1,z:1},\n                showName: false,\n                highlighted: false\n              },\n              gripperRightFingerTip:{\n                shape: \"package://robotiq_85_description/meshes/visual/robotiq_85_finger_tip_link.dae\",\n                name: \"Gripper Right Finger Tip\",\n                frame: \"simulated_robotiq_85_right_finger_tip_link\",\n                position: { x: 0, y: 0, z: 0},\n                rotation: { w: 1, x: 0, y: 0, z: 0},\n                scale: {x:1,y:1,z:1},\n                showName: false,\n                highlighted: false\n              }\n        }\n}","// import { objectMap } from \"./helpers\";\nimport { \n    poseDataToShapes, \n    DEFAULT_WAYPOINT_COLOR,\n    DEFAULT_LOCATION_COLOR,\n    UNREACHABLE_COLOR,\n    OCCUPANCY_ERROR_COLOR,\n    occupancyOverlap,\n    DEFAULT_TRAJECTORY_COLOR,\n    executablePrimitive,\n    tfAnimationFromExecutable,\n    robotFramesFromPose\n} from './helpers';\nimport debounce from 'lodash.debounce';\n// import throttle from 'lodash.throttle';\nimport { INITIAL_SIM, COLLISION_MESHES, EVD_MESH_LOOKUP } from './initialSim';\n\nconst ROBOT_PARTS = Object.keys(INITIAL_SIM.staticScene).filter(v => v.includes('robot'));\nconst GRIPPER_PARTS = Object.keys(INITIAL_SIM.staticScene).filter(v => v.includes('gripper'));\n\n\nexport const ComputedSlice = {\n    computed: {\n        executablePrimitives: function() {\n            let executableLookup = {};\n            executableLookup[this.uuid] = executablePrimitive(this.uuid,this);\n            this.primitiveIds.forEach(primitiveId=>{\n                executableLookup[primitiveId] = executablePrimitive(primitiveId,this)\n            })\n            return executableLookup\n        },\n        tfs: function() {\n            let tfs = {...INITIAL_SIM.tfs};\n            Object.values(this.data.placeholders).forEach(placeholder=>{\n                // for now, place the placeholders at origin. \n                // console.log(placeholder)\n                tfs[placeholder.uuid] = {\n                    frame:'world',\n                    translation:{x:0,y:0,z:0},\n                    rotation:{w:1,x:0,y:0,z:0}\n                }\n            })\n            if (this.focusItem.uuid) {\n                const executable = this.executablePrimitives[this.focusItem.uuid];\n                if (executable) {\n                    tfs = tfAnimationFromExecutable(executable,tfs)\n                } else if (this.focusItem.type === 'location' && this.data.locations[this.focusItem.uuid].frames) {\n                    console.log(this.data.locations[this.focusItem.uuid].frames)\n                    tfs = {...tfs,...robotFramesFromPose(this.data.locations[this.focusItem.uuid])}\n                } else if (this.focusItem.type === 'waypoint' && this.data.waypoints[this.focusItem.uuid].frames) {\n                    tfs = {...tfs,...robotFramesFromPose(this.data.waypoints[this.focusItem.uuid])}\n                }\n            }\n            return tfs\n        },\n        items: function () {\n            let items = {};\n            const focusedTrajectoryChildren = this.focusItem.type === 'trajectory' ? [\n                this.data.trajectories[this.focusItem.uuid].start_location_uuid,\n                ...this.data.trajectories[this.focusItem.uuid].waypoint_uuids,\n                this.data.trajectories[this.focusItem.uuid].end_location_uuid,\n            ] : []\n\n            Object.keys(INITIAL_SIM.staticScene).forEach(itemKey => {\n                const item = INITIAL_SIM.staticScene[itemKey];\n                let highlighted = false;\n                if (ROBOT_PARTS.indexOf(this.focusItem.uuid) >= 0 && ROBOT_PARTS.indexOf(itemKey) >= 0) {\n                    highlighted = true\n                } else if (GRIPPER_PARTS.indexOf(this.focusItem.uuid) >= 0 && GRIPPER_PARTS.indexOf(itemKey) >= 0) {\n                    highlighted = true\n                } else if (this.focusItem.uuid === itemKey || this.secondaryFocusItem.uuid === itemKey) {\n                    highlighted = true\n                }\n                items[itemKey] = {\n                    shape: item.shape,\n                    name: item.name,\n                    frame: item.frame,\n                    position: item.position,\n                    rotation: item.rotation,\n                    color: item.color,\n                    scale: item.scale,\n                    transformMode: \"inactive\",\n                    highlighted,\n                    onClick: (e) => {\n                        if (this.focusItem.transformMode === \"translate\" || this.focusItem.transformMode ===  \"rotate\"){\n                            \n                        }else{\n                            console.log('clicked '+item.name)\n                            e.stopPropagation();\n                            this.setFocusItem('scene', itemKey);\n                        }\n                        \n                    },\n                    onMove: (transform) => { console.log(transform) }\n                }\n                if (COLLISION_MESHES[item.shape]) {\n                    items[itemKey + '-collision'] = {\n                        shape: COLLISION_MESHES[item.shape],\n                        name: item.name + ' Collision',\n                        frame: item.frame,\n                        position: item.position,\n                        rotation: item.rotation,\n                        scale: item.scale,\n                        color: { r: 250, g: 0, b: 0, a: 0.6 },\n                        transformMode: \"inactive\",\n                        highlighted: false,\n                        wireframe: true,\n                        hidden: !this.collisionsVisible,\n                        onClick: (_) => { },\n                        onMove: (transform) => { console.log(transform) }\n                    };\n                }\n            })\n\n            Object.values(this.data.occupancyZones).forEach(zone=>{\n                if (zone.occupancy_type === 'human') {\n                    items[zone.uuid] = {\n                        shape: 'cube',\n                        name: zone.name,\n                        frame: 'world',\n                        position: {x:zone.position_x,y:zone.position_z,z:0.25},\n                        rotation: {w:1,x:0,y:0,z:0},\n                        color: {...OCCUPANCY_ERROR_COLOR,a:0.2},\n                        scale: {x:zone.scale_x,y:zone.scale_z,z:2},\n                        transformMode: \"inactive\",\n                        highlighted: false,\n                        onClick: (_) => {},\n                        hidden: !this.occupancyVisible\n                    }\n                }\n                \n            })\n\n            let focusedInputs = [];\n            let focusedOutputs = [];\n            if (this.focusItem.type === 'machine') {\n                Object.values(this.data.machines[this.focusItem.uuid].inputs).forEach(regionInfo=>{\n                    regionInfo.forEach(input=>focusedInputs.push(input.region_uuid))\n                });\n                Object.values(this.data.machines[this.focusItem.uuid].outputs).forEach(regionInfo=>{\n                    regionInfo.forEach(output=>focusedOutputs.push(output.region_uuid))\n                });\n            }\n\n            Object.values(this.data.machines).forEach(machine=>{\n                const mesh = EVD_MESH_LOOKUP[machine.mesh_id]\n                items[machine.uuid] = {\n                    shape:mesh,\n                    name:machine.name,\n                    frame: machine.pose_offset.link,\n                    position: machine.pose_offset.position,\n                    rotation: machine.pose_offset.orientation,\n                    scale: machine.pose_offset.link === 'assembly_jig_link' ? { x: 0.2, y: 0.2, z: 0.2 } : {x: 1, y: 1, z: 1},\n                    transformMode: 'inactive',\n                    highlighted: this.focusItem.uuid === machine.uuid,\n                    onClick: (e) => {\n                        if (this.focusItem.transformMode === \"translate\" || this.focusItem.transformMode ===  \"rotate\"){\n                            \n                        }else{\n                            console.log('clicked '+machine.name)\n                            e.stopPropagation();\n                            this.setFocusItem('machine', machine.uuid);\n                        }\n                        \n                    },\n                }\n                // Now add collisions\n                items[machine.uuid+'-collision'] = {\n                    shape:COLLISION_MESHES[mesh],\n                    name: machine.name + ' Collision',\n                    frame: machine.pose_offset.link,\n                    position: machine.pose_offset.position,\n                    rotation: machine.pose_offset.orientation,\n                    scale: machine.pose_offset.link === 'assembly_jig_link' ? { x: 0.2, y: 0.2, z: 0.2 } : {x: 1, y: 1, z: 1},\n                    transformMode: 'inactive',\n                    highlighted: false,\n                    color: { r: 250, g: 0, b: 0, a: 0.6 },\n                    wireframe: true,\n                    hidden: !this.collisionsVisible,\n                    onClick: (_) => {},\n                }\n\n                // Now enumerate the inputs and render the zones and items.\n                Object.keys(machine.inputs).forEach(thingType=>{\n                    machine.inputs[thingType].forEach(zoneInfo=>{\n                        const region = this.data.regions[zoneInfo.region_uuid];\n                        const debouncedOnMove = debounce(transform=>{\n                            this.setRegionTransform(region.uuid,transform);\n                        },1000)\n                        let color = {r:245,g:206,b:66,a:0.4};\n                        const machineInput = focusedInputs.includes(region.uuid);\n                        const machineOutput = focusedOutputs.includes(region.uuid);\n                        if (machineInput && !machineOutput) {\n                            color = {r:245,g:105,b:66,a:0.4}\n                        } else if (!machineInput && machineOutput) {\n                            color = {r:66,g:245,b:156,a:0.4}\n                        }\n                        \n                        items[zoneInfo.region_uuid] = {\n                            shape: region.uncertainty_x ? 'cube' : 'sphere',\n                            frame: region.link,\n                            position: region.center_position,\n                            rotation: region.center_orientation,\n                            scale: region.uncertainty_x ? {x:region.uncertainty_x*5,y:region.uncertainty_y*5,z:region.uncertainty_z*5} : {x:region.uncertainty_radius*5,y:region.uncertainty_radius*5,z:region.uncertainty_radius*5},\n                            transformMode: this.secondaryFocusItem.uuid === region.uuid ? this.secondaryFocusItem.transformMode : 'inactive',\n                            color,\n                            highlighted: this.secondaryFocusItem.uuid === region.uuid,\n                            hidden: !(this.focusItem.uuid === machine.uuid || this.secondaryFocusItem.uuid === region.uuid),\n                            onClick: (_)=>{},\n                            onMove: debouncedOnMove\n                        }\n                        // items[zoneInfo.region_uuid+thingType] = {\n                        //     shape: region.uncertainty_x ? 'cube' : 'sphere',\n                        //     frame: region.link,\n                        //     position: region.center_position,\n                        //     rotation: {w:1,x:0,y:0,z:0},\n                        //     scale: {x:region.uncertainty_x*5,y:region.uncertainty_y*5,z:region.uncertainty_z*5},\n                        //     transformMode: 'inactive',\n                        //     color: {r:100,g:200,b:200,a:0.4},\n                        //     highlighted: this.secondaryFocusItem.uuid === region.uuid,\n                        //     hidden: !(this.focusItem.uuid === machine.uuid || this.secondaryFocusItem.uuid === region.uuid),\n                        //     onClick: (_)=>{}\n                        // }\n                    })\n                })\n\n                // Now enumerate the outputs and render the zones and items.\n                Object.keys(machine.outputs).forEach(thingType=>{\n                    \n                    machine.outputs[thingType].forEach(zoneInfo=>{\n                        const region = this.data.regions[zoneInfo.region_uuid];\n                        const debouncedOnMove = debounce(transform=>{\n                            this.setRegionTransform(region.uuid,transform);\n                        },1000)\n                        items[zoneInfo.region_uuid] = {\n                            shape: region.uncertainty_x ? 'cube' : 'sphere',\n                            frame: region.link,\n                            position: region.center_position,\n                            rotation: {w:1,x:0,y:0,z:0},\n                            scale: {x:region.uncertainty_x*5,y:region.uncertainty_y*5,z:region.uncertainty_z*5},\n                            transformMode: this.secondaryFocusItem.uuid === region.uuid ? this.secondaryFocusItem.transformMode : 'inactive',\n                            color: {r:200,g:100,b:100,a:0.4},\n                            highlighted: this.secondaryFocusItem.uuid === region.uuid,\n                            hidden: !(this.focusItem.uuid === machine.uuid || this.secondaryFocusItem.uuid === region.uuid),\n                            onClick: (_)=>{},\n                            onMove: debouncedOnMove\n                        }\n                        const placeholder = this.data.placeholders[zoneInfo.placeholder_uuids[0]];\n                        // items[placeholder.uuid] = {\n\n                        // }\n                        // console.log(placeholder)\n                    })\n                })\n            })\n\n            Object.keys(this.data.locations).forEach(location_uuid => {\n                const item = this.data.locations[location_uuid]\n                const focused = this.focusItem.uuid === location_uuid || this.secondaryFocusItem.uuid === location_uuid;\n                const trajectoryFocused = focusedTrajectoryChildren.includes(location_uuid);\n                \n                // Handle in the case where the trajectory is focused\n                let color = {...DEFAULT_LOCATION_COLOR};\n                //console.log(item.joints.reachable);\n                if (this.frame === 'performance' && !item.joints.reachable){//pose, frame, focused, locationOrWaypoint\n                    //console.log(\"entered\");\n                    color = {...UNREACHABLE_COLOR};\n                } else if (this.frame === 'safety' && occupancyOverlap(item.position,this.data.occupancyZones)) {\n                    color = {...OCCUPANCY_ERROR_COLOR};\n                }\n                if (trajectoryFocused) {\n                    const idx = focusedTrajectoryChildren.indexOf(location_uuid);\n                    color.a = (time)=>0.5*Math.pow(Math.E,-Math.sin(time/800+idx*0.98)); \n                }\n\n                const debouncedOnMove = debounce(transform=>{\n                    this.setPoseTransform(location_uuid,transform);\n                    this.requestJointProcessorUpdate('location',location_uuid)\n                },1000)\n\n                poseDataToShapes(item, this.frame).forEach((shape,i) => {\n                    items[shape.uuid] = { \n                        ...shape, \n                        highlighted: focused, \n                        hidden: !focused && !trajectoryFocused, \n                        color,\n                        transformMode: shape.uuid.includes('pointer') && focused ? this.focusItem.transformMode : \"inactive\",\n                        onMove: shape.uuid.includes('pointer') && focused && this.focusItem.transformMode !== 'inactive' ? debouncedOnMove : (_)=>{} \n                    }; \n                   // e => setItemProperty('location', location_uuid, 'position', { ...this.data.locations[location_uuid].position, x: e[0], y: e[1], z: e[2] }); \n\n\n                })\n            })\n\n            Object.keys(this.data.waypoints).forEach(waypoint_uuid => {\n                const item = this.data.waypoints[waypoint_uuid];\n                const focused = this.focusItem.uuid === waypoint_uuid || this.secondaryFocusItem.uuid === waypoint_uuid;\n                const trajectoryFocused = focusedTrajectoryChildren.includes(waypoint_uuid);\n                \n                // Handle in the case where the trajectory is focused\n                let color = {...DEFAULT_WAYPOINT_COLOR};\n                //console.log(item.joints.reachable);\n                if (this.frame === 'performance' && !item.joints.reachable){//pose, frame, focused, locationOrWaypoint\n                    //console.log(\"entered\");\n                    color = {...UNREACHABLE_COLOR};\n                } else if (this.frame === 'safety' && occupancyOverlap(item.position,this.data.occupancyZones)) {\n                    color = {...OCCUPANCY_ERROR_COLOR};\n                }\n                if (trajectoryFocused) {\n                    const idx = focusedTrajectoryChildren.indexOf(waypoint_uuid);\n                    color.a = (time)=>0.5*Math.pow(Math.E,-Math.sin(time/800+idx*0.98)); \n                }\n\n                const debouncedOnMove = debounce(transform=>{\n                    this.setPoseTransform(waypoint_uuid,transform);\n                    this.requestJointProcessorUpdate('waypoint',waypoint_uuid)\n                },1000)\n\n                poseDataToShapes(item, this.frame).forEach(shape => {\n                   // color.a = (time) => 0.5*Math.pow(Math.E,-Math.sin(time/800+i*0.3));\n                    items[shape.uuid] = { \n                        ...shape, \n                        highlighted: focused, \n                        hidden: !focused && !trajectoryFocused, \n                        color,\n                        transformMode: shape.uuid.includes('pointer') && focused ? this.focusItem.transformMode : \"inactive\",\n                        onMove: shape.uuid.includes('pointer') && focused && this.focusItem.transformMode !== 'inactive' ? debouncedOnMove : (_)=>{}\n                    };\n                    \n                    \n                })\n            })\n            return items\n        },\n        lines: function () {\n            \n            const lines = {};\n            Object.values(this.data.trajectories).forEach(trajectory=>{\n                const hidden = this.focusItem.uuid !== trajectory.uuid && this.secondaryFocusItem.uuid !== trajectory.uuid;\n                let poses = []\n                if (trajectory.start_location_uuid) {\n                    poses.push(this.data.locations[trajectory.start_location_uuid])\n                }\n                trajectory.waypoint_uuids.forEach(waypoint_uuid=>{\n                    poses.push(this.data.waypoints[waypoint_uuid])\n                })\n                if (trajectory.end_location_uuid) {\n                    poses.push(this.data.locations[trajectory.end_location_uuid])\n                }\n                const vertices = poses.map(pose=>{\n                    let color = {...DEFAULT_TRAJECTORY_COLOR};\n                    //console.log(item.joints.reachable);\n                    if (this.frame === 'performance' && !pose.joints.reachable){//pose, frame, focused, locationOrWaypoint\n                        //console.log(\"entered\");\n                        color = {...UNREACHABLE_COLOR};\n                    } else if (this.frame === 'safety' && occupancyOverlap(pose.position,this.data.occupancyZones)) {\n                        color = {...OCCUPANCY_ERROR_COLOR};\n                    }\n                    return {\n                        position:pose.position,\n                        color\n                    }\n                })\n                lines[trajectory.uuid] = {name:trajectory.name,vertices,frame:'world',hidden,width:2}\n            })\n            return lines\n        },\n        hulls: function() {\n            return {}\n        },\n    },\n}","// import create from 'zustand'\nimport create from 'zustand-store-addons';\nimport produce from \"immer\";\nimport { persist } from \"zustand/middleware\"\nimport {GuiSlice} from './GuiSlice';\nimport {ReviewSlice} from './ReviewSlice';\nimport {EvdSlice} from './EvdSlice';\nimport {RosSlice} from './RosSlice';\n// import {SceneSlice} from 'robot-scene';\nimport {ComputedSlice} from './ComputedSlice';\n// import {WatchedSlice} from './WatchedSlice';\n// import { computed } from 'zustand-middleware-computed-state';\n// import {SimSlice} from './SimSlice';\n\n// import { INITIAL_SIM } from \"./initialSim\";\n// import fakeEvdData from './fakeEvdData';\n// import KNIFE_TASK from './knifeTask';\nimport KnifeAssembly from './Knife_Assembly.json';\n\nconst immer = (config) => (set, get, api) =>\n  config(\n    (partial, replace) => {\n      const nextState =\n        typeof partial === \"function\" ? produce(partial) : partial;\n      return set(nextState, replace);\n    },\n    get,\n    api\n);\n\nconst store = (set, get) => ({\n    ...GuiSlice(set,get),\n    ...ReviewSlice(set,get),\n    ...EvdSlice(set,get),\n    ...RosSlice(set,get),\n})\n\n// const useStore = create(store,{...ComputedSlice,middleware:[immer,persist]});\nconst useStore = create(store,{...ComputedSlice,middleware:[immer]});\n\n// useStore.getState().setProgram(fakeEvdData.arbitrary.program);\nuseStore.getState().setProgram(KnifeAssembly)\n// console.log(KNIFE_TASK.environment.trajectories[0])\nuseStore.getState().setUrl('ws://localhost:9090');\n\nexport default useStore;","import ROSLIB from '@robostack/roslib';\n// import { generateUuid } from './generateUuid';\nimport { typeToKey } from './helpers';\n\nexport const RosSlice = (set, get) => ({\n    url: 'ws://localhost:9090',\n    // SetURL resets ROS\n    setUrl: (url) => set((_) => ({ url: url, connection: 'disconnected' })),\n    ros: null,\n    connection: 'disconnected',\n    updateProgramTopic: null,\n    // updateTfsTopic: null,\n    configureProgramProcessorsTopic: null,\n    jointProcessorRequestTopic: null,\n    jointProcessorResponseTopic: null,\n    traceProcessorRequestTopic: null,\n    traceProcessorResponseTopic: null,\n    onConnection: () => {\n        set((_) => ({ connection: 'connected' }))\n        const configuration = {\n            occupancy_zones:Object.values(get().data.occupancyZones).filter(zone => zone.occupancy_type === \"human\"),\n            collision_meshes:Object.values(get().data.collisionMeshes),\n            pinch_points:[]\n        }\n        console.log(configuration)\n        get().configureProgramProcessorsTopic.publish({data:JSON.stringify(configuration)});\n        setTimeout(get().doBulkJointRequest(),5000);\n    },\n    onError: () => set((_) => ({ connection: 'disconnected' })),\n    onClose: () => set((_) => ({ connection: 'disconnected' })),\n    connect: () => {\n        const ros = new ROSLIB.Ros({ url: get().url });\n        ros.on('connection', get().onConnection);\n        ros.on('error', get().onError);\n        ros.on('close', get().onClose);\n\n        const updateProgramTopic = new ROSLIB.Topic({\n            ros: ros,\n            name: 'program/update',\n            messageType: 'std_msgs/String'\n        });\n\n        // const updateTfsTopic = new ROSLIB.Topic({\n        //     ros: ros,\n        //     name: 'tf',\n        //     messageType: 'tf2_msgs/TFMessage'\n        // });\n\n        const configureProgramProcessorsTopic = new ROSLIB.Topic({\n            ros: ros,\n            name: 'program/configure/processors',\n            messageType: 'std_msgs/String'\n        });\n\n        const jointProcessorRequestTopic = new ROSLIB.Topic({\n            ros: ros,\n            name: 'program/request/joints',\n            messageType: 'evd_ros_core/Job'\n        });\n\n        const jointProcessorResponseTopic = new ROSLIB.Topic({\n            ros: ros,\n            name: 'program/submit/joints',\n            messageType: 'evd_ros_core/Job'\n        })\n\n        const traceProcessorRequestTopic = new ROSLIB.Topic({\n            ros: ros,\n            name: 'program/request/trace',\n            messageType: 'evd_ros_core/Job'\n        });\n\n        const traceProcessorResponseTopic = new ROSLIB.Topic({\n            ros: ros,\n            name: 'program/submit/trace',\n            messageType: 'evd_ros_core/Job'\n        })\n\n        // const updateTfsFn = get().updateFromTfs;\n        const handleJointProcessorResponseFn = get().updateJointFromProcessor;\n        const handleTraceProcessorResponseFn = get().updateTraceFromProcessor;\n        // updateTfsTopic.subscribe(updateTfsFn);\n        jointProcessorResponseTopic.subscribe(handleJointProcessorResponseFn)\n        traceProcessorResponseTopic.subscribe(handleTraceProcessorResponseFn)\n\n        ros.connect();\n        set(() => ({\n            connection: 'connecting',\n            ros,\n            configureProgramProcessorsTopic,\n            jointProcessorRequestTopic,\n            jointProcessorResponseTopic,\n            traceProcessorRequestTopic,\n            traceProcessorResponseTopic,\n            updateProgramTopic,\n            // updateTfsTopic\n        }))\n    },\n    updateJointAndTraceData: (uuid, joint, trace) => set(state => {\n        const { pybullet_frame_data } = trace;\n        if (state.data.locations[uuid]) {\n            state.data.locations[uuid].frames = pybullet_frame_data;\n            state.data.locations[uuid].joints = joint;\n        } else if (state.data.waypoints[uuid]) {\n            state.data.waypoints[uuid].frames = pybullet_frame_data;\n            state.data.waypoints[uuid].joints = joint;\n        }\n    }),\n    updateJointFromProcessor: (msg) => {\n        const { joint, trace, status } = JSON.parse(msg.data);\n        console.log('receiving joint data from processor')\n        console.log({ joint, trace })\n        if (status) {\n            get().updateJointAndTraceData(msg.id, joint, trace);\n            Object.values(get().data.trajectories).forEach(trajectory => {\n                if (trajectory.start_location_uuid === msg.id ||\n                    trajectory.end_location_uuid === msg.id ||\n                    trajectory.waypoint_uuids.includes(msg.id)) {\n                    get().requestTraceProcessorUpdate(trajectory.uuid)\n                }\n            })\n        }\n\n    },\n    updateTraceFromProcessor: (msg) => set((state) => {\n        const { input, trace, status } = JSON.parse(msg.data);\n        console.log('receiving trace data from processor')\n        console.log({input,trace,status})\n        if (status) {\n            const { \n                duration, time_data, pybullet_joint_data, \n                pybullet_collisions, pybullet_self_collisions, \n                pybullet_frame_data, postprocess_occupancy} = trace;\n            if (state.data.trajectories[msg.id]) {\n                state.data.trajectories[msg.id].trace = {\n                    duration,\n                    time_data,\n                    joint_data:pybullet_joint_data,\n                    frames:pybullet_frame_data,\n                    env_collisions:pybullet_collisions,\n                    self_collisions:pybullet_self_collisions,\n                    occupancy:postprocess_occupancy,\n                    pinch_points:null\n                }\n            }\n        }\n    }),\n    requestJointProcessorUpdate: (type, uuid) => {\n        const poseInfo = get().data[typeToKey(type)][uuid];\n        const msg = { id: uuid, data: JSON.stringify({ point: poseInfo }) };\n        if (get().connection === 'connected') {\n            console.log('Requesting processing for joint ' + uuid)\n            get().jointProcessorRequestTopic.publish(msg);\n        } else {\n            console.log('Disregarding processor request due to null ROS connection')\n        }\n    },\n    doBulkJointRequest: () => {\n        Object.keys(get().data.locations).forEach(location => get().requestJointProcessorUpdate('location', location));\n        Object.keys(get().data.waypoints).forEach(waypoint => get().requestJointProcessorUpdate('waypoint', waypoint))\n    },\n    requestTraceProcessorUpdate: (uuid) => {\n        let trajectoryInfo = { ...get().data.trajectories[uuid] };\n        trajectoryInfo.trace = null;\n        let points = [];\n        if (trajectoryInfo.start_location_uuid) {\n            const location = get().data.locations[trajectoryInfo.start_location_uuid]\n            if (!location.joints?.reachable) {\n                return\n            }\n            points.push(location)\n        } else {\n            return\n        }\n        trajectoryInfo.waypoint_uuids.forEach(waypoint_uuid => {\n            const waypoint = get().data.waypoints[waypoint_uuid];\n            if (!waypoint.joints?.reachable) { return };\n            points.push(waypoint)\n        })\n        if (trajectoryInfo.end_location_uuid) {\n            const location = get().data.locations[trajectoryInfo.end_location_uuid]\n            if (!location.joints?.reachable) { return }\n            points.push(location)\n        } else {\n            return\n        }\n        const msg = {\n            id: uuid, data: JSON.stringify({\n                trajectory: trajectoryInfo,\n                points\n            })\n        };\n        if (get().connection === 'connected') {\n            console.log('Requesting processing for trajectory ' + uuid)\n            get().traceProcessorRequestTopic.publish(msg);\n        } else {\n            console.log('Disregarding processor request due to null ROS connection')\n        }\n    }\n});","import React, {useCallback} from 'react';\nimport { Space, List, Avatar, Switch, Button } from 'antd';\nimport { EllipsisOutlined, StopOutlined, ExclamationOutlined } from '@ant-design/icons';\nimport useStore from '../../stores/Store';\n\nexport const ReviewIssue = ({issueId}) => {\n\n    const issue = useStore(useCallback(state=>state.issues[issueId],[issueId]));\n    const [setIssueCompletion,setFocusItem,primaryColor,secondaryFocusItem,setSecondaryFocusItem] = useStore(state=>([state.setIssueCompletion,state.setFocusItem,state.primaryColor, state.secondaryFocusItem, state.setSecondaryFocusItem]));\n\n    return (\n    <List.Item \n        extra={\n            <Space direction='vertical' align='center'>\n                {!issue.requiresChanges && (\n                    <Switch size='small' disabled={issue.requiresChanges} defaultChecked={issue.complete} onChange={()=>{!issue.requiresChanges && setIssueCompletion(issueId,!issue.complete)}}/>\n                )}\n                {issue.focus && <Button onClick={()=>{setFocusItem(issue.focus.type,issue.focus.uuid);setSecondaryFocusItem('issue',issueId)}} icon={<EllipsisOutlined/>}/>}\n            </Space>\n        }\n        style={{\n            borderRadius: 3,\n            boxShadow: secondaryFocusItem.uuid === issueId ? `inset 0pt 0pt 1pt 1pt ${primaryColor}` : null,\n            backgroundColor: secondaryFocusItem.uuid === issueId ? `${primaryColor}22` : '#1f1f1f',\n            margin: 5, padding: 10\n        }}\n        >\n        <List.Item.Meta \n            style={{marginRight:10}}\n            avatar={<Avatar style={{backgroundColor: issue.requiresChanges ? '#a61d24' : 'grey'}} icon={issue.requiresChanges ? <StopOutlined style={{fontSize:20}}/> : <ExclamationOutlined style={{fontSize:20}}/>}/>} \n            title={issue.title} \n            description={issue.requiresChanges?'Please reconfigure the item to remove this error':'Check to dismiss'}/>\n    </List.Item>\n    )\n}","import React, {useCallback} from 'react';\n\nimport { List, Switch, Collapse, Row, Space } from 'antd';\nimport { CaretRightOutlined } from '@ant-design/icons';\n\nimport { ReviewIssue } from './ReviewIssue';\nimport useStore from '../../stores/Store';\n\nimport { FrameButton } from '../FrameButton';\n\nimport frameStyles from '../../frameStyles';\n\nimport './custom.css'\n\nconst isComplete = (state, sectionId) => (state.sections[sectionId].issues.map(issueId=>state.issues[issueId]).filter(issue=>!issue.complete).length === 0);\n\nconst FRAMES = [\n    { key: 'safety', title: 'Safety Concerns', sections: ['endEffectorPoses', 'thingMovement', 'pinchPoints', 'collisions', 'occupancy'] },\n    { key: 'quality', title: 'Program Quality', sections: ['missingBlocks', 'missingParameters', 'unusedSkills', 'unusedFeatures', 'emptyBlocks'] },\n    { key: 'performance', title: 'Robot Performance', sections: ['reachability', 'jointSpeed', 'endEffectorSpeed', 'payload', 'spaceUsage'] },\n    { key: 'business', title: 'Business Objectives', sections: ['cycleTime', 'idleTime', 'returnOnInvestment'] },\n]\nconst sectionFrame = (sectionId) => FRAMES.filter(filter=>filter.sections.indexOf(sectionId)>-1)[0].key\n\nexport function ReviewSection({sectionId, blocked, initialBlocked}) {\n  \n  const [frame, setFrame] = useStore(state=>([state.frame,state.setFrame]));\n  const [name, issueIds, complete, dependencies, depNames, depFrames] = useStore(useCallback(state=>{\n    const name = state.sections[sectionId].name;\n    const issueIds = state.sections[sectionId].issues;\n    const complete = isComplete(state,sectionId);\n    const dependencies = initialBlocked ? state.sections[sectionId].dependencies.filter(dep=>!isComplete(state,dep)) : [];\n    const depNames = dependencies.map(dep=>state.sections[dep].name);\n    const depFrames = dependencies.map(dep=>sectionFrame(dep));\n    return [name, issueIds, complete, dependencies, depNames, depFrames];\n  },\n  [sectionId, initialBlocked]))\n\n  return (\n    <List.Item style={{margin:0,padding:0}}>\n        <Space direction='vertical' style={{width:'100%'}}>\n            {dependencies.map((dep,i)=>(\n                <Row \n                    key={dep} \n                    align='middle'\n                    justify='space-between'\n                    style={{\n                        padding:10,\n                        marginBottom:0,marginTop:10,marginLeft:5,marginRight:5,\n                        borderRadius:4,\n                        border: `1px solid ${frameStyles.colors[depFrames[i]]}`,\n                        backgroundColor:`${frameStyles.colors[depFrames[i]]}44`}}>\n                        <span style={{marginRight:20}}>Resolve <b>{depNames[i]}</b> before continuing</span>\n                        {(frame !== depFrames[i]) && (<FrameButton frame={depFrames[i]} active={false} text={`Go to ${FRAMES[i].title}`} onClick={()=>setFrame(depFrames[i])}/>)}\n                </Row>\n            ))}\n            <Collapse\n                collapsible={!blocked ? null : 'disabled'} \n                expandIcon={({ isActive }) => <CaretRightOutlined style={{color:'white'}} rotate={isActive ? 90 : 0} />}\n                style={{\n                    flex:1, \n                    borderRadius: 3,\n                    opacity: !blocked ? 1 : 0.5,\n                    backgroundColor: '#1f1f1f',\n                    marginTop: 5, marginLeft: 5, marginRight: 5, marginBottom:0}}\n                expandIconPosition='right'\n            >\n                <Collapse.Panel style={{margin:0}} header={<span style={{color:'white'}}>{name}</span>} key=\"1\" extra={<Switch checkedChildren='Done!' checked={complete}/>}>\n                    <List\n                        split={false}\n                        dataSource={issueIds}\n                        renderItem={(issue)=>(\n                            <ReviewIssue key={issue} issueId={issue}/>\n                        )}\n                    />\n                </Collapse.Panel>\n            </Collapse>\n        </Space>\n    </List.Item>\n  );\n};","import React from 'react';\nimport { List, Card, Space, Button } from 'antd';\nimport { SyncOutlined } from '@ant-design/icons';\n\nimport { FrameButton } from '../FrameButton';\n\nimport frameStyles from '../../frameStyles';\nimport useStore from '../../stores/Store';\nimport shallow from 'zustand/shallow';\nimport { ReviewSection } from '../Review/ReviewSection';\n\nconst isComplete = (state, sectionId) => (state.sections[sectionId].issues.map(issueId=>state.issues[issueId]).filter(issue=>!issue.complete).length === 0);\nconst isBlocked = (state, sectionId) => (state.sections[sectionId].dependencies.filter(dep=>!isComplete(state,dep)).length > 0)\n\nconst FRAMES = [\n    { key: 'safety', title: 'Safety Concerns', sections: ['endEffectorPoses', 'thingMovement', 'pinchPoints', 'collisions', 'occupancy'] },\n    { key: 'quality', title: 'Program Quality', sections: ['missingBlocks', 'missingParameters', 'unusedSkills', 'unusedFeatures', 'emptyBlocks'] },\n    { key: 'performance', title: 'Robot Performance', sections: ['reachability', 'jointSpeed', 'endEffectorSpeed', 'payload', 'spaceUsage'] },\n    { key: 'business', title: 'Business Objectives', sections: ['cycleTime', 'idleTime', 'returnOnInvestment'] },\n]\n\nexport const ReviewTile = (_) => {\n    const [frameId, setFrame, refresh, blockages ] = useStore(state => ([\n        state.frame, \n        state.setFrame,\n        state.refresh,\n        FRAMES.map(frameInfo=>Math.min(...frameInfo.sections.map((sectionId,idx)=>isBlocked(state,sectionId)?idx:100)))\n    ]), shallow);\n    \n    const frameIdx = FRAMES.map(frame=>frame.key).indexOf(frameId);\n\n    return (\n        <div style={{ height: '100%', paddingLeft: 10, paddingRight: 10, paddingBottom: 10, display: 'flex', flexDirection: 'column' }}>\n            <Space style={{ flexDirection: 'row', display: 'flex', justifyContent: 'space-between', margin: 5 }}>\n                {FRAMES.map(frame => (\n                    <FrameButton\n                        key={frame.key}\n                        onClick={() => setFrame(frame.key)}\n                        frame={frame.key}\n                        active={frameId === frame.key}\n                        text={frame.title} />\n                ))}\n            </Space>\n            <Card\n                extra={<Button icon={<SyncOutlined/>} onClick={refresh}>Refresh</Button>}\n                style={{ flex: 1 }}\n                bodyStyle={{ padding: 0, height:'calc(100vh - 150pt)',overflow:'auto'}}\n                title=\"Review\"\n            >\n                <div style={{ height: '100%', borderWidth: 5, borderColor: frameStyles.colors[frameId] }}>\n                    <List\n                        split={false}\n                        dataSource={FRAMES[frameIdx].sections}\n                        renderItem={(section,idx) => (\n                            <ReviewSection sectionId={section} blocked={idx >= blockages[frameIdx]} initialBlocked={idx === blockages[frameIdx]}/>\n                        )}\n                    />\n                </div>\n            </Card>\n        </div>\n    );\n};","import React from 'react';\n\nimport { CaretRightFilled, PauseOutlined, RollbackOutlined, FullscreenExitOutlined, FullscreenOutlined, EllipsisOutlined } from '@ant-design/icons';\nimport { Button, Space, Tooltip, Popover, Checkbox, Col, Row } from 'antd';\n\nimport useStore from '../stores/Store';\nimport shallow from 'zustand/shallow';\n\nexport function Controls() {\n\n  const [\n    simMode, setSimMode,\n    collisionsVisible, setCollisionsVisible,\n    occupancyVisible, setOccupancyVisible\n  ] = useStore(state => ([state.simMode, state.setSimMode, state.collisionsVisible, state.setCollisionsVisible, state.occupancyVisible, state.setOccupancyVisible]), shallow)\n\n  return (\n\n    <Space>\n      <Tooltip placement=\"top\" title={simMode === 'default' ? \"Expand\" : \"Shrink\"}>\n        <Button\n          type=\"outline\"\n          icon={simMode === 'default' ? <FullscreenOutlined /> : <FullscreenExitOutlined />}\n          onClick={() => setSimMode(simMode === 'default' ? 'expanded' : 'default')}\n        />\n      </Tooltip>\n      <Tooltip placement=\"top\" title=\"Play\">\n        <Button\n          type=\"outline\"\n          icon={<CaretRightFilled />}\n          onClick={() => console.log('PLAY')}\n        />\n      </Tooltip>\n      <Tooltip placement=\"top\" title=\"Pause\">\n        <Button\n          type=\"outline\"\n          icon={<PauseOutlined />}\n          onClick={() => console.log('PAUSE')}\n        />\n      </Tooltip>\n      <Tooltip placement=\"top\" title=\"Refresh\">\n        <Button\n          type=\"outline\"\n          icon={<RollbackOutlined />}\n          onClick={() => console.log('REFRESH')}\n        />\n      </Tooltip>\n      <Popover\n        title=\"Configure\"\n        placement=\"bottomRight\"\n        content={\n          <Col>\n            <Row>\n              <Checkbox\n                checked={collisionsVisible}\n                onChange={() => setCollisionsVisible(!collisionsVisible)}\n              >\n                Show Collisions\n              </Checkbox>\n            </Row>\n            <Row>\n              <Checkbox\n                checked={occupancyVisible}\n                onChange={() => setOccupancyVisible(!occupancyVisible)}\n              >\n                Show Human Occupancy\n              </Checkbox>\n            </Row>\n          </Col>\n        }\n      >\n        <Button\n          type=\"outline\"\n          icon={<EllipsisOutlined />}\n        />\n      </Popover>\n\n    </Space>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Blurb = styled.div`\n    display:block;\n    background: rgba(100,100,100,0.2);\n    padding: 15px 20px 15px 45px;\n    border-radius: 4px;\n    margin: 0 0 10px;\n    position: relative;\n\n    /*Font*/\n    // font-family: Georgia, serif;\n    font-size: 16px;\n    line-height: 1.2;\n    color: #999;\n    // text-align: justify;\n\n    /*Borders - (Optional)*/\n    border-left: 15px solid ${props=>props.highlight} ;\n    // border-right: 2px solid ${props=>props.highlight} ;\n    \n`;","import React from 'react';\n// import { Tooltip } from 'antd';\nimport { Blurb } from './Blurb';\n\nconst ROBOT_DATA = {\n    name: \"Robot\",\n    description: \"The robot that can be programmed. This is a UR3e Series that can carry 3kg of payload.\"\n}\nconst GRIPPER_DATA = {\n    name: \"Gripper\",\n    description: \"The gripper of the robot. This is a 2-finger Robotiq 85 gripper.\"\n}\n\nconst INFO = {\n    table: {\n        name: \"Table\",\n        description: \"The table is the main workspace of the program.\"\n    },\n    // box: {\n    //     name: \"Box\",\n    //     description: \"The box is where finished products are placed.\"\n    // },\n    pedestal: {\n        name: \"Pedestal\",\n        description: \"The movable base that the robot is attached to.\"\n    },\n    printer: {\n        name: '3D Printer',\n        description: \"This is a 3D printer capable of producing certain parts for assembly.\"\n    },\n    bladeConveyor: {\n        name: 'Blade Production Conveyor Belt',\n        description: 'This device produces the blades, and deposits them into the Conveyor Belt Blade Receiver'\n    },\n    knifeConveyor: {\n        name: 'Knife Output Conveyor Belt',\n        description: 'This device receives the finished blades from the Conveyor Belt Knife Dispatcher'\n    },\n    conveyorDispatcher: {\n        name: 'Conveyor Belt Knife Dispatcher',\n        description: 'This device can receive a finished knife (with or without the Transport Jig, and dispatches the knife to the Knife Output Conveyor Belt.'\n    },\n    conveyorReceiver: {\n        name: 'Conveyor Belt Blade Receiver',\n        description: 'This device can receive a blade from the Blade Production Conveyor Belt, and if a Transport Jig is loaded, can deposit it into the jig on receipt.'\n    },\n    assemblyJig: {\n        name: 'Assembly Jig',\n        description: 'This device takes in a Blade, a Left Handle, a Right Handle, and optionally a Transport Jig, producing a finished Knife (in the transport jig if provided).'\n    },\n    robotBase: ROBOT_DATA,\n    robotShoulderLink: ROBOT_DATA,\n    robotUpperArmLink: ROBOT_DATA,\n    robotForearmLink: ROBOT_DATA,\n    robotWrist1Link: ROBOT_DATA,\n    robotWrist2Link: ROBOT_DATA,\n    robotWrist3Link: ROBOT_DATA,\n    gripperBaseLink: GRIPPER_DATA,\n    gripperLeftKnuckle: GRIPPER_DATA,\n    gripperRightKnuckle: GRIPPER_DATA,\n    gripperLeftFinger: GRIPPER_DATA,\n    gripperRightFinger: GRIPPER_DATA,\n    gripperLeftInnerKnuckle: GRIPPER_DATA,\n    gripperRightInnerKnuckle: GRIPPER_DATA,\n    gripperLeftFingerTip: GRIPPER_DATA,\n    gripperRightFingerTip: GRIPPER_DATA\n}\n\nexport function getSceneInfo({editorPane,setupTab,frame,primaryColor,focusData,secondaryFocusData,currentIssue}) {\n    // console.log(focusData)\n    let tabs = [];\n    if (currentIssue) {\n        tabs.push(\n            {\n                title: currentIssue.title, \n                contents:<div>\n                    <Blurb highlight={primaryColor}>\n                        <h3>{currentIssue.description}</h3>\n                        {currentIssue.requiresChanges && (\n                            <span>\n                                <br></br>\n                                <br></br>\n                                <i>Since this issue is required, you will need to address this issue in order to simulate.</i>\n                            </span>\n                        )}\n                    </Blurb>\n                </div>\n            }\n        )\n    }\n    tabs.push(\n        {\n            title:<span>{INFO[focusData.uuid].name}</span>,\n            contents:<div>\n                {focusData && (\n                    <Blurb highlight=\"rgb(50,50,50)\">\n                        <h3>About the {INFO[focusData.uuid].name}</h3>\n                        {INFO[focusData.uuid].description}\n                    </Blurb>\n                )}\n            </div>\n        }\n    );\n    return tabs;\n}","import React, {useState} from 'react';\nimport { Row, Button } from 'antd';\nimport useStore from '../../stores/Store';\nimport shallow from 'zustand/shallow';\nimport { typeToKey } from '../../stores/helpers';\nimport { getSceneInfo } from '../ContextualInfo/Scene';\nimport { getLocationInfo } from '../ContextualInfo/Locations';\nimport { getWaypointInfo } from '../ContextualInfo/Waypoints';\nimport { getMachineInfo } from '../ContextualInfo/Machines';\nimport { getThingInfo } from '../ContextualInfo/Things';\nimport { getProgramInfo } from '../ContextualInfo/ProgramBlock';\nimport { getSkillInfo } from '../ContextualInfo/SkillBlock';\nimport { getPrimitiveInfo } from '../ContextualInfo/PrimitiveBlock';\nimport { getTrajectoryInfo } from '../ContextualInfo/TrajectoryBlock';\nimport { getPlotInfo } from '../ContextualInfo/Plots';\n\nexport function InfoTile(_) {\n\n    const [\n        focusItem,\n        activeDrawer,\n        frame,\n        primaryColor,\n        focusData,\n        secondaryFocusData,\n        currentIssue\n    ] = useStore(state=>{\n\n        let focusData = null;\n        let secondaryFocusData = null;\n        let currentIssue = null;\n        if (state.focusItem.type === 'scene') {\n            focusData = {uuid:state.focusItem.uuid,type:state.focusItem.type}\n        } else if (state.focusItem.type === 'program') {\n            focusData = {uuid:state.uuid,name:state.name,description:state.description}\n        } else if (state.focusItem.type) {\n            focusData = state.data[typeToKey(state.focusItem.type)][state.focusItem.uuid]\n        } \n        if (state.secondaryFocusItem.type && state.secondaryFocusItem.type !== \"issue\") {\n            secondaryFocusData = state.data[typeToKey(state.secondaryFocusItem.type)][state.secondaryFocusItem.uuid]\n        } else if (state.secondaryFocusItem.type === \"issue\") {\n            currentIssue = state.issues[state.secondaryFocusItem.uuid]\n        }\n\n        return [\n            state.focusItem,\n            state.activeDrawer,\n            state.frame,\n            state.primaryColor,\n            focusData,\n            secondaryFocusData,\n            currentIssue\n        ]\n    }, shallow)\n\n    const [currentTab, setCurrentTab] = useState(0);\n\n    let tabs = [\n        {\n            title: 'No Data',\n            contents: <div></div>\n        }\n    ]\n\n    const issueParams = {activeDrawer,frame,primaryColor,focusData,secondaryFocusData,currentIssue}\n\n    if (focusItem.type === 'scene') {\n        tabs = getSceneInfo(issueParams)\n    } else if (focusItem.type === 'location' || (activeDrawer === 'locations')) {\n        tabs = getLocationInfo(issueParams)\n    } else if (focusItem.type === 'waypoint' || (activeDrawer === 'waypoints')) {\n        tabs = getWaypointInfo(issueParams)\n    } else if (focusItem.type === 'machine' || (activeDrawer === 'machines')) {\n        tabs = getMachineInfo(issueParams)\n    } else if (focusItem.type === 'thing' || (activeDrawer === 'things')) {\n        tabs = getThingInfo(issueParams)\n    } else if (focusItem.type === 'program' || activeDrawer === null) {\n        tabs = getProgramInfo(issueParams)\n    } else if (focusItem.type === 'skill') {\n        tabs = getSkillInfo(issueParams)\n    } else if (focusItem.type === 'primitive') {\n        tabs = getPrimitiveInfo(issueParams)\n    } else if (focusItem.type === 'trajectory') {\n        tabs = getTrajectoryInfo(issueParams)\n    } \n\n    if (currentIssue && currentIssue.graphData) {\n        let temp = getPlotInfo(issueParams);\n        tabs = tabs.concat(temp);\n    }\n\n    return (\n        <div style={{height:'calc(100vh - 494pt)',backgroundColor:'rgba(100,100,100,0.3)', padding: 10, borderRadius: 3}}>\n            <Row style={{margin:6}}>\n                {tabs.map((tab,i)=>\n                    (i===currentTab || (i===0 && currentTab >= tabs.length) ? (\n                        <div \n                          key={i}\n                          align='center'\n                          style={{\n                            borderRadius:2,\n                            fontFamily:'inherit',\n                            fontWeight:400,\n                            height:32,\n                            display:'inline-block',\n                            textAlign:'center',\n                            backgroundColor:primaryColor,\n                            fontVariant: 'tabular-nums',\n                            lineHeight: 1.5715,\n                            padding:'6px 15px',\n                            marginRight:10,\n                            fontSize:14}}>\n                            {tab.title}\n                        </div>\n                    ) : (\n                        <Button \n                            key={i}\n                            style={{marginRight:10}}\n                            type='ghost'\n                            onClick={()=>setCurrentTab(i)}>{tab.title}\n                        </Button>\n                    ))\n                )}\n            </Row>\n            <div style={{height:'calc(100vh - 546pt)',backgroundColor:'rgba(0,0,0,0.6)', marginTop:10, padding: 10, borderRadius: 3, color:'white', overflowY:'scroll'}}>\n                {tabs[currentTab] ? tabs[currentTab].contents : tabs[0].contents}\n            </div>\n        </div>\n    )\n}\n","import React from 'react';\nimport { Tooltip } from 'antd';\nimport { Blurb } from './Blurb';\n\nexport function getLocationInfo({frame,primaryColor,focusData,currentIssue}) {\n    let tabs = [];\n    if (currentIssue) {\n        tabs.push(\n            {\n                title: currentIssue.title, \n                contents:<div>\n                    <Blurb highlight={primaryColor}>\n                        <h3>{currentIssue.description}</h3>\n                        {currentIssue.description.includes('reachable') && (\n                        <span>\n                            <br></br>Given the <Tooltip placement=\"top\" title=\"The physical structure (joints and links) and how they impact the movement of the robot\"><span style={{color:primaryColor}}>kinematics</span></Tooltip> and placement of the robot, certain locations or waypoints may not be reachable. \n                            Much like how reaching around to touch your back may be difficult (even if the location is clearly close to your body), \n                            robots can encounter difficulties accessing certain positions or orientations in the work cell. \n                            We have identified that the specific location you specified is not reachable either because it is too far from the robot base \n                            (the robot simply cannot reach that far away), or because the position is not able to be reached in that orientation.\n                        </span>\n                        )}\n                        {currentIssue.requiresChanges && (\n                            <span>\n                                <br></br>\n                                <br></br>\n                                <i>Since this location is used in the program, you will need to address this issue in order to simulate the program, since it would prevent the robot from performing motions that use it.</i>\n                            </span>\n                        )}\n                    </Blurb>\n                </div>\n            }\n        )\n    }; \n    tabs.push(\n        {\n            title:<span>{focusData ? focusData.name : 'Locations'}</span>,\n            contents:<div>\n                {focusData && (\n                    <Blurb highlight=\"rgb(50,50,50)\">\n                        <h3>About this Location</h3>\n                        {focusData.description}\n                    </Blurb>\n                )}\n                <Blurb highlight=\"rgb(50,50,50)\">\n                    <h3>What are Locations?</h3>\n                    Locations are meaningful positions in the scene. For example, they can be used to define goals for placing or picking up \n                    <Tooltip placement=\"top\" title=\"A part or piece that has been defined in the setup tab. These may be created, consumed, or modified by machines\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Things\n                        </span>\n                    </Tooltip>, or specifying starting or ending positions for the robot.\n                </Blurb>\n                \n                {frame === 'safety' && (\n                    <Blurb highlight={primaryColor}>\n                        <h3 style={{color:primaryColor}}>Safety Concerns</h3>\n                        Pay special attention to placing locations around the occupancy zone of the human, since this is more likely to result in undesirable conflicts between the human and the robot.\n                    </Blurb>\n                )}\n                {frame === 'performance' && (\n                    <Blurb highlight={primaryColor}>\n                        <h3 style={{color:primaryColor}}>Robot Performance</h3>\n                        Pay special attention to the distances between start and end locations when creating trajectories. When spaced out far between one another, you may have less control over the way that the robot moves between the two locations, resulting in suboptimal results. Consider adding waypoints between them for greater control.\n                    </Blurb>\n                )}\n            </div>\n        }\n    )\n    return tabs\n}","import React from 'react';\nimport { Tooltip } from 'antd';\nimport { Blurb } from './Blurb';\n\nexport function getWaypointInfo({frame,primaryColor,focusData,currentIssue}) {\n    let tabs = [];\n    if (currentIssue) {\n        tabs.push(\n            {\n                title: currentIssue.title, \n                contents:<div>\n                    <Blurb highlight={primaryColor}>\n                        <h3>{currentIssue.description}</h3>\n                        {currentIssue.description.includes('reachable') && (\n                        <span>\n                            <br></br>Given the <Tooltip placement=\"top\" title=\"The physical structure (joints and links) and how they impact the movement of the robot\"><span style={{color:primaryColor}}>kinematics</span></Tooltip> and placement of the robot, certain locations or waypoints may not be reachable. \n                            Much like how reaching around to touch your back may be difficult (even if the waypoint is clearly close to your body), \n                            robots can encounter difficulties accessing certain positions or orientations in the work cell. \n                            We have identified that the specific waypoint you specified is not reachable either because it is too far from the robot base \n                            (the robot simply cannot reach that far away), or because the position is not able to be reached in that orientation.\n                        </span>\n                        )}\n                        {currentIssue.requiresChanges && (\n                            <span>\n                                <br></br>\n                                <br></br>\n                                <i>Since this waypoint is used in the program, you will need to address this issue in order to simulate the program, since it would prevent the robot from performing motions that use it.</i>\n                            </span>\n                        )}\n                    </Blurb>\n                </div>\n            }\n        )\n    }\n    tabs.push(\n        {\n            title:<span>{focusData ? focusData.name : 'Waypoints'}</span>,\n            contents:<div>\n                {focusData && (\n                    <Blurb highlight=\"rgb(50,50,50)\">\n                        <h3>About this Waypoint</h3>\n                        {focusData.description}\n                    </Blurb>\n                )}\n                <Blurb highlight=\"rgb(50,50,50)\">\n                    <h3>What are Waypoints?</h3>\n                    Waypoints are positions and orientations that are used as parts of\n                    <Tooltip placement=\"top\" title=\"A specification of the robot's motion, utilizing a starting and ending Location, as well as a sequence of transitional waypoints between them. These are specified within the Program Editor as a block.\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Trajectories\n                        </span>\n                    </Tooltip>, and unlike Locations, do not have inherent meaning other than to allow greater specificity of the manner with which the robot moves between a pair of locations.\n                </Blurb>\n                \n                {frame === 'safety' && (\n                    <Blurb highlight={primaryColor}>\n                        <h3 style={{color:primaryColor}}>Safety Concerns</h3>\n                        Pay special attention to placing waypoints around the occupancy zone of the human, since this is more likely to result in undesirable conflicts between the human and the robot.\n                    </Blurb>\n                )}\n                {frame === 'performance' && (\n                    <Blurb highlight={primaryColor}>\n                        <h3 style={{color:primaryColor}}>Robot Performance</h3>\n                        Pay special attention to the sequences of waypoints and where they are relative to one another within a trajectory. Longer trajectories take longer to execute and can contribute to greater space usage.\n                    </Blurb>\n                )}\n            </div>\n        }\n    );\n    return tabs;\n}","import React from 'react';\nimport { Tooltip } from 'antd';\nimport { Blurb } from './Blurb';\n\nexport function getMachineInfo({editorPane,setupTab,frame,primaryColor,focusData,secondaryFocusData,currentIssue}) {\n    let tabs = [];\n    if (currentIssue) {\n        tabs.push(\n            {\n                title: currentIssue.title, \n                contents:<div>\n                    <Blurb highlight={primaryColor}>\n                        <h3>{currentIssue.description}</h3>\n                        {currentIssue.requiresChanges && (\n                            <span>\n                                <br></br>\n                                <br></br>\n                                <i>Since this machine is used in the program, you will need to address this issue in order to simulate the program, since it would prevent the robot from interacting with it.</i>\n                            </span>\n                        )}\n                    </Blurb>\n                </div>\n            }\n        )\n    }; \n    tabs.push(\n        {\n            title:<span>{focusData ? focusData.name : 'Machines'}</span>,\n            contents:<div>\n                {focusData && (\n                    <Blurb highlight=\"rgb(50,50,50)\">\n                        <h3>About this Machine</h3>\n                        {focusData.description}\n                    </Blurb>\n                )}\n                <Blurb highlight=\"rgb(50,50,50)\">\n                    <h3>What are Machines?</h3>\n                    Machines are components that are able to perform create, consume, or modify \n                    <Tooltip placement=\"top\" title=\"A part or piece that has been defined in the setup tab.\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Things\n                        </span>\n                    </Tooltip> in the program. They define specific \n                    <Tooltip placement=\"top\" title=\"A geometrical representation of a zone with some variability in either position or rotation\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Regions\n                        </span>\n                    </Tooltip> that are used for depositing or retrieving these things.\n                </Blurb>\n                \n                {frame === 'safety' && (\n                    <Blurb highlight={primaryColor}>\n                        <h3 style={{color:primaryColor}}>Safety Concerns</h3>\n                        Machines define a collision zone around them, which you can observe by toggling them on and off in the Simulator settings. Trajectories must avoid these zones to avoid collisions. \n                    </Blurb>\n                )}\n            </div>\n        }\n    )\n    return tabs;\n}","import React from 'react';\nimport { Tooltip } from 'antd';\nimport { Blurb } from './Blurb';\n\nexport function getThingInfo({editorPane,setupTab,frame,primaryColor,focusData,secondaryFocusData,currentIssue}) {\n    let tabs = [];\n    if (currentIssue) {\n        tabs.push(\n            {\n                title: currentIssue.title, \n                contents:<div>\n                    <Blurb highlight={primaryColor}>\n                        <h3>{currentIssue.description}</h3>\n                        \n                        {currentIssue.requiresChanges && (\n                            <span>\n                                <br></br>\n                                <br></br>\n                                <i>Since this thing is used in the program, you will need to address this issue in order to simulate the program, since it would prevent the robot from performing motions that use it.</i>\n                            </span>\n                        )}\n                    </Blurb>\n                </div>\n            }\n        )\n    }\n    tabs.push(\n        {\n            title:<span>{focusData ? focusData.name : 'Things'}</span>,\n            contents:<div>\n                {focusData && (\n                    <Blurb highlight=\"rgb(50,50,50)\">\n                        <h3>About this Thing</h3>\n                        {focusData.description}\n                    </Blurb>\n                )}\n                <Blurb highlight=\"rgb(50,50,50)\">\n                    <h3>What are Things?</h3>\n                    Things are the parts that are created, consumed, or modified through the course of the program through the use of\n                    <Tooltip placement=\"top\" title=\"A fixed tool in the environment that is capable of modifying Things according to a set of known recipes.\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Machines\n                        </span>\n                    </Tooltip>, and moved around by the robot with \n                    <Tooltip placement=\"top\" title=\"A action that can be added and customized in the Program Editor. To transport Things, you must first Grasp them.\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Move Trajectory Primitives\n                        </span>\n                    </Tooltip>.\n                </Blurb>\n                \n                {frame === 'safety' && (\n                    <Blurb highlight={primaryColor}>\n                        <h3 style={{color:primaryColor}}>Safety Concerns</h3>\n                        One of the components of a safe robot trajectory is that if the robot is transporting a Thing, that Thing is considered safe. Unsafe things must be handled by the human.\n                    </Blurb>\n                )}\n                {frame === 'performance' && (\n                    <Blurb highlight={primaryColor}>\n                        <h3 style={{color:primaryColor}}>Robot Performance</h3>\n                        In order to have correct robot movement, the robot's payload must be within the limits specified by the robot. This robot has a payload of 3kg, so any Thing greater than this weight cannot be carried in a \n                        <Tooltip placement=\"top\" title=\"A action that can be added and customized in the Program Editor. To transport Things, you must first Grasp them.\">\n                            <span style={{color:primaryColor}}>\n                                {\" \"}Move Trajectory Primitive\n                            </span>\n                        </Tooltip>.\n                    </Blurb>\n                )}\n                {frame === 'business' && (\n                    <Blurb highlight={primaryColor}>\n                        <h3 style={{color:primaryColor}}>Business Objectives</h3>\n                        For measures such as Return on Investment (ROI), be mindful of how your changes to the program impact the number of Things that can be produced in a given amount of time. \n                    </Blurb>\n                )}\n            </div>\n        }\n    );\n    return tabs;\n}","import React from 'react';\nimport { Tooltip } from 'antd';\nimport { Blurb } from './Blurb';\n\nexport function getProgramInfo({editorPane,setupTab,frame,primaryColor,focusData,secondaryFocusData,currentIssue}) {\n    let tabs = [];\n    if (currentIssue) {\n        tabs.push(\n            {\n                title: currentIssue.title, \n                contents:<div>\n                    <Blurb highlight={primaryColor}>\n                        <h3>{currentIssue.description}</h3>\n                        {currentIssue.requiresChanges && (\n                            <span>\n                                <br></br>\n                                <br></br>\n                                <i>Since this issue is required, you will need to address this issue in order to simulate.</i>\n                            </span>\n                        )}\n                    </Blurb>\n                </div>\n            }\n        )\n    }\n    tabs.push(\n        {\n            title:<span>{focusData ? focusData.name : 'Program'}</span>,\n            contents:<div>\n                {focusData && (\n                    <Blurb highlight=\"rgb(50,50,50)\">\n                        <h3>About the Program</h3>\n                        {focusData.description}\n                    </Blurb>\n                )}\n                <Blurb highlight=\"rgb(50,50,50)\">\n                    <h3>What is the Program?</h3>\n                    The Program is the main sequence of \n                    <Tooltip placement=\"top\" title=\"The smallest functional activity that a robot can perform. Examples include 'Move Trajectory', 'Grasp', and 'Initialize Machine'.\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Actions\n                        </span>\n                    </Tooltip> and \n                    <Tooltip placement=\"top\" title=\"A special action that executes a procedure, that is specified in a Skill block.\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Skill-Calls\n                        </span>\n                    </Tooltip> that are executed by the robot.\n                </Blurb>\n                \n                {frame === 'quality' && (\n                    <Blurb highlight={primaryColor}>\n                        <h3 style={{color:primaryColor}}>Program Quality</h3>\n                        Make sure to fully parameterize all \n                        <Tooltip placement=\"top\" title=\"The smallest functional activity that a robot can perform. Examples include 'Move Trajectory', 'Grasp', and 'Initialize Machine'.\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Actions\n                        </span>\n                        </Tooltip> and \n                        <Tooltip placement=\"top\" title=\"A special action that executes a procedure, that is specified in a Skill block.\">\n                            <span style={{color:primaryColor}}>\n                                {\" \"}Skill-Calls\n                            </span>\n                        </Tooltip> in your program. Also, make sure to check all the existing \n                        <Tooltip placement=\"top\" title=\"A modular collection of actions that can be executed by using a Skill-Call\">\n                            <span style={{color:primaryColor}}>\n                                {\" \"}Skills\n                            </span>\n                        </Tooltip> for inspiration.\n                    </Blurb>\n                )}\n                {frame === 'business' && (\n                    <Blurb highlight={primaryColor}>\n                        <h3 style={{color:primaryColor}}>Business Objectives</h3>\n                        The Program can be executed on a loop, so shorter program durations lower the cycle time, and usually result in an increase in Return on Investment (ROI).\n                    </Blurb>\n                )}\n            </div>\n        }\n    );\n    return tabs;\n}","import React from 'react';\nimport { Tooltip } from 'antd';\nimport { Blurb } from './Blurb';\n\nexport function getSkillInfo({editorPane,setupTab,frame,primaryColor,focusData,secondaryFocusData,currentIssue}) {\n    let tabs = [];\n    if (currentIssue) {\n        tabs.push(\n            {\n                title: currentIssue.title, \n                contents:<div>\n                    <Blurb highlight={primaryColor}>\n                        <h3>{currentIssue.description}</h3>\n                        {currentIssue.requiresChanges && (\n                            <span>\n                                <br></br>\n                                <br></br>\n                                <i>Since this issue is required, you will need to address this issue in order to simulate.</i>\n                            </span>\n                        )}\n                    </Blurb>\n                </div>\n            }\n        )\n    }\n    tabs.push(\n        {\n            title:<span>{focusData ? focusData.name : 'Skill'}</span>,\n            contents:<div>\n                {focusData && (\n                    <Blurb highlight=\"rgb(50,50,50)\">\n                        <h3>About this Skill</h3>\n                        {focusData.description}\n                    </Blurb>\n                )}\n                <Blurb highlight=\"rgb(50,50,50)\">\n                    <h3>What is a Skill?</h3>\n                    A Skill is a modular block of the program that can define its own parameters and execute other\n                    <Tooltip placement=\"top\" title=\"The smallest functional activity that a robot can perform. Examples include 'Move Trajectory', 'Grasp', and 'Initialize Machine'.\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Actions\n                        </span>\n                    </Tooltip> and \n                    <Tooltip placement=\"top\" title=\"A special action that executes a procedure, that is specified in a Skill block.\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Skill-Calls\n                        </span>\n                    </Tooltip>.\n                </Blurb>\n                \n                {frame === 'quality' && (\n                    <Blurb highlight={primaryColor}>\n                        <h3 style={{color:primaryColor}}>Program Quality</h3>\n                        Make sure to fully parameterize all \n                        <Tooltip placement=\"top\" title=\"The smallest functional activity that a robot can perform. Examples include 'Move Trajectory', 'Grasp', and 'Initialize Machine'.\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Actions\n                        </span>\n                        </Tooltip> and \n                        <Tooltip placement=\"top\" title=\"A special action that executes a procedure, that is specified in a Skill block.\">\n                            <span style={{color:primaryColor}}>\n                                {\" \"}Skill-Calls\n                            </span>\n                        </Tooltip> in your skill.\n                    </Blurb>\n                )}\n            </div>\n        }\n    );\n    return tabs;\n}","import React from 'react';\nimport { Tooltip } from 'antd';\nimport { Blurb } from './Blurb';\n\nexport function getPrimitiveInfo({editorPane,setupTab,frame,primaryColor,focusData,secondaryFocusData,currentIssue}) {\n    let tabs = [];\n    if (currentIssue) {\n        tabs.push(\n            {\n                title: currentIssue.title, \n                contents:<div>\n                    <Blurb highlight={primaryColor}>\n                        <h3>{currentIssue.description}</h3>\n                        {currentIssue.requiresChanges && (\n                            <span>\n                                <br></br>\n                                <br></br>\n                                <i>Since this issue is required, you will need to address this issue in order to simulate.</i>\n                            </span>\n                        )}\n                    </Blurb>\n                </div>\n            }\n        )\n    }\n    tabs.push(\n        {\n            title:<span>{focusData ? focusData.name : 'Program'}</span>,\n            contents:<div>\n                {focusData && (\n                    <Blurb highlight=\"rgb(50,50,50)\">\n                        <h3>About this Action</h3>\n                        {focusData.description}\n                    </Blurb>\n                )}\n                <Blurb highlight=\"rgb(50,50,50)\">\n                    <h3>What is an Action?</h3>\n                    Actions are the smallest functional activity that a robot can perform in the \n                    <Tooltip placement=\"top\" title=\"Entire sequence of Actions and Skills that are executed by the robot.\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Program\n                        </span>\n                    </Tooltip>. Examples include 'Move Trajectory', 'Grasp', and 'Initialize Machine'.\n                </Blurb>\n                \n                {frame === 'quality' && (\n                    <Blurb highlight={primaryColor}>\n                        <h3 style={{color:primaryColor}}>Program Quality</h3>\n                        Make sure to fully parameterize this Action fully by dragging in blocks from the sidebar, or from any parent \n                        <Tooltip placement=\"top\" title=\"A modular collection of actions that can be executed by using a Skill-Call\">\n                            <span style={{color:primaryColor}}>\n                                {\" \"}Skills\n                            </span>\n                        </Tooltip> for inspiration.\n                    </Blurb>\n                )}\n            </div>\n        }\n    );\n    return tabs;\n}","import React from 'react';\nimport { Tooltip } from 'antd';\nimport { Blurb } from './Blurb';\n\nexport function getTrajectoryInfo({editorPane,setupTab,frame,primaryColor,focusData,secondaryFocusData,currentIssue}) {\n    let tabs = [];\n    if (currentIssue) {\n        tabs.push(\n            {\n                title: currentIssue.title, \n                contents:<div>\n                    <Blurb highlight={primaryColor}>\n                        <h3>{currentIssue.description}</h3>\n                        {currentIssue.requiresChanges && (\n                            <span>\n                                <br></br>\n                                <br></br>\n                                <i>Since this issue is required, you will need to address this issue in order to simulate.</i>\n                            </span>\n                        )}\n                    </Blurb>\n                </div>\n            }\n        )\n    }\n    tabs.push(\n        {\n            title:<span>{focusData ? focusData.name : 'Program'}</span>,\n            contents:<div>\n                {focusData && (\n                    <Blurb highlight=\"rgb(50,50,50)\">\n                        <h3>About the Program</h3>\n                        {focusData.description}\n                    </Blurb>\n                )}\n                <Blurb highlight=\"rgb(50,50,50)\">\n                    <h3>What is the Program?</h3>\n                    The Program is the main sequence of \n                    <Tooltip placement=\"top\" title=\"The smallest functional activity that a robot can perform. Examples include 'Move Trajectory', 'Grasp', and 'Initialize Machine'.\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Actions\n                        </span>\n                    </Tooltip> and \n                    <Tooltip placement=\"top\" title=\"A special action that executes a procedure, that is specified in a Skill block.\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Skill-Calls\n                        </span>\n                    </Tooltip> that are executed by the robot.\n                </Blurb>\n                \n                {frame === 'quality' && (\n                    <Blurb highlight={primaryColor}>\n                        <h3 style={{color:primaryColor}}>Program Quality</h3>\n                        Make sure to fully parameterize all \n                        <Tooltip placement=\"top\" title=\"The smallest functional activity that a robot can perform. Examples include 'Move Trajectory', 'Grasp', and 'Initialize Machine'.\">\n                        <span style={{color:primaryColor}}>\n                            {\" \"}Actions\n                        </span>\n                        </Tooltip> and \n                        <Tooltip placement=\"top\" title=\"A special action that executes a procedure, that is specified in a Skill block.\">\n                            <span style={{color:primaryColor}}>\n                                {\" \"}Skill-Calls\n                            </span>\n                        </Tooltip> in your program. Also, make sure to check all the existing \n                        <Tooltip placement=\"top\" title=\"A modular collection of actions that can be executed by using a Skill-Call\">\n                            <span style={{color:primaryColor}}>\n                                {\" \"}Skills\n                            </span>\n                        </Tooltip> for inspiration.\n                    </Blurb>\n                )}\n                {frame === 'business' && (\n                    <Blurb highlight={primaryColor}>\n                        <h3 style={{color:primaryColor}}>Business Objectives</h3>\n                        The Program can be executed on a loop, so shorter program durations lower the cycle time, and usually result in an increase in Return on Investment (ROI).\n                    </Blurb>\n                )}\n            </div>\n        }\n    );\n    return tabs;\n}","import React from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Label } from 'recharts';\n\nexport function getPlotInfo({editorPane,setupTab,frame,primaryColor,focusData,secondaryFocusData,currentIssue}) {\n    let tabs = [];\n    const colors = currentIssue.graphData.lineColors;\n    const showLegend = Object.keys(currentIssue.graphData.series[0]).length > 2;\n    const intervalLength = currentIssue.graphData.series.length > 5 ? Math.floor(currentIssue.graphData.series.length / 5) : 0;\n    tabs.push(\n        {\n            title:<span>Graph</span>,\n            contents:<div style={{ width: '100%', minHeight:'200px', height: '100%', fill: 'white'}}>\n                {currentIssue.graphData.title !== '' && <h3 style={{textAlign: 'center'}}>{currentIssue.graphData.title}</h3>}\n                <ResponsiveContainer width=\"99%\" aspect={3}>\n                    <LineChart data={currentIssue.graphData.series}>\n                        <CartesianGrid strokeDasharray=\"3 3\"/>\n                        <XAxis dataKey='x' interval={intervalLength}>\n                            <Label value={currentIssue.graphData.xAxisLabel} offset={-2} position=\"insideBottom\" />\n                        </XAxis>\n                        <YAxis label={{ value: currentIssue.graphData.yAxisLabel, angle: -90, position: 'insideLeft'}}/>\n                        {Object.keys(currentIssue.graphData.series[0]).map((entry, idx) => {\n                            if (entry !== 'x') {\n                                return <Line type=\"linear\" dataKey={entry} key={entry} stroke={colors[idx-1]} dot={false}/>\n                            }\n                        })}\n                        <Tooltip contentStyle={{backgroundColor: '#141414'}} />\n                        {showLegend && <Legend verticalAlign=\"top\" layout=\"horizontal\" align=\"right\" />}\n                    </LineChart>\n                </ResponsiveContainer>\n            </div>\n        }\n    );\n    return tabs;\n}","import React from 'react';\n\nimport { Card } from 'antd';\n\nimport {Scene} from 'robot-scene';\nimport useStore from '../../stores/Store';\nimport { Controls } from '../Controls';\nimport { InfoTile } from './InfoTile';\n\n\nexport const SimulatorTile = (_) => {\n\n    const primaryColor = useStore(state => state.primaryColor);\n    const clearFocusItem = useStore(state=> state.clearFocusItem);\n\n    return (\n        <div style={{height:'calc(100vh - 48pt)',padding:10}}>\n            <Card\n                style={{height:564,marginBottom:10}}\n                headStyle={{height:65}}\n                bodyStyle={{padding:0,height:500,margin:0,}}\n                extra={<Controls/>}\n                title=\"Simulator\">\n                    <div \n                        style={{height:'100%',backgroundColor: primaryColor, padding: 5, width:'100%'}}\n                    >\n                        <Scene\n                            displayTfs={false}\n                            displayGrid={true}\n                            isPolar={false}\n                            backgroundColor='#1e1e1e'\n                            planeColor='#141414'\n                            highlightColor={primaryColor}\n                            plane={-0.75}\n                            fov={50}\n                            store={useStore}\n                            onPointerMissed={clearFocusItem}\n                        />\n\n                    </div>\n            </Card>\n            <InfoTile/>\n        </div>\n    );\n};\n","var _g, _g2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgContainer(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: \"0 0 5906 5906\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    xmlSpace: \"preserve\",\n    style: {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 2\n    },\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(0.999236,0,0,0.736056,4.5108,0)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5905.51,762.579C5905.51,341.7 5654,0 5344.21,0L567.877,0C254.457,0 0,345.704 0,771.514L0,2085.81L5905.51,2085.81L5905.51,762.579Z\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1.00137,0,0,1,-8.07574,0)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5905.51,1128.72L5900.49,5114.59C5900.49,5551.11 5546.09,5905.51 5109.57,5905.51C5109.57,5905.51 798.985,5905.51 798.985,5905.51C362.464,5905.51 8.065,5551.11 8.065,5114.59L13.081,1128.72L413.164,1128.72L408.148,5114.59C408.148,5330.3 583.276,5505.43 798.985,5505.43L5109.57,5505.43C5325.28,5505.43 5500.4,5330.3 5500.4,5114.59L5505.42,1128.72L5905.51,1128.72Z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgContainer);\nexport default __webpack_public_path__ + \"static/media/Container.84045880.svg\";\nexport { ForwardRef as ReactComponent };","\nexport const acceptLookup = {\n    'drawer':{\n        default:{\n            accepts:[],\n            placement:'sequence'\n        }\n    },\n    'grid': {\n        primitiveIds:{\n            accepts:[\n                'node.primitive.hierarchical.skill.',\n                'node.primitive.hierarchical.program.'\n            ],\n            placement:'free'\n        }\n    },\n    'trash': {\n        all:{\n            accepts:[\n                'uuid-machine',\n                'uuid-waypoint',\n                'node.primitive.hierarchical.skill.',\n                'node.primitive.delay.',\n                'node.primitive.breakpoint',\n                'node.primitive.gripper.',\n                'node.primitive.machine-primitive.machine-initialize.',\n                'node.primitive.machine-primitive.machine-start.',\n                'node.primitive.machine-primitive.machine-stop.',\n                'node.primitive.machine-primitive.machine-wait.',\n                'node.primitive.move-trajectory.',\n                'node.primitive.move-unplanned.',\n                'node.primitive.skill-call.',\n                'node.primitive.hierarchical.',\n                'node.trajectory.',\n                'uuid-location',\n                'uuid-waypoint',\n                'uuid-thing',\n                'uuid-trajectory'\n            ],\n            placement:'single'\n        }\n    },\n    'node.primitive.hierarchical.program.': {\n        primitiveIds:{\n            accepts:[\n                'node.primitive.delay.',\n                'node.primitive.breakpoint',\n                'node.primitive.gripper.',\n                'node.primitive.machine-primitive.machine-initialize.',\n                'node.primitive.machine-primitive.machine-start.',\n                'node.primitive.machine-primitive.machine-stop.',\n                'node.primitive.machine-primitive.machine-wait.',\n                'node.primitive.move-trajectory.',\n                'node.primitive.move-unplanned.',\n                'node.primitive.skill-call.',\n                'node.primitive.hierarchical.'\n            ],\n            placement:'sequence'\n        }\n    },\n    'node.primitive.hierarchical.skill.': {\n        primitiveIds:{\n            accepts:[\n                'node.primitive.delay.',\n                'node.primitive.breakpoint',\n                'node.primitive.gripper.',\n                'node.primitive.machine-primitive.machine-initialize.',\n                'node.primitive.machine-primitive.machine-start.',\n                'node.primitive.machine-primitive.machine-stop.',\n                'node.primitive.machine-primitive.machine-wait.',\n                'node.primitive.move-trajectory.',\n                'node.primitive.move-unplanned.',\n                'node.primitive.skill-call.',\n                'node.primitive.hierarchical.'\n            ],\n            placement:'sequence'\n        }\n    },\n    'node.primitive.hierarchical.': {\n        primitiveIds:{\n            accepts:[\n                'node.primitive.delay.',\n                'node.primitive.breakpoint',\n                'node.primitive.gripper.',\n                'node.primitive.machine-primitive.machine-initialize.',\n                'node.primitive.machine-primitive.machine-start.',\n                'node.primitive.machine-primitive.machine-stop.',\n                'node.primitive.machine-primitive.machine-wait.',\n                'node.primitive.move-trajectory.',\n                'node.primitive.move-unplanned.',\n                'node.primitive.skill-call.',\n                'node.primitive.hierarchical.'\n            ],\n            placement:'sequence'\n        }\n    },\n    'node.primitive.delay.':{},\n    'node.primitive.breakpoint':{},\n    'node.primitive.gripper.':{},\n    'node.primitive.machine-primitive.machine-initialize.':{},\n    'node.primitive.machine-primitive.machine-start.':{\n        machine_uuid: {\n            accepts:['uuid-machine'],\n            placment: 'single'\n        }\n    },\n    'node.primitive.machine-primitive.machine-stop.':{},\n    'node.primitive.machine-primitive.machine-wait.':{},\n    'node.primitive.move-trajectory.':{},\n    'node.primitive.move-unplanned.':{},\n    'node.primitive.skill-call.':{},\n    'node.trajectory.':{\n        start_location_uuid:{\n            accepts:['node.pose.waypoint.location.'],\n            placement: 'single'\n        },\n        end_location_uuid:{\n            accepts:['node.pose.waypoint.location.'],\n            placement: 'single'\n        },\n        waypoint_uuids:{\n            accepts:['node.pose.waypoint.'],\n            placement: 'sequence'\n        }\n    }\n}"," const PRIMITIVE_STYLE = '#629e6c';\n const SKILL_STYLE = '#62869e';\n \nconst blockStyles = {\n    'node.primitive.delay.':PRIMITIVE_STYLE,\n    'node.primitive.breakpoint':PRIMITIVE_STYLE,\n    'node.primitive.gripper.':PRIMITIVE_STYLE,\n    'node.primitive.machine-primitive.machine-initialize.':PRIMITIVE_STYLE,\n    'node.primitive.machine-primitive.machine-start.':PRIMITIVE_STYLE,\n    'node.primitive.machine-primitive.machine-stop.':PRIMITIVE_STYLE,\n    'node.primitive.machine-primitive.machine-wait.':PRIMITIVE_STYLE,\n    'node.primitive.move-trajectory.':PRIMITIVE_STYLE,\n    'node.primitive.move-unplanned.':PRIMITIVE_STYLE,\n    'node.primitive.skill-call.':SKILL_STYLE,\n    'node.primitive.hierarchical.skill.':SKILL_STYLE,\n    'node.primitive.hierarchical.program.':'#3f3f3f',\n    'node.primitive.hierarchical.':'#7f7f7f',\n    'node.trajectory.': '#c5329a',\n    waypoint: '#AD1FDE',\n    thing: '#E08024',\n    location: '#8624E0',\n    machine: '#B3A533',\n    trajectory: '#c5329a'\n } \n\nexport default blockStyles","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLocation(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: \"0 0 5906 5906\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    xmlSpace: \"preserve\",\n    style: {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 2\n    },\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1.2764,0,0,1.2764,-953.464,-816.142)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1860.2,3107.5L3115.67,3107.5L3515.33,3349.29L4570.6,3349.29L4570.6,1139.5L3400.06,1139.5L3140.31,897.711L1860.2,897.711L1860.2,794.468C1860.2,708.889 1790.72,639.409 1705.14,639.409C1619.56,639.409 1550.08,708.889 1550.08,794.468L1550.08,5111.04C1550.08,5196.62 1619.56,5266.1 1705.14,5266.1C1790.72,5266.1 1860.2,5196.62 1860.2,5111.04L1860.2,3107.5Z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLocation);\nexport default __webpack_public_path__ + \"static/media/Location.5c41e1af.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGear(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGear);\nexport default __webpack_public_path__ + \"static/media/Gear.6f0dcc66.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgThing(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: \"0 0 5906 5906\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    xmlSpace: \"preserve\",\n    style: {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 2\n    },\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(0.863054,0,0,0.838767,-116.642,1127.17)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3375.37,1223.15L279.839,0L279.839,4473.71L3375.37,5696.86L3375.37,1223.15Z\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(-0.898459,0,0,0.838767,6032.06,1127.17)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3375.37,1223.15L279.839,0L279.839,4473.71L3375.37,5696.86L3375.37,1223.15Z\"\n  }))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1.3745,1.37394,-1.37394,1.3745,2555.08,-5037.88)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3325.2,1047.62L1956.9,1709.14L1325.69,3025.22L2683.22,2435.11L3325.2,1047.62Z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgThing);\nexport default __webpack_public_path__ + \"static/media/Thing.8a280873.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgWaypoint(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: \"0 0 5906 5906\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    xmlSpace: \"preserve\",\n    style: {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 2\n    },\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1.3636,0,0,1.3636,-1073.63,-1073.63)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4291.53,1456.74C4291.53,1087.29 3991.59,787.346 3622.14,787.346L2283.37,787.346C1913.92,787.346 1613.98,1087.29 1613.98,1456.74L1613.98,2795.51C1613.98,3164.96 2952.76,5118.17 2952.76,5118.17C2952.76,5118.17 4291.53,3164.96 4291.53,2795.51L4291.53,1456.74Z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWaypoint);\nexport default __webpack_public_path__ + \"static/media/Waypoint.a060e5fc.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPrimitive(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: \"0 0 5906 5906\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    xmlSpace: \"preserve\",\n    fill: \"currentColor\",\n    style: {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 2\n    },\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1.12407,0,0,1.12407,-374.19,-396.39)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5586.57,2567.97C5586.57,2340.85 5402.18,2156.46 5175.06,2156.46L744.397,2156.46C517.279,2156.46 332.888,2340.85 332.888,2567.97L332.888,3390.99C332.888,3618.1 517.279,3802.49 744.397,3802.49L5175.06,3802.49C5402.18,3802.49 5586.57,3618.1 5586.57,3390.99L5586.57,2567.97Z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPrimitive);\nexport default __webpack_public_path__ + \"static/media/Primitive.166345d1.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\nimport { Button, Dropdown, Input, Menu, Row } from \"antd\";\nimport { useDrag, useDrop } from 'react-dnd';\nimport Icon, { UnlockOutlined, LockOutlined, EllipsisOutlined, DeleteOutlined, EyeOutlined, EditOutlined } from '@ant-design/icons';\nimport useStore from \"../../stores/Store\";\nimport shallow from 'zustand/shallow';\nimport blockStyles from \"./blockStyles\";\nimport { ReactComponent as LocationIcon } from '../CustomIcons/Location.svg';\nimport { ReactComponent as MachineIcon } from '../CustomIcons/Gear.svg';\nimport { ReactComponent as ThingIcon } from '../CustomIcons/Thing.svg';\nimport { ReactComponent as WaypointIcon } from '../CustomIcons/Waypoint.svg';\nimport { ReactComponent as ContainerIcon } from '../CustomIcons/Container.svg';\nimport './highlight.css';\n\nconst ICONS = {\n  'machine': MachineIcon,\n  'location': LocationIcon,\n  'placeholder': ThingIcon,\n  'thing': ThingIcon,\n  'waypoint': WaypointIcon,\n  'trajectory': ContainerIcon\n}\n\nconst validDrop = (item, ancestors) => {\n  if (!ancestors[0].accepts.some(type => type === item.type)) {\n    return false\n  } else if (!ancestors.some(ancestor => ancestor.uuid === item.parentData.uuid) && item.parentData.type !== 'drawer') {\n    return false\n  }\n  return true\n}\n\nexport const UUIDBlock = ({\n  data,\n  idx,\n  ancestors,\n  context,\n  onDelete,\n  onDrop,\n  onNameChange,\n  dragDisabled,\n  dropDisabled,\n  hoverBehavior,\n  dragBehavior,\n  parentData,\n  after\n}) => {\n\n  // props constains data,\n  // which contains fields 'itemType' and 'uuid'\n  // console.log(data)\n  // hoverBehavior is either 'replace' or 'insert'\n  const { itemType, uuid } = data;\n\n  // Variables for Input field\n  // const [editing, setEditing] = useState(data.name === '');\n  // let editInputValue;\n  // let saveEditInputRef;\n\n  const [{ isDragging }, drag, preview] = useDrag(() => ({\n    type: data.type,\n    item: ()=>{ console.log(data);return { ...data, parentData, dragBehavior, idx, onDelete }},\n    options: { dragEffect: dragBehavior },\n    canDrag: _ => !dragDisabled,\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  }))\n\n  const [editing, setEditing] = useState(false);\n\n  // We only care about the second value returned from useDrop (hence the [1] at the end)\n  const [{ isOver, dragItem }, drop] = useDrop({\n    accept: ancestors[0].accepts,\n    drop: (otherItem, _) => {\n      onDrop(otherItem)\n    },\n    canDrop: (otherItem, _) => {\n      if (dropDisabled) {\n        return false\n      } else return validDrop(otherItem, ancestors);\n    },\n    collect: monitor => ({\n      isOver: monitor.isOver(),\n      dragItem: monitor.getItem()\n    })\n  })\n\n  const [\n    frame, focusItem,\n    setFocusItem, clearFocusItem] = useStore(state => ([\n      state.frame, state.focusItem,\n      state.setFocusItem, state.clearFocusItem]\n    ),shallow);\n  const focused = focusItem.uuid === uuid;\n\n  const inDrawer = ancestors[0].uuid === 'drawer';\n  const isReal = context[uuid]?.real;\n  const showMore = isReal || onNameChange;\n\n  const blockStyle = {\n    backgroundColor:\n      blockStyles[itemType === 'placeholder' ? 'thing' : itemType],\n    height: 43,\n    width: '100%',\n    borderRadius: 3,\n    padding: 5,\n    position: 'relative',\n    zIndex: focused ? 100 : 1,\n    opacity: isOver && hoverBehavior === 'replace' && dragItem ? 0.5 : 1\n  };\n\n  const displayData = !dropDisabled && isOver && hoverBehavior === 'replace' && dragItem && validDrop(dragItem, ancestors) ? dragItem : data\n\n  return (\n    <React.Fragment>\n      {isOver && hoverBehavior === 'insert' && dragItem && (\n        <UUIDBlock\n          ancestors={ancestors}\n          idx={0}\n          data={dragItem}\n          context={context}\n          dragDisabled\n          dropDisabled\n          dragBehavior='move' />\n      )}\n      <div ref={dropDisabled ? null : drop}>\n        <div ref={preview} hidden={isDragging && dragBehavior === 'move'} style={blockStyle} className={focused ? `focus-${frame}` : null} >\n          <Row wrap={false} style={{ fontSize: 16, display: 'flex', flexDirection: 'row' }} align='middle' justify='space-between'>\n            <Row ref={editing ? null : drag} wrap={false} align='middle' style={{ boxShadow: editing ? 'inset 0px 0px 2px 1px #ffffff' : null, borderColor: 'white', backgroundColor: 'rgba(255,255,255,0.1)', borderRadius: 3, padding: 4, textAlign: 'start', flex: 1, minWidth: 130, maxWidth: 200, cursor: dragDisabled ? \"not-allowed\" : \"grab\", zIndex: 101, marginRight: 5, height: 32 }}>\n              <Icon style={{ marginLeft: 5 }} component={ICONS[itemType]} />\n              <Input style={{ maxWidth: 200, color: 'white', cursor: editing ? 'text' : dragDisabled ? \"not-allowed\" : \"grab\" }} bordered={false} disabled={!editing} value={displayData.itemType === 'placeholder' ? displayData.pending_node.name : displayData.name} onChange={(e) => onNameChange(e.target.value)} />\n            </Row>\n            <Row wrap={false} style={{ width: 60, textTransform: 'capitalize', textAlign: 'right' }} align='middle' justify='end'>\n              {displayData.editable ? <UnlockOutlined style={{ marginRight: isReal ? 0 : 5 }} /> : <LockOutlined style={{ marginRight: 5 }} />}\n              {/* {isArgument && displayData.editable && !editing && <EditOutlined onClick={() => setEditing(true)}/>} */}\n              {showMore && (\n                <Dropdown overlay={\n                  <Menu>\n                    {isReal && (\n                      <Menu.Item key='show' onClick={({ domEvent }) => { domEvent.stopPropagation(); clearFocusItem(); setFocusItem(itemType, data.uuid) }}>\n                        <EyeOutlined />{' '}Show {itemType === 'placeholder' ? 'thing' : itemType}\n                      </Menu.Item>\n                    )}\n                    {onNameChange && (\n                      <Menu.Item key='show' onClick={({ domEvent }) => { domEvent.stopPropagation(); setEditing(!editing) }}>\n                        <EditOutlined />{editing ? \" Done Editing\" : ' Edit Name'}\n                      </Menu.Item>\n                    )}\n                    {!inDrawer && data.deleteable &&\n                      <Menu.Item key='clear' onClick={onDelete}>\n                        <DeleteOutlined />{' '}Clear\n                      </Menu.Item>}\n                  </Menu>\n                }>\n                  <Button\n                    type='text'\n                    icon={<EllipsisOutlined />}\n                  />\n                </Dropdown>\n\n              )}\n              {false && !isReal && data.deleteable &&\n                <Button\n                  type='text'\n                  style={{ marginLeft: 5 }}\n                  onClick={onDelete}\n                  icon={<DeleteOutlined />}\n                />\n              }\n            </Row>\n          </Row>\n        </div>\n      </div>\n      {!(isDragging && dragBehavior === 'move') && after}\n    </React.Fragment>\n  );\n};\n","import { config, useSpring } from \"@react-spring/core\";\nimport { animated } from \"@react-spring/web\";\nimport React from \"react\";\nimport { useDrop } from 'react-dnd';\nimport useMeasure from \"react-use-measure\";\nimport { ActionBlock } from \"./ActionBlock\";\nimport { UUIDBlock } from \"./UUIDBlock\";\n\nconst validDrop = (dragItem, ancestors) => {\n    if (!ancestors[0].accepts.some(type => type === dragItem.type)) {\n        return false\n    } else if (!ancestors.some(ancestor => ancestor.uuid === dragItem.parentData.uuid) && dragItem.parentData.type !== 'drawer') {\n        return false\n    }\n    return true;\n}\n\nexport const SortableSeparator = ({ ancestors, context, onDrop, dropDisabled, height, spacing, end }) => {\n\n    const dropConfig = {\n        accept: ancestors[0].accepts,\n        drop: (item, _) => onDrop(item),\n        canDrop: (item, _) => {\n            if (dropDisabled) {\n                return false\n            } else {\n                return validDrop(item, ancestors);\n            }\n        },\n        collect: monitor => ({\n            isOver: monitor.isOver(),\n            dragItem: monitor.getItem()\n        })\n    }\n\n\n\n    const [{ isOver, dragItem }, dropRef] = useDrop(dropConfig);\n    // const [{ isOverDefault, dragItemDefault }, dropDefaultRef] = useDrop(dropConfig);\n    // const [{ isOverPreview, dragItemPreview }, dropPreviewRef] = useDrop(dropConfig);\n\n    // const isOver = isOverDefault || isOverPreview;\n    // console.log(isOverDefault)\n    // // console.log(isOver)\n    // const dragItem = dragItemDefault ? dragItemDefault : dragItemPreview;\n\n    const showPreview = isOver && dragItem && !dropDisabled && validDrop(dragItem, ancestors);\n    // if (showPreview) { console.log('preview') }\n\n    const [previewRef, shape] = useMeasure();\n    const usedHeight = shape.height - height + spacing + 5;\n    const offset = end ? height / -2 + spacing + 5 : height / -2 + spacing;\n\n    const previewStyle = useSpring({ height: usedHeight, config: config.stiff });\n\n    return (\n        <div\n            ref={dropRef}\n            style={{\n                //...previewStyle,\n                width: '100%',\n                position: 'relative',\n                // paddingTop: 0, \n                padding: 0,\n                height: showPreview ? null : spacing,\n                // paddingBottom: showPreview ? 8 : 0, \n                // backgroundColor: 'blue' \n            }}>\n            <div\n                style={{\n                    position: 'relative',\n                    zIndex: 80,\n                    top: -1 * height / 2,\n                    opacity: 0.6,\n                    // backgroundColor: 'red',\n                    height: height / 2\n                }}>\n            </div>\n            <animated.div style={previewStyle}>\n                <div ref={previewRef}>\n                    {showPreview && dragItem.type.includes('uuid') && (\n                        <div style={{ opacity: 0.5, top: offset, position: 'relative' }}>\n                            <UUIDBlock\n                                ancestors={ancestors}\n                                idx={0}\n                                data={dragItem}\n                                context={context}\n                                dragDisabled\n                                dropDisabled\n                                dragBehavior='move' />\n                        </div>\n                    )}\n                    {showPreview && dragItem.type.includes('primitive') && (\n                        <div style={{ opacity: 0.5, top: offset, position: 'relative' }}>\n                            <ActionBlock\n                                ancestors={ancestors}\n                                idx={0}\n                                staticData={dragItem}\n                                context={context}\n                                dragDisabled\n                                dropDisabled\n                                locked\n                                dragBehavior='move' />\n                        </div>\n                    )}\n                </div>\n            </animated.div>\n            <div\n                style={{\n                    position: 'relative',\n                    zIndex: 80,\n                    bottom: height / 2,\n                    opacity: 0.6,\n                    // backgroundColor: 'yellow',\n                    height: height / 2\n                }}>\n            </div>\n        </div>\n\n    )\n};","import React, { useCallback, useState } from \"react\";\nimport useStore from \"../../stores/Store\";\nimport shallow from 'zustand/shallow';\nimport blockStyles from \"./blockStyles\";\nimport { NodeZone } from \"./NodeZone\";\nimport Icon, { UnlockOutlined, LockOutlined, DownOutlined, RightOutlined, EllipsisOutlined, DeleteOutlined, EyeOutlined } from '@ant-design/icons';\nimport { Row, Col, Button, InputNumber, Dropdown, Menu } from 'antd';\nimport { ReactComponent as ContainerIcon } from '../CustomIcons/Container.svg'\nimport './highlight.css';\nimport { UUIDBlock } from \"./UUIDBlock\";\nimport { SortableSeparator } from \"./SortableSeparator\";\nimport { useDrag } from \"react-dnd\";\nimport { useSpring, animated } from '@react-spring/web';\nimport { config } from 'react-spring';\nimport useMeasure from \"react-use-measure\";\n\nexport const TrajectoryBlock = ({ staticData, uuid, ancestors, context, parentData, dragBehavior, dragDisabled, onDelete }) => {\n  \n  const [focused, data, start_location, waypoints, end_location] = useStore(useCallback(state => {\n    const data = staticData ? staticData : state.data.trajectories[uuid] ? state.data.trajectories[uuid] : {uuid:'zombie',waypoint_uuids:[]};\n    return [\n      state.focusItem.uuid === data.uuid,\n      data,\n      data.start_location_uuid ? state.data.locations[data.start_location_uuid] : null,\n      data.waypoint_uuids.map(uuid => state.data.waypoints[uuid]),\n      data.end_location_uuid ? state.data.locations[data.end_location_uuid] : null,\n    ]\n  }, [staticData, uuid]), shallow);\n\n  const [\n    frame, clearFocusItem, setItemProperty, setFocusItem,\n    moveTrajectoryWaypoint, insertTrajectoryWaypoint,\n    deleteTrajectoryWaypoint, focusExists] = useStore(state => [\n      state.frame,\n      state.clearFocusItem,\n      state.setItemProperty,\n      state.setFocusItem,\n      state.moveTrajectoryWaypoint,\n      state.insertTrajectoryWaypoint,\n      state.deleteTrajectoryWaypoint,\n      state.focusItem.type !== null\n    ],shallow);\n  const unfocused = focusExists && !focused;\n\n  const inDrawer = ancestors[0].uuid === 'drawer';\n  const editingEnabled = !inDrawer && data.editable;\n\n  // console.log(data)\n\n  const [{ isDragging }, drag, preview] = useDrag(() => ({\n    type: data.type,\n    item: ()=>({ ...data, parentData, dragBehavior, onDelete }),\n    options: { dragEffect: dragBehavior },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  }))\n\n  const [settingsExpanded, setSettingsExpanded] = useState(false);\n\n  const [settingsRef, { height }] = useMeasure();\n  const settingsStyle = useSpring({ height: height, config: config.stiff });\n\n  const styles = {\n    backgroundColor:\n      blockStyles[data.type],\n    minHeight: 30,\n    minWidth: 250,\n    borderRadius: 3,\n    margin: 0,\n    padding: 5,\n    position: 'relative',\n    zIndex: focused ? 100 : 1\n  };\n\n  const trajectoryWaypointAncestors = [\n    { uuid: data.uuid, accepts: ['uuid-waypoint'] },\n    ...ancestors\n  ];\n\n  const trajectoryLocationAncestors = [\n    { uuid: data.uuid, accepts: ['uuid-location'] },\n    ...ancestors\n  ];\n\n  const fieldStyle = {\n    borderRadius: 4,\n    margin: '1pt 1pt 4pt 1pt',\n    padding: 5,\n    backgroundColor: \"rgba(0,0,0,0.1)\"\n  }\n\n  const selectionStyle = {\n    backgroundColor: 'rgba(255,255,255,0.2)',\n    borderRadius: 2,\n    margin: '0pt 8pt 12pt 0pt',\n    padding: '6pt 15pt',\n    fontSize: 14,\n    height: 36\n  }\n\n  const startDrop = (dropData) => {\n    if (dropData.parentData.uuid === uuid && dropData.dragBehavior === 'move') {\n      setItemProperty('trajectory', uuid, dropData.parentData.field, null);\n      setItemProperty('trajectory', uuid, 'start_location_uuid', dropData.uuid);\n    } else {\n      setItemProperty('trajectory', uuid, 'start_location_uuid', dropData.uuid);\n    }\n  }\n\n  const waypointDrop = (dropData, idx) => {\n    if (dropData.parentData.uuid === uuid && dropData.dragBehavior === 'move') {\n      const newIdx = dropData.idx <= idx ? idx - 1 : idx;\n      if (newIdx === dropData.idx) {\n        return\n      }\n      moveTrajectoryWaypoint(dropData.uuid, dropData.parentData.uuid, uuid, dropData.idx, newIdx);\n    } else {\n      insertTrajectoryWaypoint(dropData.uuid, uuid, idx);\n    }\n  }\n\n  const endDrop = (dropData) => {\n    if (dropData.parentData.uuid === uuid && dropData.dragBehavior === 'move') {\n      setItemProperty('trajectory', uuid, dropData.parentData.field, null);\n      setItemProperty('trajectory', uuid, 'end_location_uuid', dropData.uuid);\n    } else {\n      setItemProperty('trajectory', uuid, 'end_location_uuid', dropData.uuid);\n    }\n  }\n\n  return (\n    <div hidden={isDragging && dragBehavior === 'move'} ref={preview} style={styles} className={focused ? `focus-${frame}` : null} onClick={(e) => { e.stopPropagation(); unfocused && clearFocusItem() }}>\n      <Row style={{ fontSize: 16, marginBottom: 7 }} align='middle' justify='space-between'>\n        <Col ref={dragDisabled ? null : drag} span={17} style={{ backgroundColor: 'rgba(255,255,255,0.1)', borderRadius: 3, padding: 4, textAlign: 'start', cursor: dragDisabled ? 'not-allowed' : 'grab' }}>\n          <Icon style={{ marginLeft: 4 }} component={ContainerIcon} />{' '}{data.name}\n        </Col>\n        <Col span={6} offset={1} style={{ textAlign: 'end' }}>\n          {editingEnabled ? <UnlockOutlined /> : <LockOutlined />}\n          <Dropdown overlay={\n            <Menu>\n              <Menu.Item key='show' onClick={({ domEvent }) => { domEvent.stopPropagation(); clearFocusItem(); setFocusItem('trajectory', data.uuid) }}>\n                <EyeOutlined />{' '}Show Trajectory\n              </Menu.Item>\n              {!inDrawer && data.deleteable &&\n                <Menu.Item key='clear' onClick={onDelete}>\n                  <DeleteOutlined />{' '}Clear\n                </Menu.Item>}\n            </Menu>\n          }>\n            <Button\n              type='text'\n              style={{ marginLeft: 5 }}\n              icon={<EllipsisOutlined />}\n            />\n          </Dropdown>\n        </Col>\n      </Row>\n      <div style={fieldStyle}>\n        <Row align=\"middle\" style={{ marginBottom: 5 }}>\n\n          <Col span=\"20\">Settings:</Col>\n          <Col span=\"4\">\n            <Button\n              disabled={inDrawer}\n              onClick={() => setSettingsExpanded(!settingsExpanded)}\n              type='text'\n              icon={settingsExpanded ? (\n                <DownOutlined />\n              ) : (\n                <RightOutlined />\n              )}\n            />\n          </Col>\n        </Row>\n        <animated.div style={{ overflow: 'hidden', ...settingsStyle }}>\n          <div ref={settingsRef}>\n            {settingsExpanded && (\n              <Row align=\"middle\" style={fieldStyle}>\n                <Col span=\"8\">Motion Type:</Col>\n                <Col span=\"16\" style={{ textAlign: 'right' }}>\n                  {data.move_type === 'ee_ik' ? (\n                    <span style={selectionStyle}>IK</span>\n                  ) : (\n                    <Button type='text' disabled={!editingEnabled} onClick={() => setItemProperty('trajectory', uuid, 'move_type', 'ee_ik')}>IK</Button>\n                  )}\n                  {data.move_type === 'joint' ? (\n                    <span style={selectionStyle}>Joint</span>\n                  ) : (\n                    <Button type='text' disabled={!editingEnabled} onClick={() => setItemProperty('trajectory', uuid, 'move_type', 'joint')}>Joint</Button>\n                  )}\n                </Col>\n              </Row>)}\n            {settingsExpanded && (\n              <Row align=\"middle\" style={fieldStyle}>\n                <Col span=\"8\">Speed:</Col>\n                <Col span=\"16\" style={{ textAlign: 'right' }}>\n                  <InputNumber\n                    min={0.01}\n                    max={5}\n                    size='small'\n                    defaultValue={data.velocity}\n                    disabled={!editingEnabled}\n                    onChange={(v) => setItemProperty('trajectory', uuid, 'move_type', v)}\n                    bordered={false}\n                    style={{ backgroundColor: 'rgba(255,255,255,0.2)' }} />\n                </Col>\n              </Row>)}\n          </div>\n        </animated.div>\n      </div>\n      <Row align=\"middle\" style={fieldStyle}>\n        <Col span=\"8\">Start Location:</Col>\n        <Col span=\"16\">\n          <NodeZone\n            context={context}\n            ancestors={trajectoryLocationAncestors}\n            onDrop={startDrop}\n            emptyMessage='No Start Location'\n            dropDisabled={!editingEnabled}\n          >\n            {start_location && (\n              <UUIDBlock\n                key={start_location.uuid}\n                id={start_location.uuid}\n                idx={0}\n                hoverBehavior='replace'\n                dragBehavior='move'\n                parentData={{ type: 'trajectory', uuid, field: 'start_location_uuid' }}\n                ancestors={trajectoryLocationAncestors}\n                context={context}\n                data={{ ...start_location, itemType: 'location', type: `uuid-location` }}\n                onDelete={(_) => setItemProperty('trajectory', uuid, 'start_location_uuid', null)}\n                onDrop={startDrop}\n                dragDisabled={!editingEnabled}\n                dropDisabled={!editingEnabled}\n              />\n            )\n            }\n          </NodeZone>\n        </Col>\n      </Row>\n      <Row align=\"middle\" style={fieldStyle}>\n        <Col span=\"8\">Waypoints:</Col>\n        <Col span=\"16\">\n          <NodeZone\n            ancestors={trajectoryWaypointAncestors}\n            context={context}\n            onDrop={(dropData) => waypointDrop(dropData, 0)}\n            emptyMessage='No Waypoints'\n            dropDisabled={!editingEnabled}\n          >\n            {waypoints.map((waypoint, idx) => (\n              <div key={idx}>\n                {idx === 0 && (\n                  <SortableSeparator\n                    ancestors={trajectoryWaypointAncestors}\n                    height={30}\n                    spacing={idx === 0 ? 0 : 5}\n                    context={context}\n                    onDrop={(dropData) => waypointDrop(dropData, 0)}\n                    dropDisabled={!editingEnabled}\n                  />\n                )}\n                <UUIDBlock\n                  key={waypoint.uuid}\n                  id={waypoint.uuid}\n                  idx={idx}\n                  dragBehavior='move'\n                  ancestors={trajectoryWaypointAncestors}\n                  context={context}\n                  parentData={{ type: 'trajectory', uuid, field: 'waypoint_uuids' }}\n                  data={{ ...waypoint, itemType: 'waypoint', type: `uuid-waypoint` }}\n                  onDelete={() => deleteTrajectoryWaypoint(uuid, idx)}\n                  // nameEditable={}\n                  // onNameChange={(newName)=>{}}\n                  dragDisabled={!editingEnabled}\n                  dropDisabled={true}\n                  after={\n                    <SortableSeparator\n                      ancestors={trajectoryWaypointAncestors}\n                      context={context}\n                      height={30}\n                      end={idx === waypoints.length - 1}\n                      spacing={idx === waypoints.length - 1 ? 0 : 5}\n                      onDrop={(dropData) => waypointDrop(dropData, idx + 1)}\n                      dropDisabled={!editingEnabled}\n                    />\n                  }\n                />\n\n              </div>\n\n            ))}\n          </NodeZone>\n        </Col>\n      </Row>\n      <Row align=\"middle\" style={fieldStyle}>\n        <Col span=\"8\">End Location:</Col>\n        <Col span=\"16\">\n          <NodeZone\n            context={context}\n            ancestors={trajectoryLocationAncestors}\n            onDrop={endDrop}\n            emptyMessage='No End Location'\n            dropDisabled={!editingEnabled}\n          >\n            {end_location && (\n              <UUIDBlock\n                key={end_location.uuid}\n                id={end_location.uuid}\n                idx={0}\n                hoverBehavior='replace'\n                dragBehavior='move'\n                parentData={{ type: 'trajectory', uuid, field: 'end_location_uuid' }}\n                ancestors={trajectoryLocationAncestors}\n                context={context}\n                data={{ ...end_location, itemType: 'location', type: `uuid-location` }}\n                onDelete={(_) => setItemProperty('trajectory', uuid, 'end_location_uuid', null)}\n                onDrop={endDrop}\n                dragDisabled={!editingEnabled}\n                dropDisabled={!editingEnabled}\n              />\n            )\n            }\n          </NodeZone>\n        </Col>\n      </Row>\n    </div>\n  );\n};","import React from \"react\";\nimport { useDrop } from 'react-dnd';\nimport { ActionBlock } from \"./ActionBlock\";\nimport { TrajectoryBlock } from \"./TrajectoryBlock\";\nimport { UUIDBlock } from \"./UUIDBlock\";\n\nconst validDrop = (item, ancestors) => {\n    if (!ancestors[0].accepts.some(type => type === item.type)) {\n        return false\n    } else if (!ancestors.some(ancestor => ancestor.uuid === item.parentData.uuid) && item.parentData.type !== 'drawer') {\n        return false\n    }\n    return true;\n}\n\nexport const NodeZone = ({ ancestors, children, context, onDrop, emptyMessage, dropDisabled, style }) => {\n\n    const empty = !children || children.length === 0;\n\n    const [{ isOver, dragItem }, drop] = useDrop({\n        accept: ancestors[0].accepts,\n        drop: (item, _) => onDrop(item),\n        canDrop: (item, _) => {\n            if (!item) {\n                return false\n                // } else if (dropDisabled||!empty) {\n                //     return false\n            } else if (!empty) {\n                return false\n            } else {\n                return validDrop(item, ancestors)\n            }\n        },\n        collect: monitor => ({\n            isOver: monitor.isOver(),\n            dragItem: monitor.getItem(),\n            // canDrop: monitor.canDrop()\n        })\n    })\n\n    const containerStyle = {\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        borderRadius: 5,\n        minWidth: 110,\n        minHeight: 54,\n        padding: 5,\n        textAlign: 'center',\n        fontSize: 14\n    }\n\n    const showPreview = isOver && dragItem && !dropDisabled && validDrop(dragItem, ancestors);\n    const showChildren = !empty && !showPreview;\n\n    return (\n        <div ref={dropDisabled || !empty ? null : drop} style={{ ...containerStyle, ...style, }}>\n            {!showChildren && !showPreview && (\n                <div style={{ padding: 10 }}>\n                    {emptyMessage}\n                </div>\n            )}\n            {!showPreview && showChildren && children}\n            {!showChildren && showPreview && dragItem.type.includes('uuid') && (\n                <UUIDBlock\n                    ancestors={ancestors}\n                    idx={0}\n                    data={dragItem}\n                    context={context}\n                    dragDisabled\n                    dropDisabled\n                    dragBehavior='move' />\n            )}\n            {!showChildren && showPreview && dragItem.type.includes('primitive') && (\n                <ActionBlock\n                    ancestors={ancestors}\n                    idx={0}\n                    staticData={dragItem}\n                    context={context}\n                    dragDisabled\n                    dropDisabled\n                    locked\n                    dragBehavior='move' />\n            )}\n            {!showChildren && showPreview && !dragItem.type.includes('uuid') && !dragItem.type.includes('primitive') && dragItem.type.includes('trajectory') && (\n                <TrajectoryBlock\n                    staticData={dragItem}\n                    ancestors={ancestors}\n                    dragDisabled\n                    context={context}\n                />\n            )}\n\n        </div>\n\n    )\n};","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSkill(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: \"0 0 5906 5906\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    xmlSpace: \"preserve\",\n    style: {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 2\n    },\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5183.92,2027.62C4948.25,2268.41 4680.76,2527.81 4563.44,2618.12C4475.6,2685.74 4326.84,2711.57 4211.25,2652.42C4133.53,2612.65 4061.45,2539.32 4041.07,2405.51C4032.44,2348.84 4030.34,2204.21 4030.3,2078.87C3833.11,2081.98 3519.95,2093.19 3204.43,2130.18C2882.8,2167.88 2556.73,2227.55 2369.24,2344.59C1860.94,2661.91 1961.93,3237.42 1984.21,3363.59C1992.09,3408.19 1992.23,3435.96 1991.82,3442.52C1988.45,3497.17 1952.26,3598.7 1898.72,3655.89C1848.6,3709.43 1786.82,3735.27 1727.09,3738.28C1657.42,3741.78 1555.76,3725.71 1482.86,3582.42C1166.08,2959.82 1198.9,2428.9 1360.3,2027.62L462.566,2027.62C207.269,2027.62 -0,2234.89 -0,2490.19L-0,3415.32C-0,3670.62 207.269,3877.89 462.566,3877.89L5442.95,3877.89C5698.24,3877.89 5905.51,3670.62 5905.51,3415.32L5905.51,2490.19C5905.51,2234.89 5698.24,2027.62 5442.95,2027.62L5183.92,2027.62ZM4428.56,285.428C4428.56,285.428 5248.09,1070.2 5411.99,1268.86C5456.23,1322.48 5456.2,1423.75 5411.99,1477.4C5249.39,1674.76 4630.52,2303.58 4436.36,2453.03C4382.18,2494.74 4265.73,2496.9 4247.03,2374.14C4231.59,2272.78 4240.24,1869.94 4240.24,1869.94C4240.24,1869.94 2777.06,1844.4 2258.91,2167.87C1573.44,2595.8 1785.43,3404.65 1783.88,3429.68C1781.17,3473.63 1722.23,3593.48 1668.54,3487.95C1221.2,2608.74 1551.45,1934.88 1884.9,1605.31C2218.35,1275.74 2603.94,1103.61 3342.64,981.482C4063.31,862.337 4243.84,888.029 4243.84,888.029L4244.57,372.493C4244.57,372.493 4268.71,249.735 4428.56,285.428Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSkill);\nexport default __webpack_public_path__ + \"static/media/Skill.a73f09ac.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback, useState } from \"react\";\nimport { NodeZone } from \"./NodeZone\";\n// import { ItemSortable } from \"./Wrappers\";\nimport { InputNumber, Row, Col, Button } from \"antd\";\nimport useStore from \"../../stores/Store\";\nimport shallow from 'zustand/shallow';\nimport blockStyles from \"./blockStyles\";\nimport { ReactComponent as PrimitiveIcon } from '../CustomIcons/Primitive.svg';\nimport { ReactComponent as SkillIcon } from '../CustomIcons/Skill.svg';\nimport { ReactComponent as ContainerIcon } from '../CustomIcons/Container.svg';\nimport Icon, { UnlockOutlined, LockOutlined, DownOutlined, RightOutlined, EyeOutlined } from '@ant-design/icons';\nimport './highlight.css';\nimport { UUIDBlock } from \"./UUIDBlock\";\nimport { useSpring, animated } from '@react-spring/web';\nimport { config } from 'react-spring';\nimport { useDrag } from \"react-dnd\";\nimport { TrajectoryBlock } from \"./TrajectoryBlock\";\nimport useMeasure from \"react-use-measure\";\n\nexport const PrimitiveBlock = ({\n  staticData, uuid, parentData, onDelete, dragBehavior,\n  dragDisabled, ancestors, context, idx, after,\n}) => {\n\n  const [focused, data, parameters, executable] = useStore(useCallback(state => {\n    let parameterValues = {};\n\n    const data = staticData ? staticData : state.data.primitives[uuid];\n    const executable = state.executablePrimitives[data.uuid] ? true : false;\n\n    // If there is a param and it exists in the context, create a fake data object, otherwise use the value in the store, if it exists there.\n    if (data.parameters.machine_uuid && state.data.machines[data.parameters.machine_uuid]) {\n      parameterValues.machine = state.data.machines[data.parameters.machine_uuid]\n    } else if (data.parameters.machine_uuid && context[data.parameters.machine_uuid]) {\n      parameterValues.machine = { uuid: data.parameters.machine_uuid, ...context[data.parameters.machine_uuid] }\n    }\n\n    if (data.parameters.thing_uuid && state.data.placeholders[data.parameters.thing_uuid]) {\n      parameterValues.thing = state.data.placeholders[data.parameters.thing_uuid]\n    } else if (data.parameters.thing_uuid && context[data.parameters.thing_uuid]) {\n      parameterValues.thing = { uuid: data.parameters.thing_uuid, pending_node: context[data.parameters.thing_uuid] }\n    }\n\n    if (data.parameters.trajectory_uuid && state.data.trajectories[data.parameters.trajectory_uuid]) {\n      parameterValues.trajectory = {...state.data.trajectories[data.parameters.trajectory_uuid],real:true}\n    } else if (data.parameters.trajectory_uuid && context[data.parameters.trajectory_uuid]) {\n      parameterValues.trajectory = { uuid: data.parameters.trajectory_uuid, ...context[data.parameters.trajectory_uuid] }\n    }\n\n    if (!data.parameters.location_uuid && !context[data.parameters.location_uuid]) {\n      parameterValues.location = state.data.locations[data.parameters.location_uuid]\n    } else if (data.parameters.location_uuid && context[data.parameters.location_uuid]) {\n      parameterValues.location = { uuid: data.parameters.location_uuid, ...context[data.parameters.location_uuid] }\n    }\n\n    return [\n      state.focusItem.uuid === uuid,\n      data,\n      parameterValues,\n      executable\n    ]\n  }, [staticData, uuid, context]),shallow);\n\n  const [frame, setFocusItem, clearFocusItem, focusExists, \n    setPrimitiveParameter, moveTrajectoryBlock,\n    deletePrimitiveTrajectory] = useStore(\n    (state) => [\n      state.frame, state.setFocusItem, state.clearFocusItem, state.focusItem.type !== null, \n      state.setPrimitiveParameter, state.moveTrajectoryBlock, \n      state.deletePrimitiveTrajectory], shallow)\n\n  const unfocused = focusExists && !focused;\n\n  const inDrawer = ancestors[0].uuid === 'drawer';\n  const editingEnabled = !inDrawer && data.editable;\n\n\n  const [{ isDragging }, drag, preview] = useDrag(() => ({\n    type: data.type,\n    item: { ...data, parentData, dragBehavior, onDelete: onDelete && data.deleteable ? ()=>onDelete(data) : null, idx },\n    options: { dragEffect: dragBehavior },\n    canDrag: (_)=> !dragDisabled,\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  }))\n\n\n  const parameterAncestors = {\n    machine: [\n      { uuid: data.uuid, accepts: ['uuid-machine'] },\n      ...ancestors\n    ],\n    location: [\n      { uuid: data.uuid, accepts: ['uuid-location'] },\n      ...ancestors\n    ],\n    trajectory: [\n      { uuid: data.uuid, accepts: ['uuid-trajectory', 'node.trajectory.'] },\n      ...ancestors\n    ],\n    thing: [\n      { uuid: data.uuid, accepts: ['uuid-placeholder'] },\n      ...ancestors\n    ]\n  }\n\n  const [settingsRef, { height }] = useMeasure();\n  const [settingsExpanded, setSettingsExpanded] = useState(false);\n  const settingsStyle = useSpring({ height: height, config: config.stiff});\n  \n  const primitivesWithSettings = [\n    'node.primitive.gripper.',\n    'node.primitive.delay.'\n  ]\n\n  const styles = {\n    backgroundColor:\n      blockStyles[data.type],\n    minHeight: 30,\n    minWidth: 250,\n    borderRadius: 3,\n    fontSize: 14,\n    padding: 5,\n    position: 'relative',\n    margin:0,\n    zIndex: focused ? 100 : 1\n  };\n\n  const fieldStyle = {\n    borderRadius: 4,\n    margin: '1pt 1pt 4pt 1pt',\n    padding: 5,\n    backgroundColor: \"rgba(0,0,0,0.1)\"\n  }\n\n  let Glyph = null;\n  if (data.type === 'node.primitive.skill-call.') {\n    Glyph = SkillIcon;\n  } else if (data.type === 'node.primitive.hierarchical.') {\n    Glyph = ContainerIcon;\n  } else {\n    Glyph = PrimitiveIcon;\n  }\n\n  const parameterDrop = (dropData, parameter) => {\n    if (dropData.parentData.uuid === uuid && dropData.dragBehavior === 'move') {\n      console.log('move')\n      setPrimitiveParameter('primitive', uuid, dropData.parentData.field, null);\n      setPrimitiveParameter('primitive', uuid, parameter, dropData.uuid);\n    } else {\n      console.log('copy')\n      setPrimitiveParameter('primitive', uuid, parameter, dropData.uuid);\n    }\n  }\n\n  const trajectoryDrop = (dropData) => {\n    if (dropData.type.includes('uuid')) {\n      setPrimitiveParameter('primitive', uuid, 'trajectory_uuid', dropData.uuid);\n    } else {\n      console.log(dropData)\n      moveTrajectoryBlock(dropData, uuid, 'trajectory_uuid')\n    }\n  }\n\n  return (\n    <div hidden={isDragging && dragBehavior==='move'}>\n      <div ref={preview} style={styles} className={focused ? `focus-${frame}` : null} onClick={(e) => { e.stopPropagation(); unfocused && clearFocusItem() }}>\n        <Row wrap={false} style={{ fontSize: 16, marginBottom: 7 }} align='middle' justify='space-between'>\n          <Row wrap={false} align='middle' ref={dragDisabled ? null : drag} span={17} style={{ textAlign: 'left', backgroundColor: 'rgba(255,255,255,0.1)', borderRadius: 3, padding: 4, minWidth: 200, maxWidth: 230, cursor: dragDisabled ? 'not-allowed':'grab', zIndex:101 }}>\n            <Icon style={{ marginLeft: 4, marginRight: 4 }} component={Glyph} />\n            {data.name}\n          </Row>\n          <Row wrap={false} align='middle' style={{ textAlign: 'end' }}>\n            {executable && <Button type='text' icon={<EyeOutlined/>} onClick={(e) => {e.stopPropagation();setFocusItem('primitive', uuid)}}/>}\n            {editingEnabled ? <UnlockOutlined style={{marginRight:5,marginLeft:5}}/> : <LockOutlined style={{marginRight:5,marginLeft:5}}/>}\n            {/* <Button\n                  type='text'\n                  style={{marginLeft:2}}\n                  onClick={(e) => {e.stopPropagation();setFocusItem('program', uuid)}}\n                  icon={<EllipsisOutlined />}\n              /> */}\n          </Row>\n        </Row>\n        {primitivesWithSettings.some(primitive => primitive === data.type) &&\n          <div style={fieldStyle}>\n            <Row align=\"middle\" style={{ marginBottom: 5 }}>\n              <Col span=\"20\">Settings:</Col>\n              <Col span=\"4\">\n                <Button\n                  disabled={inDrawer}\n                  onClick={() => setSettingsExpanded(!settingsExpanded)}\n                  type='text'\n                  icon={settingsExpanded ? (\n                    <DownOutlined />\n                  ) : (\n                    <RightOutlined />\n                  )}\n                />\n              </Col>\n            </Row>\n            <animated.div style={{ overflow: 'hidden', ...settingsStyle }}>\n              <div ref={settingsRef}>\n                {settingsExpanded && data.type === 'node.primitive.gripper.' && (\n                  <>\n                    <Row align=\"middle\" style={fieldStyle}>\n                      <Col flex={2}>Position:</Col>\n                      <Col flex={3} style={{ textAlign: 'right' }}>\n                        <InputNumber\n                          min={0}\n                          max={85}\n                          size='small'\n                          suffix='mm'\n                          defaultValue={data.parameters.position}\n                          disabled={!editingEnabled}\n                          onChange={(v) => setPrimitiveParameter('primitive', data.uuid, 'position', v)}\n                          bordered={false}\n                          style={{ backgroundColor: 'rgba(255,255,255,0.2)' }} />\n                      </Col>\n                    </Row>\n                    {/* <Row align=\"middle\" style={fieldStyle}>\n                      <Col flex={2}>Effort:</Col>\n                      <Col flex={3} style={{ textAlign: 'right' }}>\n                        <InputNumber\n                          min={0}\n                          max={5}\n                          size='small'\n                          defaultValue={data.parameters.effort}\n                          disabled={!editingEnabled}\n                          onChange={(v) => setPrimitiveParameter('primitive', data.uuid, 'effort', v)}\n                          bordered={false}\n                          style={{ backgroundColor: 'rgba(255,255,255,0.2)' }} />\n                      </Col>\n                    </Row> */}\n                    <Row align=\"middle\" style={fieldStyle}>\n                      <Col flex={2}>Speed:</Col>\n                      <Col flex={3} style={{ textAlign: 'right' }}>\n                        <InputNumber\n                          min={20}\n                          max={150}\n                          size='small'\n                          suffix='mm/s'\n                          defaultValue={data.parameters.speed}\n                          disabled={!editingEnabled}\n                          onChange={(v) => setPrimitiveParameter('primitive', data.uuid, 'speed', v)}\n                          bordered={false}\n                          style={{ backgroundColor: 'rgba(255,255,255,0.2)' }} />\n                      </Col>\n                    </Row>\n                  </>\n                )}\n                {settingsExpanded && data.type === 'node.primitive.delay.' && (\n                  <>\n                    <Row align=\"middle\" style={fieldStyle}>\n                      <Col flex={2}>Duration:</Col>\n                      <Col flex={3} style={{ textAlign: 'right' }}>\n                        <InputNumber\n                          min={0}\n                          max={5}\n                          formatter={(v) => (`${v} sec`)}\n                          defaultValue={data.parameters.duration}\n                          disabled={!editingEnabled}\n                          onChange={(v) => setPrimitiveParameter('primitive', data.uuid, 'duration', v)}\n                          bordered={false}\n                          style={{ backgroundColor: 'rgba(255,255,255,0.2)' }} />\n                      </Col>\n                    </Row>\n                  </>\n                )}\n              </div>\n            </animated.div>\n          </div>}\n        {data.type.includes(\"node.primitive.machine-primitive\") && (\n          <Row align=\"middle\" style={fieldStyle}>\n            <Col flex={2} style={{ paddingRight: 5 }}>Machine:</Col>\n            <Col flex={3}>\n              <NodeZone\n                ancestors={parameterAncestors.machine}\n                context={context}\n                onDrop={(dropData) => parameterDrop(dropData, 'machine_uuid')}\n                emptyMessage='No Machine'\n                dropDisabled={!editingEnabled}\n              >\n                {parameters.machine && (\n                  <UUIDBlock\n                    key={parameters.machine.uuid}\n                    id={parameters.machine.uuid}\n                    idx={0}\n                    dragBehavior='move'\n                    hoverBehavior='replace'\n                    ancestors={parameterAncestors.machine}\n                    context={context}\n                    parentData={{ type: 'primitive', uuid, field: 'machine_uuid' }}\n                    data={{ ...parameters.machine, itemType: 'machine', type: `uuid-machine` }}\n                    onDelete={(_) => setPrimitiveParameter('primitive', uuid, 'machine_uuid', null)}\n                    onDrop={(dropData) => parameterDrop(dropData, 'machine_uuid')}\n                    dragDisabled={!editingEnabled}\n                    dropDisabled={!editingEnabled}\n                  />\n                )\n                }\n              </NodeZone>\n            </Col>\n          </Row>\n        )}\n        {data.type.includes(\"node.primitive.move-trajectory\") && (\n          <Row align=\"middle\" style={fieldStyle}>\n            <Col flex={2} style={{ paddingRight: 5 }}>Trajectory:</Col>\n            <Col flex={3}>\n              <NodeZone\n                ancestors={parameterAncestors.trajectory}\n                context={context}\n                parentData={{ type: 'primitive', uuid, field: 'trajectory_uuid' }}\n                onDelete={(_) => deletePrimitiveTrajectory(uuid, 'trajectory_uuid', parameters.trajectory.uuid)}\n                onDrop={trajectoryDrop}\n                emptyMessage='No Trajectory'\n                dropDisabled={!editingEnabled}\n              > \n                {parameters.trajectory && (\n                  parameters.trajectory.real ? (\n                    <TrajectoryBlock\n                      uuid={parameters.trajectory.uuid}\n                      idx={0}\n                      parentData={{ type: 'primitive', uuid, field: 'trajectory_uuid' }}\n                      ancestors={parameterAncestors.trajectory}\n                      dragBehavior='move'\n                      dragDisabled={!editingEnabled}\n                      onDelete={(_) => deletePrimitiveTrajectory(uuid, 'trajectory_uuid', parameters.trajectory.uuid)}\n                      context={context}\n                    />\n                  ) : (\n                    <UUIDBlock\n                      key={parameters.trajectory.uuid}\n                      id={parameters.trajectory.uuid}\n                      idx={0}\n                      dragBehavior='move'\n                      hoverBehavior='replace'\n                      ancestors={parameterAncestors.trajectory}\n                      context={context}\n                      parentData={{ type: 'primitive', uuid, field: 'trajectory_uuid' }}\n                      data={{ ...parameters.trajectory, itemType: 'trajectory', type: `uuid-trajectory` }}\n                      onDelete={(_) => setPrimitiveParameter('primitive', uuid, 'trajectory_uuid', null)}\n                      onDrop={trajectoryDrop}\n                      dragDisabled={!editingEnabled}\n                      dropDisabled={!editingEnabled}\n                    />\n                  )\n                )}\n              </NodeZone>\n            </Col>\n          </Row>\n        )}\n        {data.type.includes(\"node.primitive.move-unplanned\") && (\n          <Row align=\"middle\" style={fieldStyle}>\n            <Col flex={2} style={{ paddingRight: 5 }}>To Location:</Col>\n            <Col flex={3}>\n              <NodeZone\n                ancestors={parameterAncestors.location}\n                context={context}\n                onDrop={(dropData) => parameterDrop(dropData, 'location_uuid')}\n                emptyMessage='No Location'\n                dropDisabled={!editingEnabled}\n              >\n                {parameters.location && (\n                  <UUIDBlock\n                    key={parameters.location.uuid}\n                    id={parameters.location.uuid}\n                    idx={0}\n                    dragBehavior='move'\n                    hoverBehavior='replace'\n                    ancestors={parameterAncestors.location}\n                    context={context}\n                    parentData={{ type: 'primitive', uuid, field: 'location_uuid' }}\n                    data={{ ...parameters.location, itemType: 'location', type: `uuid-location` }}\n                    onDelete={(_) => setPrimitiveParameter('primitive', uuid, 'location_uuid', null)}\n                    onDrop={(dropData) => parameterDrop(dropData, 'location_uuid')}\n                    dragDisabled={!editingEnabled}\n                    dropDisabled={!editingEnabled}\n                  />\n                )\n                }\n              </NodeZone>\n            </Col>\n          </Row>\n        )}\n        {data.type.includes(\"node.primitive.gripper\") && (\n          <Row align=\"middle\" style={fieldStyle}>\n            <Col flex={2} style={{ paddingRight: 5 }}>Thing:</Col>\n            <Col flex={3}>\n              <NodeZone\n                ancestors={parameterAncestors.thing}\n                context={context}\n                onDrop={(dropData) => parameterDrop(dropData, 'thing_uuid')}\n                emptyMessage='No Thing'\n                dropDisabled={!editingEnabled}\n              >\n                {parameters.thing && (\n                  <UUIDBlock\n                    key={parameters.thing.uuid}\n                    id={parameters.thing.uuid}\n                    idx={0}\n                    dragBehavior='move'\n                    hoverBehavior='replace'\n                    ancestors={parameterAncestors.thing}\n                    context={context}\n                    parentData={{ type: 'primitive', uuid, field: 'thing_uuid' }}\n                    data={{ ...parameters.thing, itemType: 'placeholder', type: `uuid-placeholder` }}\n                    onDelete={(_) => setPrimitiveParameter('primitive', uuid, 'thing_uuid', null)}\n                    onDrop={(dropData) => parameterDrop(dropData, 'thing_uuid')}\n                    dragDisabled={!editingEnabled}\n                    dropDisabled={!editingEnabled}\n                  />\n                )\n                }\n              </NodeZone>\n            </Col>\n          </Row>\n        )}\n      </div>\n      {!(isDragging && dragBehavior === 'move') && after}\n    </div>\n  );\n};\n","import React, { useCallback } from \"react\";\nimport { NodeZone } from \"./NodeZone\";\n// import { ItemSortable } from \"./Wrappers\";\nimport { Row, Col, Button } from \"antd\";\nimport useStore from \"../../stores/Store\";\nimport shallow from 'zustand/shallow';\nimport blockStyles from \"./blockStyles\";\nimport { ReactComponent as SkillIcon } from '../CustomIcons/Skill.svg';\nimport Icon, { UnlockOutlined, LockOutlined, EyeOutlined } from '@ant-design/icons';\nimport { TrajectoryBlock } from \"./TrajectoryBlock\";\nimport './highlight.css';\nimport { UUIDBlock } from \"./UUIDBlock\";\nimport { useDrag } from \"react-dnd\";\n\nconst TYPE_LOOKUP = {\n  'node.machine.': {store:'machines',type:'machine'},\n  'node.pose.thing.': {store:'placeholders',type:'placeholder'},\n  'node.pose.waypoint.': {store:'waypoints',type:'waypoint'},\n  'node.pose.waypoint.location.': {store:'locations',type:'location'},\n  'node.trajectory.': {store:'trajectories',type:'trajectory'}\n}\n\nconst PRETTY_LOOKUP = {\n  'node.machine.': 'Machine',\n  'node.pose.thing.': 'Thing',\n  'node.pose.waypoint.': 'Waypoint',\n  'node.pose.waypoint.location.': 'Location',\n  'node.trajectory.': 'Trajectory'\n}\n\nexport const SkillCallBlock = ({\n  staticData, uuid, parentData, onDelete, dragBehavior,\n  dragDisabled, ancestors, context, idx, after,\n}) => {\n\n  const [focused, data, skill, parameters, executable] = useStore(useCallback(state => {\n    let parameterValues = [];\n\n    /*\n    {\n        type: 'node.skill-argument.',\n        // The human-readable name of this argument\n        name: 'This Machine',\n        // If the uuid is found in any fields for the children primitives' parameters, replace it with the corresponding value. \n        // This also serves as the key for any corresponding skill-call's parameters.\n        uuid: 'skill-arg-uuid-0', \n        editable: true,\n        deleteable: true,\n        description: '',\n        // The type of the argument\n        parameter_type: 'node.machine.',\n        is_list: false\n    }\n    */\n    const data = staticData ? staticData : state.data.primitives[uuid] ? state.data.primitives[uuid] : {uuid:null,parameters:{skill_uuid:null}};\n    const executable = state.executablePrimitives[data.uuid] ? true : false;\n    const skill = state.data.skills[data.parameters.skill_uuid] ? state.data.skills[data.parameters.skill_uuid] : {arguments:[]};\n\n    skill.arguments.forEach(argument => {\n      const callVal = data.parameters[argument.uuid];\n      if (argument.parameter_type !== 'node.pose.thing.') {\n        if (callVal && state.data[TYPE_LOOKUP[argument.parameter_type].store][callVal]) {\n          parameterValues.push({ contents: state.data[TYPE_LOOKUP[argument.parameter_type].store][callVal], argument, real:true })\n        } else if (callVal && context[callVal]) {\n          parameterValues.push({ contents: { uuid: callVal, ...context[callVal] }, argument })\n        } else {\n          parameterValues.push({ contents: null, argument })\n        }\n      } else if (argument.parameter_type === 'node.pose.thing.') {\n        if (callVal && state.data.placeholders[callVal]) {\n          parameterValues.push({ contents: state.data.placeholders[callVal], argument })\n        } else if (callVal && context[callVal]) {\n          parameterValues.push({ contents: { uuid: callVal, pending_node: context[callVal] }, argument })\n        } else {\n          parameterValues.push({ contents: null, argument })\n        }\n      }\n    })\n\n    return [\n      state.focusItem.uuid === uuid,\n      data,\n      skill,\n      parameterValues,\n      executable\n    ]\n  }, [staticData, uuid, context]),shallow);\n\n  const [frame, clearFocusItem, setFocusItem, focusExists,\n    setPrimitiveParameter, moveTrajectoryBlock,\n    deletePrimitiveTrajectory] = useStore(\n      (state) => [state.frame, state.clearFocusItem, state.setFocusItem, state.focusItem.type !== null,\n      state.setPrimitiveParameter, state.moveTrajectoryBlock, state.deletePrimitiveTrajectory],shallow)\n\n  const unfocused = focusExists && !focused;\n\n  const inDrawer = ancestors[0].uuid === 'drawer';\n  const editingEnabled = !inDrawer && data.editable;\n\n  const [{ isDragging }, drag, preview] = useDrag(() => ({\n    type: data.type,\n    item: { ...data, parentData, dragBehavior, onDelete, idx },\n    options: { dragEffect: dragBehavior },\n    canDrag: (_) => !dragDisabled,\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  }))\n\n\n  const parameterAncestors = {\n    'node.machine.': [\n      { uuid: data.uuid, accepts: ['uuid-machine'] },\n      ...ancestors\n    ],\n    'node.pose.waypoint.location.': [\n      { uuid: data.uuid, accepts: ['uuid-location'] },\n      ...ancestors\n    ],\n    'node.pose.waypoint.': [\n      { uuid: data.uuid, accepts: ['uuid-waypoint'] },\n      ...ancestors\n    ],\n    'node.trajectory.': [\n      { uuid: data.uuid, accepts: ['uuid-trajectory', 'node.trajectory.'] },\n      ...ancestors\n    ],\n    'node.pose.thing.': [\n      { uuid: data.uuid, accepts: ['uuid-placeholder'] },\n      ...ancestors\n    ]\n  }\n\n  const styles = {\n    backgroundColor:\n      blockStyles[data.type],\n    minHeight: 30,\n    minWidth: 250,\n    borderRadius: 3,\n    fontSize: 14,\n    padding: 5,\n    position: 'relative',\n    margin: 0,\n    zIndex: focused ? 100 : 1\n  };\n\n  const fieldStyle = {\n    borderRadius: 4,\n    margin: '1pt 1pt 4pt 1pt',\n    padding: 5,\n    backgroundColor: \"rgba(0,0,0,0.1)\"\n  }\n\n  const parameterDrop = (dropData, parameter) => {\n    if (dropData.type === 'node.trajectory.') {\n      moveTrajectoryBlock(dropData, uuid, parameter)\n    } else if (dropData.parentData.uuid === uuid && dropData.dragBehavior === 'move') {\n      setPrimitiveParameter('primitive', uuid, dropData.parentData.field, null);\n      setPrimitiveParameter('primitive', uuid, parameter, dropData.uuid);\n    } else {\n      setPrimitiveParameter('primitive', uuid, parameter, dropData.uuid);\n    }\n  }\n\n  return (\n    <div hidden={isDragging && dragBehavior === 'move'}>\n      <div ref={preview} style={styles} className={focused ? `focus-${frame}` : null} onClick={(e) => { e.stopPropagation(); unfocused && clearFocusItem() }}>\n        <Row style={{ fontSize: 16, marginBottom: 7 }} align='middle' justify='space-between'>\n          <Col ref={dragDisabled ? null : drag} span={17} style={{ textAlign: 'left', backgroundColor: 'rgba(255,255,255,0.1)', borderRadius: 3, padding: 4, cursor: dragDisabled ? 'not-allowed' : 'grab', zIndex: 101 }}>\n            <Icon style={{ marginLeft: 4 }} component={SkillIcon} />{' Execute: '}{skill.name}\n          </Col>\n          <Col span={6} offset={1} style={{ textAlign: 'end' }}>\n            {executable && <Button type='text' icon={<EyeOutlined/>} onClick={(e) => {e.stopPropagation();setFocusItem('primitive', uuid)}}/>}\n            {editingEnabled ? <UnlockOutlined style={{marginRight:5}}/> : <LockOutlined style={{marginRight:5}}/>}\n          </Col>\n        </Row>\n        {parameters.map((argInfo,i) => (\n          <Row key={i} align=\"middle\" style={fieldStyle}>\n            <Col flex={2} style={{ paddingRight: 5 }}>{argInfo.argument.name}:</Col>\n            <Col flex={3}>\n              <NodeZone\n                ancestors={parameterAncestors[argInfo.argument.parameter_type]}\n                context={context}\n                onDrop={(dropData) => parameterDrop(dropData, argInfo.argument.uuid)}\n                emptyMessage={`No ${PRETTY_LOOKUP[argInfo.argument.parameter_type]}`}\n                dropDisabled={!editingEnabled}\n              >\n                {argInfo.contents && (argInfo.argument.parameter_type !== 'node.trajectory.' || !argInfo.real) ? (\n                  <UUIDBlock\n                    id={argInfo.contents.uuid}\n                    idx={0}\n                    dragBehavior='move'\n                    hoverBehavior='replace'\n                    ancestors={parameterAncestors[argInfo.argument.parameter_type]}\n                    context={context}\n                    parentData={{ type: 'primitive', uuid, field: argInfo.argument.uuid }}\n                    data={{ ...argInfo.contents, itemType: TYPE_LOOKUP[argInfo.argument.parameter_type].type, type: `uuid-${TYPE_LOOKUP[argInfo.argument.parameter_type].type}` }}\n                    onDelete={editingEnabled ? (_) => setPrimitiveParameter('primitive', uuid, argInfo.argument.uuid, null) : null}\n                    onDrop={(dropData) => parameterDrop(dropData, argInfo.argument.uuid)}\n                    dragDisabled={!editingEnabled}\n                    dropDisabled={!editingEnabled}\n                  />\n                ) : argInfo.contents && argInfo.argument.parameter_type === 'node.trajectory.' && argInfo.real ? (\n                  <TrajectoryBlock\n                    uuid={argInfo.contents.uuid}\n                    idx={0}\n                    parentData={{ type: 'primitive', uuid, field: argInfo.argument.uuid }}\n                    ancestors={parameterAncestors[argInfo.argument.parameter_type]}\n                    dragBehavior='move'\n                    dragDisabled={!editingEnabled}\n                    onDelete={(_) => deletePrimitiveTrajectory(uuid, argInfo.argument.uuid, argInfo.contents.uuid)}\n                    context={context}\n                  />\n                ) : null}\n              </NodeZone>\n            </Col>\n          </Row>\n        ))}\n      </div>\n      {!(isDragging && dragBehavior === 'move') && after}\n    </div>\n  );\n};\n","import React from 'react';\nimport useStore from '../../stores/Store';\nimport { PrimitiveBlock } from './PrimitiveBlock';\nimport { HierarchicalBlock } from './HierarchicalBlock';\nimport { SkillCallBlock } from './SkillCallBlock';\n\nconst COMPONENT_LOOKUP = {\n    'node.primitive.delay.':PrimitiveBlock,\n    'node.primitive.breakpoint':PrimitiveBlock,\n    'node.primitive.gripper.':PrimitiveBlock,\n    'node.primitive.machine-primitive.machine-initialize.':PrimitiveBlock,\n    'node.primitive.machine-primitive.machine-start.':PrimitiveBlock,\n    'node.primitive.machine-primitive.machine-stop.':PrimitiveBlock,\n    'node.primitive.machine-primitive.machine-wait.':PrimitiveBlock,\n    'node.primitive.move-trajectory.':PrimitiveBlock,\n    'node.primitive.move-unplanned.':PrimitiveBlock,\n    'node.primitive.skill-call.':SkillCallBlock,\n    'node.primitive.hierarchical.':HierarchicalBlock,\n}\n\nexport const ActionBlock = (props) => {\n\n    const type = useStore(state=>{\n        return props.staticData ? props.staticData.type : state.data.primitives[props.uuid]?.type\n    })\n    \n    if (!type) {\n        return null\n    }\n    const Component = COMPONENT_LOOKUP[type];\n\n    return <Component {...props} />\n};","import React, { useCallback, useState } from 'react';\nimport { Badge, Button, Row, Input } from 'antd';\nimport Icon, { RightOutlined, EditOutlined, SaveOutlined, EyeOutlined } from '@ant-design/icons';\nimport { useDrag } from 'react-dnd';\nimport { SortableSeparator } from './SortableSeparator';\nimport { NodeZone } from './NodeZone';\nimport useStore from '../../stores/Store';\nimport shallow from 'zustand/shallow';\nimport blockStyles from './blockStyles';\nimport { ReactComponent as ContainerIcon } from '../CustomIcons/Container.svg';\nimport { acceptLookup } from './acceptLookup';\nimport './highlight.css';\nimport { ActionBlock } from './ActionBlock';\nimport { useSpring, animated } from '@react-spring/web';\nimport { config } from 'react-spring';\nimport useMeasure from 'react-use-measure';\n\nexport const HierarchicalBlock = ({ staticData, uuid, parentData, dragBehavior, dragDisabled, ancestors, context, onDelete, idx, after, locked }) => {\n\n  const [frame, focusItem, setFocusItem, setItemProperty, deleteHierarchical,\n    moveChildPrimitive, insertChildPrimitive, deleteChildPrimitive] = useStore(state => (\n      [state.frame, state.focusItem, state.setFocusItem, state.setItemProperty, state.deleteHierarchical,\n      state.moveChildPrimitive, state.insertChildPrimitive, state.deleteChildPrimitive]),shallow);\n\n  const [data, executable] = useStore(useCallback((state) => {\n    const data = staticData ? staticData : state.data.primitives[uuid]\n    return [\n      data,\n      state.executablePrimitives[data.uuid] ? true : false\n    ];\n  }, [staticData, uuid]),shallow)\n\n  const [editing, setEditing] = useState(false);\n  const [expanded, setExpanded] = useState(true);\n  const [nodeListRef, { height }] = useMeasure();\n  const nodeListStyle = useSpring({ height: height, config: config.stiff });\n\n  const focused = focusItem.uuid === data.uuid;\n\n  const inDrawer = ancestors[0].uuid === 'drawer';\n  const editingEnabled = !inDrawer && data.editable;\n\n  // Code for handling the draggability of the skill node itself\n  const [{ isDragging }, drag, preview] = useDrag(() => ({\n    type: data.type,\n    item: { ...data, parentData, dragBehavior, onDelete, idx },\n    options: { dragEffect: dragBehavior },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  }))\n\n  // Code for handling how primitives are handled when dropped in\n  const primitiveDrop = (dropData, idx) => {\n    if (dropData.parentData.uuid === uuid && dropData.dragBehavior === 'move') {\n      const newIdx = dropData.idx <= idx ? idx - 1 : idx;\n      if (newIdx === dropData.idx) {\n        return\n      }\n      moveChildPrimitive(dropData.uuid, dropData.parentData.uuid, uuid, dropData.idx, newIdx);\n    } else if (dropData.dragBehavior === 'move') {\n      moveChildPrimitive(dropData.uuid, dropData.parentData.uuid, uuid, dropData.idx, idx)\n    } else {\n      insertChildPrimitive(dropData, uuid, idx);\n    }\n  }\n\n  const fieldData = acceptLookup['node.primitive.hierarchical.'].primitiveIds;\n\n  const primitiveAncestors = [\n    { uuid: data.uuid, ...fieldData },\n    ...ancestors\n  ]\n\n  const dragBlockStyles = {\n    backgroundColor:\n      blockStyles[data.type],\n    minHeight: 30,\n    minWidth: 200,\n    borderRadius: 3,\n    fontSize: 14,\n    padding: 5,\n    position: 'relative',\n    margin: 0,\n    textAlign: 'left',\n    zIndex: focused ? 100 : 1\n  };\n\n  const onChildDelete = (dropData) => {\n    if (dropData.type.includes('hierarchical')) {\n      deleteHierarchical(dropData,data.uuid)\n    } else {\n      deleteChildPrimitive(data.uuid,dropData.uuid)\n    }\n  }\n\n  return (\n    <div hidden={isDragging && dragBehavior === 'move'}>\n      <div ref={preview} style={dragBlockStyles} className={focused ? `focus-${frame}` : null}>\n        <Row wrap={false} style={{ fontSize: 16, marginBottom: 7 }} align='middle' justify='space-between'>\n          <Row ref={editing ? null : drag} wrap={false} align='middle' style={{ boxShadow: editing?'inset 0px 0px 2px 1px #ffffff':null, backgroundColor: 'rgba(255,255,255,0.1)', borderRadius: 3, padding: 4, textAlign: 'start', flex: 1, minWidth: 130, maxWidth: 200, cursor: dragDisabled ? \"not-allowed\" : \"grab\",zIndex:101, marginRight:5, height: 32 }}>\n            <Icon style={{ marginLeft: 4 }} component={ContainerIcon} />\n            <Input style={{maxWidth: 200, color:'white',cursor: editing ? 'text' : dragDisabled ? \"not-allowed\" : \"grab\"}} bordered={false} disabled={!editing} value={data.name} onChange={(e)=>setItemProperty('primitive', data.uuid, 'name', e.target.value)}/> \n          </Row>\n          <Row wrap={false} align='middle' style={{ textAlign: 'end' }}>\n            {!inDrawer && <Button type='text' onClick={() => setExpanded(!expanded)} icon={<RightOutlined rotate={expanded ? 90 : 0} />} style={{zIndex:200}}/>}\n            {editingEnabled && <Button type='text' onClick={() => setEditing(!editing)} icon={editing ? <SaveOutlined/> : <EditOutlined/>}/>}\n            {executable && <Button type='text' icon={<EyeOutlined/>} onClick={(e) => {e.stopPropagation();setFocusItem('primitive', uuid)}}/>}\n            <Badge count={data.primitiveIds.length} showZero={true} style={{backgroundColor:'rgba(0,0,0,0.3)',marginRight:5, marginLeft:5}}/>\n          </Row>\n        </Row>\n        <animated.div style={nodeListStyle}>\n          <div ref={nodeListRef}>\n            {expanded && \n            <NodeZone\n              ancestors={primitiveAncestors}\n              onDrop={(dropData) => primitiveDrop(dropData, 0)}\n              emptyMessage='No Actions'\n              dropDisabled={!editingEnabled || isDragging || locked}\n              context={context}\n            >\n              {data.primitiveIds.map((id, idx) => (\n                <React.Fragment key={idx}>\n                  {idx === 0 && (\n                    <SortableSeparator\n                      key={0}\n                      spacing={idx === 0 ? 0 : 5}\n                      height={40}\n                      ancestors={primitiveAncestors}\n                      context={context}\n                      onDrop={(dropData) => primitiveDrop(dropData, 0)}\n                      dropDisabled={!editingEnabled || isDragging || locked}\n                    />\n                  )}\n                  <ActionBlock\n                    key={id}\n                    uuid={id}\n                    parentData={{ type: 'primitive', uuid, field: 'primitive_uuids' }}\n                    dragBehavior='move'\n                    ancestors={primitiveAncestors}\n                    context={context}\n                    idx={idx}\n                    onDelete={onChildDelete}\n                    dragDisabled={!editingEnabled || isDragging || locked}\n                    after={\n                      <SortableSeparator\n                        ancestors={primitiveAncestors}\n                        height={40}\n                        end={idx === data.primitiveIds.length - 1}\n                        spacing={idx === data.primitiveIds.length - 1 ? 0 : 5}\n                        context={context}\n                        onDrop={(dropData) => primitiveDrop(dropData, idx + 1)}\n                        dropDisabled={!editingEnabled || isDragging || locked}\n                      />\n                    }\n                  />\n                </React.Fragment>\n              ))}\n            </NodeZone>  \n          }\n          </div>\n        </animated.div>\n      </div>\n      {after}\n    </div>\n\n  )\n};","import React, { useState } from 'react';\nimport { Row, Button, Input } from 'antd';\nimport Icon, { UnlockOutlined, EyeOutlined, SaveOutlined, EditOutlined } from '@ant-design/icons';\nimport { useDrag } from 'react-dnd';\n// import { ItemSortable } from './Wrappers';\nimport { ActionBlock } from './ActionBlock';\nimport { NodeZone } from './NodeZone';\nimport useStore from '../../stores/Store';\nimport shallow from 'zustand/shallow';\nimport blockStyles from './blockStyles';\nimport { ReactComponent as ContainerIcon } from '../CustomIcons/Container.svg'\nimport './highlight.css';\n\nimport { acceptLookup } from './acceptLookup';\nimport { SortableSeparator } from './SortableSeparator';\n\nexport const ProgramBlock = ({ parentData, dragBehavior, context, ancestors }) => {\n\n    const [uuid, name, type, transform,\n        primitiveIds, executable, moveChildPrimitive,\n        deleteHierarchical, deleteChildPrimitive,\n        insertChildPrimitive, setName] = useStore(state => ([\n            state.uuid,\n            state.name,\n            state.type,\n            state.transform,\n            state.primitiveIds,\n            state.executablePrimitives[state.uuid] ? true : false,\n            state.moveChildPrimitive,\n            state.deleteHierarchical,\n            state.deleteChildPrimitive,\n            state.insertChildPrimitive,\n            state.setName\n        ]), shallow)\n    \n    const [editing, setEditing] = useState(false);\n\n    const data = { uuid, name, type, primitiveIds, transform };\n\n    const fieldData = acceptLookup['node.primitive.hierarchical.program.'].primitiveIds;\n\n    const programAncestors = [\n        { uuid: uuid, ...fieldData },\n        ...ancestors\n    ];\n\n    const [frame, focusItem, setFocusItem] = useStore(state => ([\n        state.frame,\n        state.focusItem,\n        state.setFocusItem\n    ]), shallow);\n\n    const focused = focusItem.uuid === uuid;\n\n    const [{ isDragging }, drag, preview] = useDrag(() => ({\n        type: data.type,\n        item: { ...data, parentData, dragBehavior },\n        options: { dragEffect: dragBehavior },\n        collect: monitor => ({\n            isDragging: monitor.isDragging()\n        })\n    }))\n\n    const primitiveDrop = (dropData, idx) => {\n        if (dropData.parentData.uuid === uuid && dropData.dragBehavior === 'move') {\n            const newIdx = dropData.idx <= idx ? idx - 1 : idx;\n            if (newIdx === dropData.idx) {\n                return\n            }\n            moveChildPrimitive(dropData.uuid, dropData.parentData.uuid, uuid, dropData.idx, newIdx);\n        } else if (dropData.dragBehavior === 'move') {\n            moveChildPrimitive(dropData.uuid, dropData.parentData.uuid, uuid, dropData.idx, idx)\n        } else {\n            insertChildPrimitive(dropData, uuid, idx);\n        }\n    }\n\n    const onChildDelete = (dropData) => {\n        if (dropData.type.includes('hierarchical')) {\n          deleteHierarchical(dropData,data.uuid)\n        } else {\n          deleteChildPrimitive(data.uuid,dropData.uuid)\n        }\n      }\n\n    const dragBlockStyles = {\n        display: 'inline-block',\n        position: 'absolute',\n        left: transform.x,\n        top: transform.y,\n        opacity: isDragging ? 0.4 : 1,\n        backgroundColor:\n            blockStyles['node.primitive.hierarchical.program.'],\n        minHeight: 30,\n        minWidth: 250,\n        borderRadius: 3,\n        padding: 5,\n        zIndex: focused ? 100 : 1\n    };\n\n    return (\n        <div onDrag={e => e.stopPropagation()} ref={preview} style={dragBlockStyles} className={focused ? `focus-${frame}` : null}>\n            <Row style={{ fontSize: 16, marginBottom: 7 }} align='middle' justify='space-between'>\n                <Row ref={editing ? null : drag} wrap={false} align='middle' style={{ boxShadow: editing ? 'inset 0px 0px 2px 1px #ffffff' : null, backgroundColor: 'rgba(255,255,255,0.1)', borderRadius: 3, padding: 4, textAlign: 'start', flex: 1, minWidth: 130, maxWidth: 200, cursor: editing ? null : \"grab\", zIndex: 101, marginRight: 5, height: 32 }}>\n                    <Icon style={{ marginLeft: 4 }} component={ContainerIcon} />\n                    <Input style={{ maxWidth: 200, color: 'white', cursor: editing ? 'text' : \"grab\" }} bordered={false} disabled={!editing} value={name} onChange={(e) => setName(e.target.value)} />\n                </Row>\n                <Row wrap={false} align=\"middle\" style={{ textAlign: 'end' }}>\n                    <Button type='text' onClick={() => setEditing(!editing)} icon={editing ? <SaveOutlined/> : <EditOutlined/>}/>\n                    {executable && <Button type='text' icon={<EyeOutlined/>} onClick={(e) => {e.stopPropagation();setFocusItem('program', uuid)}}/>}\n                    <UnlockOutlined style={{marginRight:5,marginLeft:5}}/>\n                    {/* <Button\n                        type='text'\n                        style={{ marginLeft: 2 }}\n                        onClick={(e) => { e.stopPropagation(); setFocusItem('program', uuid) }}\n                        icon={<EllipsisOutlined />}\n                    /> */}\n                </Row>\n            </Row>\n            <NodeZone\n                ancestors={programAncestors}\n                onDrop={(dropData) => primitiveDrop(dropData, 0)}\n                emptyMessage='No Actions'\n                context={context}\n            >\n                {primitiveIds.map((id, idx) => (\n                    <React.Fragment key={idx}>\n                        {idx === 0 && (\n                            <SortableSeparator\n                                key={0}\n                                spacing={idx === 0 ? 0 : 5}\n                                height={30}\n                                ancestors={programAncestors}\n                                context={context}\n                                onDrop={(dropData) => primitiveDrop(dropData, 0)}\n                                dropDisabled={false}\n                            />\n                        )}\n                        <ActionBlock\n                            key={id}\n                            uuid={id}\n                            parentData={{ type: 'program', uuid, field: 'primitive_uuids' }}\n                            dragBehavior='move'\n                            ancestors={programAncestors}\n                            context={context}\n                            idx={idx}\n                            onDelete={onChildDelete}\n                            dragDisabled={false}\n                            after={\n                                <SortableSeparator\n                                    ancestors={programAncestors}\n                                    height={30}\n                                    end={idx === primitiveIds.length - 1}\n                                    spacing={idx === primitiveIds.length - 1 ? 0 : 5}\n                                    context={context}\n                                    onDrop={(dropData) => primitiveDrop(dropData, idx + 1)}\n                                    dropDisabled={false}\n                                />\n                            }\n                        />\n                    </React.Fragment>\n                ))}\n            </NodeZone>\n        </div>\n    );\n};\n","// import React from 'react';\nimport styled from 'styled-components';\n\nexport const Grid = styled.div`\n  padding:40pt;\n  height:3000pt;\n  width:3000pt;\n  position:relative;\n  background-size: 30pt 30pt;\n  background-image:\n    linear-gradient(to right, #141414 1pt, transparent 1pt),\n    linear-gradient(to bottom, #141414 1pt, transparent 1pt);\n`","import React from 'react';\nimport useStore from '../../../stores/Store';\nimport { UUIDBlock } from '../UUIDBlock';\n\nexport const EditableTag = (props) => {\n\n    const data = props.data;\n    const setArgumentProperty = useStore(state=>state.setArgumentProperty);\n  \n    const handleEditInputConfirm = newName => {\n      setArgumentProperty(props.parent, props.id, 'name', newName);\n    };\n\n    const handleDeleteClick = e => {\n      props.closefunc(props.data);\n    }\n\n    const itemType = props.itemType;\n    const uuid = data.uuid;\n\n    return (\n      <UUIDBlock \n          ancestors={props.ancestors}\n          parentData={{type:'skill',uuid:props.parent}}\n          data={{...data, itemType, type:props.type}} \n          context={{uuid: {name: uuid, real: false}}}\n          editable={props.editable}\n          onNameChange={handleEditInputConfirm}\n          onDelete={handleDeleteClick}>\n      </UUIDBlock>\n    );\n}","import React, {useCallback} from 'react';\nimport useStore from '../../../stores/Store';\nimport { typeToKey } from '../../../stores/helpers';\n\nimport { EditableTag } from './EditableTag';\n\n\nexport const EditableTagGroup = (props) => {\n  const uuid = props.skill.uuid;\n  const data = useStore(useCallback(state=>state.data[typeToKey('skill')][uuid].arguments,[uuid]));\n\n  const deleteSkillArgument = useStore(state=>state.deleteSkillArgument);\n\n  const closeTag = argument => {\n    deleteSkillArgument(props.skill, argument);\n  };\n\n  const determineItemType = param_type => {\n    if (param_type === \"node.machine.\") {\n      return 'machine';\n    } else if (param_type === \"node.pose.thing.\") {\n      return 'thing';\n    } else if (param_type === \"node.trajectory.\") {\n      return 'trajectory';\n    } else if (param_type === \"node.pose.waypoint.location.\") {\n      return 'location';\n    }\n    return '';\n  }\n\n  const fieldStyle = {\n    borderRadius: 4,\n    width: '100%',\n    marginBottom: 4,\n    padding: 5,\n    backgroundColor: \"rgba(0,0,0,0.2)\"\n  }\n\n  return (\n    <div style={fieldStyle} >\n      {data.map((obj) => {\n          return (\n            <div key={obj.uuid} style={{paddingTop:5}} >\n              <EditableTag \n                key={obj.uuid} \n                id={obj.uuid} \n                data={obj}\n                itemType={determineItemType(obj.parameter_type)}\n                type={'uuid-'+determineItemType(obj.parameter_type)} \n                parent={props.skill.uuid} \n                editable={props.skill.editable}\n                ancestors={props.ancestors} \n                closefunc={closeTag}/>\n            </div>\n          )\n      })}\n    </div>\n  );\n}","import React, {useCallback, useState} from 'react';\nimport { Input, Row, Button, Dropdown, Menu } from 'antd';\nimport Icon, { EllipsisOutlined, UnlockOutlined, LockOutlined } from '@ant-design/icons';\nimport { SortableSeparator } from './SortableSeparator';\n// import { ItemSortable } from './Wrappers';\nimport { NodeZone } from './NodeZone';\nimport useStore from '../../stores/Store';\nimport shallow from 'zustand/shallow';\nimport { acceptLookup } from './acceptLookup';\nimport blockStyles from './blockStyles';\nimport { ReactComponent as ContainerIcon } from '../CustomIcons/Container.svg'\nimport './highlight.css';\nimport { ActionBlock } from './ActionBlock';\nimport { generateUuid } from '../../stores/generateUuid';\nimport { EditableTagGroup } from './Tags/EditableTagGroup';\nimport { useDrag } from 'react-dnd';\nimport {ReactComponent as LocationIcon} from '../CustomIcons/Location.svg';\nimport {ReactComponent as MachineIcon} from '../CustomIcons/Gear.svg';\nimport {ReactComponent as ThingIcon} from '../CustomIcons/Thing.svg';\n\nconst DEFAULT_ARG_NAMES = {\n    \"node.machine.\": 'Machine Parameter',\n    \"node.trajectory.\": 'Trajectory Parameter',\n    \"node.pose.thing.\": 'Thing Parameter',\n    \"node.pose.waypoint.\": 'Waypoint Parameter',\n    \"node.pose.waypoint.location.\": 'Location Parameter'\n}\n\nexport const SkillBlock = ({staticData,uuid,parentData,dragBehavior,ancestors,context,onDelete}) => {\n\n    const [frame,focusItem,deleteHierarchical,deleteChildPrimitive,\n        moveChildPrimitive,insertChildPrimitive, setItemProperty] = useStore(state=>(\n        [state.frame,state.focusItem,state.deleteHierarchical,state.deleteChildPrimitive,\n        state.moveChildPrimitive,state.insertChildPrimitive,state.setItemProperty]),shallow);\n    \n    const createSkillArgument = useStore(state=>state.createSkillArgument);\n\n    const data = useStore(useCallback((state)=>{\n        return staticData ? staticData : state.data.skills[uuid];\n    },[staticData,uuid]),shallow)\n    \n    const focused = focusItem.uuid === data.uuid;\n    const [editing, setEditing] = useState(false);\n    // const toggleSkillEditable = useStore(state=>state.toggleSkillEditable);\n\n    const fieldData = acceptLookup['node.primitive.hierarchical.skill.'].primitiveIds;\n\n    const inDrawer = ancestors[0].uuid === 'drawer';\n    const editingEnabled = !inDrawer && data.editable;\n\n    const skillAncestors = [\n        {uuid:data.uuid,...fieldData},\n        ...ancestors\n    ];\n\n    // Code for handling the draggability of the skill node itself\n    const [{ isDragging }, drag, preview] = useDrag(() => ({\n        type: data.type,\n        item: { ...data, parentData, dragBehavior, onDelete},\n        options: { dragEffect: dragBehavior },\n        collect: monitor => ({\n          isDragging: monitor.isDragging()\n        })\n    }))\n\n    // Code for handling how primitives are handled when dropped in\n    const primitiveDrop = (dropData, idx) => {\n        if (dropData.parentData.uuid === uuid && dropData.dragBehavior === 'move') {\n            const newIdx = dropData.idx <= idx ? idx - 1 : idx;\n            if (newIdx === dropData.idx) {\n                return\n            }\n            moveChildPrimitive(dropData.uuid, dropData.parentData.uuid, uuid, dropData.idx, newIdx);\n        } else if (dropData.dragBehavior === 'move') {\n            moveChildPrimitive(dropData.uuid, dropData.parentData.uuid, uuid, dropData.idx, idx)\n        } else {\n            insertChildPrimitive(dropData, uuid, idx);\n        }\n    }\n\n    // Code for creating skill arguments\n    const menuClickCreateArgument = e => {\n        const item = {uuid: generateUuid('skill-arg'), name: DEFAULT_ARG_NAMES[e.key], description: \"\", is_list: false, parameter_type: e.key, type: 'node.skill-argument.', editable: data.editable, deleteable: true};\n        createSkillArgument(data.uuid, item);\n    }\n\n    // Extend the current context with any arg-based values\n    let currentContext = {\n        ...context\n    };\n    data.arguments.forEach(arg=>{\n        currentContext[arg.uuid] = {name:arg.name,real:false}\n    })\n\n    const onChildDelete = (dropData) => {\n        if (dropData.type.includes('hierarchical')) {\n          deleteHierarchical(dropData,data.uuid)\n        } else {\n          deleteChildPrimitive(data.uuid,dropData.uuid)\n        }\n      }\n\n    const dragBlockStyles = {\n        display:'inline-block',\n        position: ancestors[0].uuid === 'drawer' ? 'relative' : 'absolute',\n        left:data.transform.x,\n        top:data.transform.y,\n        backgroundColor:\n          blockStyles['node.primitive.hierarchical.skill.'],\n        minHeight: 30,\n        minWidth: 260,\n        borderRadius: 3,\n        padding: 5,\n        zIndex: focused ? 100 : 1,\n        opacity: isDragging ? 0.4 : 1\n    };\n\n    return (\n        <div ref={preview} style={dragBlockStyles} className={focused?`focus-${frame}`:null}>\n            <Row style={{ fontSize: 16, marginBottom: 7 }} align='middle' justify='space-between'>\n                <Row ref={editing ? null : drag} wrap={false} align='middle' style={{ boxShadow: editing ? 'inset 0px 0px 2px 1px #ffffff' : null, backgroundColor: 'rgba(255,255,255,0.1)', borderRadius: 3, padding: 4, textAlign: 'start', flex: 1, minWidth: 130, maxWidth: 200, cursor: editing ? null : \"grab\", zIndex: 101, marginRight: 5, height: 32 }}>\n                    <Icon style={{ marginLeft: 4 }} component={ContainerIcon} />\n                    <Input style={{ maxWidth: 200, color: 'white', cursor: editing ? 'text' : \"grab\" }} bordered={false} disabled={!editing} value={data.name} onChange={(e)=>setItemProperty('skill', data.uuid, 'name', e.target.value)} />\n                </Row>\n                <Row wrap={false} align='middle' style={{textAlign:'end'}}>\n                    {editingEnabled ? <UnlockOutlined style={{marginRight:5,marginLeft:5}}/> : <LockOutlined style={{marginRight:5,marginLeft:5}}/>}\n                    {editingEnabled && \n                    <Dropdown overlay={\n                        <Menu>\n                            {editingEnabled && !editing && <Menu.Item key='show' onClick={() => setEditing(true)}>\n                                Enable Editing\n                            </Menu.Item>}\n                            {editing && <Menu.Item key='show' onClick={() => setEditing(false)}>\n                                Disable Editing\n                            </Menu.Item>}\n                            {editing && <Menu.Item key=\"node.machine.\" onClick={menuClickCreateArgument} icon={<Icon style={{marginRight:10}} component={MachineIcon}/>}>\n                                New Machine Parameter\n                            </Menu.Item>}\n                            {editing && <Menu.Item key=\"node.pose.waypoint.location.\" onClick={menuClickCreateArgument} icon={<Icon style={{marginRight:10}} component={LocationIcon}/>}>\n                                New Location Parameter\n                            </Menu.Item>}\n                            {editing && <Menu.Item key=\"node.pose.thing.\" onClick={menuClickCreateArgument} icon={<Icon style={{marginRight:10}} component={ThingIcon}/>}>\n                                New Thing Parameter\n                            </Menu.Item>}\n                            {editing && <Menu.Item key=\"node.trajectory.\" onClick={menuClickCreateArgument} icon={<Icon style={{marginRight:10}} component={ContainerIcon}/>}>\n                                New Tracjectory Parameter\n                            </Menu.Item>}\n                        </Menu>\n                        }>\n                        <Button\n                            type='text'\n                            style={{ marginLeft: 2 }}\n                            icon={<EllipsisOutlined />}\n                        />\n                    </Dropdown>}\n                </Row>\n            </Row>\n            <Row>\n                {!inDrawer && <EditableTagGroup skill={data} ancestors={skillAncestors}/>}\n            </Row>\n            <NodeZone\n                ancestors={skillAncestors}\n                onDrop={(dropData) => primitiveDrop(dropData, 0)}\n                emptyMessage='No Actions'\n                dropDisabled={!editingEnabled}\n                context={currentContext}\n            >\n                {data.primitiveIds.map((id, idx) => (\n                    <React.Fragment key={idx}>\n                        {idx === 0 && (\n                            <SortableSeparator\n                                key={0}\n                                spacing={idx===0 ? 0 : 5}\n                                height={30}\n                                ancestors={skillAncestors}\n                                context={currentContext}\n                                onDrop={(dropData) => primitiveDrop(dropData, 0)}\n                                dropDisabled={!editingEnabled}\n                            />\n                        )}\n                        <ActionBlock\n                            key={id}\n                            uuid={id}\n                            parentData={{ type: 'program', uuid, field: 'primitive_uuids' }}\n                            dragBehavior='move'\n                            onDelete={onChildDelete}\n                            ancestors={skillAncestors}\n                            context={currentContext}\n                            idx={idx}\n                            dragDisabled={!editingEnabled}\n                            after={\n                                <SortableSeparator\n                                    ancestors={skillAncestors}\n                                    height={30}\n                                    end={idx === data.primitiveIds.length-1}\n                                    spacing={idx === data.primitiveIds.length-1 ? 0 : 5}\n                                    context={currentContext}\n                                    onDrop={(dropData) => primitiveDrop(dropData, idx + 1)}\n                                    dropDisabled={!editingEnabled}\n                                />\n                            }\n                        />\n                    </React.Fragment>\n                ))}\n            </NodeZone>\n        </div>\n    )\n};","import React, { useRef } from 'react';\nimport { useDrop } from 'react-dnd';\nimport { acceptLookup } from './acceptLookup';\nimport { ProgramBlock } from './ProgramBlock';\n// import {ItemDraggable} from './Wrappers';\nimport { Grid } from './Grid';\nimport useStore from '../../stores/Store';\nimport { objectMap } from '../../stores/helpers';\nimport { SkillBlock } from './SkillBlock';\nimport shallow from 'zustand/shallow';\n\nexport const Canvas = () => {\n\n    const ref = useRef();\n    const [clearFocusItem] = useStore(state => [state.clearFocusItem]);\n    const acceptTypes = acceptLookup.grid.primitiveIds.accepts;\n\n    const ancestors = [\n        { uuid: 'grid', ...acceptLookup.grid.primitiveIds }\n    ];\n\n    const [moveItem, createAndPlaceItem, skills, deleteHierarchical] = useStore(state => [state.moveItem, state.createAndPlaceItem, state.data.skills, state.deleteHierarchical],shallow);\n    const nameLookup = useStore(state => ({\n        ...objectMap(state.data.placeholders, placeholder => ({ name: placeholder.pending_node.name, real: true })),\n        ...objectMap(state.data.locations, location => ({ name: location.name, real: true })),\n        ...objectMap(state.data.waypoints, waypoint => ({ name: waypoint.name, real: true })),\n        ...objectMap(state.data.machines, machine => ({ name: machine.name, real: true })),\n        ...objectMap(state.data.trajectories, trajectory => ({ name: trajectory.name, real: true })),\n    }),shallow)\n\n    // Do your draggable stuff here\n    // We only care about the second value returned from useDrop (hence the [1] at the end)\n    const drop = useDrop({\n        accept: acceptTypes,\n        drop: (item, monitor) => {\n            const delta = monitor.getDifferenceFromInitialOffset();\n            if (item.type === 'node.primitive.hierarchical.program.') {\n                moveItem('program', item.uuid, delta.x, delta.y)\n            } else if (item.type === 'node.primitive.hierarchical.skill.' && skills[item.uuid]) {\n                moveItem('skill', item.uuid, delta.x, delta.y)\n            } else if (item.type === 'node.primitive.hierarchical.skill.') {\n                const offset = monitor.getClientOffset();\n                const rect = ref.current.getBoundingClientRect();\n                createAndPlaceItem('skill', item, (offset.x - rect.x), (offset.y - rect.y))\n            } else {\n                console.log(item)\n            }\n        },\n        canDrop: (item, _) => (acceptTypes.indexOf(item.type) >= 0)\n    })[1]\n\n    return (\n        <div style={{ width: '100%', height: '100%', zIndex: 100, position: 'relative', overflow: 'scroll', textAlign: 'left' }}>\n            <Grid ref={drop(ref)} onClick={clearFocusItem} >\n                <ProgramBlock\n                    ancestors={ancestors}\n                    context={nameLookup}\n                    dragBehavior='move'\n                    parentData={{ type: 'grid', uuid: 'grid' }}\n                />\n                {Object.keys(skills).map(uuid => (\n                    <SkillBlock\n                        key={uuid}\n                        uuid={uuid}\n                        onDelete={(dropData)=>deleteHierarchical(dropData,null)}\n                        parentData={{ type: 'grid', uuid: 'grid' }}\n                        dragBehavior='move'\n                        ancestors={ancestors}\n                        context={nameLookup} />\n                ))}\n            </Grid>\n        </div>\n\n\n    )\n}\n","import { generateUuid } from \"./generateUuid\"\nimport { COLLISION_MESHES } from \"./initialSim\"\n\nexport const primitiveTemplates = {\n    'node.primitive.delay.': {\n        name: 'Delay',\n        description: 'Delay robot for a specified time',\n        editable: true,\n        deleteable: true,\n        parameters: {\n            duration: 1\n        }\n    },\n    'node.primitive.gripper.': {\n        name: 'Move Gripper',\n        description: 'Close or Open the robot gripper',\n        editable: true,\n        deleteable: true,\n        parameters: {\n            position: 50,\n            speed: 50,\n            effort: 1,\n            semantic: 'releasing',\n            thing_uuid: null\n        }\n    },\n    'node.primitive.machine-primitive.machine-initialize.': {\n        name: 'Machine Initialize',\n        description: 'Initialize a machine',\n        editable: true,\n        deleteable: true,\n        parameters: {\n            machine_uuid: null\n        }\n    },\n    'node.primitive.machine-primitive.machine-start.': {\n        name: 'Machine Start',\n        description: 'Start a machine',\n        editable: true,\n        deleteable: true,\n        parameters: {\n            machine_uuid: null\n        }\n    },\n    'node.primitive.machine-primitive.machine-stop.': {\n        name: 'Machine Stop',\n        description: 'Stop a machine',\n        editable: true,\n        deleteable: true,\n        parameters: {\n            machine_uuid: null\n        }\n    },\n    'node.primitive.machine-primitive.machine-wait.': {\n        name: 'Machine Wait',\n        description: 'Pause a machine',\n        editable: true,\n        deleteable: true,\n        parameters: {\n            machine_uuid: null\n        }\n    },\n    'node.primitive.move-trajectory.': {\n        name: 'Move Trajectory',\n        description: 'Move the robot arm along a trajectory',\n        editable: true,\n        deleteable: true,\n        parameters: {\n            manual_safety: false,\n            trajectory_uuid: null\n        }\n\n    },\n    'node.primitive.move-unplanned.': {\n        name: 'Move Unplanned',\n        description: '[Dangerous] Move the robot to a specified location',\n        editable: true,\n        deleteable: true,\n        parameters: {\n            manual_safety: false,\n            velocity: 1,\n            move_type: 'joint',\n            location_uuid: null\n        }\n    },\n    'node.primitive.breakpoint': {\n        name: 'Breakpoint',\n        description: 'Stop execution at this point',\n        editable: true,\n        deleteable: true,\n        parameters: {}\n    },\n    'node.primitive.skill-call.': {\n        name: 'Skill Call',\n        description: 'Execute a skill',\n        editable: true,\n        deleteable: true,\n        parameters: {} // TODO: FILL IN\n    }\n}\n\nexport const containerTemplates = {\n    'node.trajectory.': {\n        name: 'New Trajectory',\n        deleteable: true,\n        editable: true,\n        description: 'A movement by the robot from one location to another.', // could be ''\n\n        start_location_uuid: null,\n        end_location_uuid: null,\n        waypoint_uuids: [],\n        trace: null,\n        velocity: 0.5, // suggestion (user configured)\n        move_type: 'ee_ik' // or 'ee_ik'\n    },\n    'node.primitive.hierarchical.skill.': {\n        name: 'New Skill',\n        transform: { x: 0, y: 0 },\n        editable: true,\n        deleteable: true,\n        description: 'A reusable and configurable behavior that can be executed from the elsewhere in the program.',\n        parameters: {},\n        arguments: [],\n        primitiveIds: []\n    },\n    'node.primitive.hierarchical.': {\n        name: 'New Group',\n        editable: true,\n        deleteable: true,\n        description: 'A simple grouping structure for related actions.',\n        parameters: {},\n        primitiveIds: []\n    }\n}\n\nexport const createWaypoint = () => ({\n    type: 'node.pose.waypoint.',\n    uuid: generateUuid('node.pose.waypoint.'),\n    name: `New Waypoint`,\n    deleteable: true,\n    editable: true,\n    description: 'Some descriptor string (optional)', // could be ''\n\n    link: 'world', //'' means default to world or app\n    joints: {\n        type: 'node.joints.',\n        uuid: generateUuid('node.joints.'),\n        name: '',\n        deleteable: false,\n        editable: true,\n        description: '', // could be ''\n\n        joint_positions: null,\n        joint_names: null,\n        reachable: false, // better than having to check the array to generate the flag\n        length: 5 // this is enforced on the backend for positions and names\n    },\n    position: {\n        type: 'node.position.',\n        uuid: generateUuid('node.position.'),\n        name: '',\n        deleteable: false,\n        editable: true,\n        description: '', // could be ''\n\n        x: .5 * (Math.random() - 0.5),\n        y: .5 * (Math.random() - 0.5),\n        z: .5 * (Math.random() - 0.5) + 0.25\n    },\n    orientation: {\n        type: 'node.orientation.',\n        uuid: generateUuid('node.orientation.'),\n        name: '',\n        deleteable: false,\n        editable: true,\n        description: '', // could be ''\n\n        x: 0,\n        y: 0,\n        z: 0,\n        w: 1\n    }\n}\n)\n\nexport const createLocation = () => ({\n    type: 'node.pose.waypoint.location.',\n    uuid: generateUuid('node.pose.waypoint.location'),\n    name: `New Location`,\n    deleteable: true,\n    editable: true,\n    description: 'Some descriptor string (optional)', // could be ''\n\n    link: '', //'' means default to world or app\n    joints: {\n        type: 'node.joints.',\n        uuid: generateUuid('node.joints.'),\n        name: '',\n        deleteable: false,\n        editable: true,\n        description: '', // could be ''\n        joint_positions: null,\n        joint_names: null,\n        reachable: false, // better than having to check the array to generate the flag\n        length: 5 // this is enforced on the backend for positions and names\n    },\n    position: {\n        type: 'node.position.',\n        uuid: generateUuid('node.position.'),\n        name: '',\n        deleteable: false,\n        editable: true,\n        description: '', // could be ''\n        x: .5 * (Math.random() - 0.5),\n        y: .5 * (Math.random() - 0.5),\n        z: .5 * (Math.random() - 0.5) + 0.25\n    },\n    orientation: {\n        type: 'node.orientation.',\n        uuid: generateUuid('node.orientation.'),\n        name: '',\n        deleteable: false,\n        editable: true,\n        description: '', // could be ''\n        x: 0,\n        y: 0,\n        z: 0,\n        w: 1\n    }\n})\n\nexport const createPlaceholder = (thingTypeUuid) => ({\n    type: 'node.placeholder.',\n    uuid: generateUuid('node.placeholder.'),\n    name: `New Placeholder`,\n    deleteable: true,\n    editable: true,\n    description: 'Some descriptor string',\n\n    pending_node: {\n        type: 'node.pose.thing.',\n        uuid: generateUuid('node.pose.thing.'),\n        name: `New Thing`,\n        deleteable: true,\n        editable: true,\n        description: 'Some descriptor string (optional)', // could be ''\n\n        thing_type_uuid: thingTypeUuid, // gets a thing_type from other fake data\n        position: '<pending>',\n        orientation: '<pending>'\n    },\n    pending_fields: [\n        'position',\n        'orientation'\n    ]\n})\n\nexport const createMachine = (mesh) => ({\n    type: 'node.machine.',\n    uuid: generateUuid('node.machine.'),\n    name: `New Machine`,\n    deleteable: true,\n    editable: true,\n    description: 'Some descriptor string (optional)', // could be ''\n\n    process_time: 5, //sec\n    inputs: {}\n\n    , // make this a tuple as value of keys\n\n    outputs: {},\n    mesh_id: mesh,\n    pose_offset: { // Local transform\n        type: 'node.pose.',\n        uuid: generateUuid('node.pose.'),\n        name: `Pose-0`,\n        deleteable: false,\n        editable: false,\n        description: '', // could be ''\n\n        link: '', //'' means default to world or app\n        position: {\n            type: 'node.position.',\n            uuid: generateUuid('node.position.'),\n            name: `Position-0`,\n            deleteable: false,\n            editable: false,\n            description: '', // could be ''\n\n            x: 0,\n            y: 0,\n            z: 0\n        },\n        orientation: {\n            type: 'node.orientation.',\n            uuid: generateUuid('node.orientation.'),\n            name: `Orientation-0`,\n            deleteable: false,\n            editable: false,\n            description: '', // could be ''\n\n            x: 0,\n            y: 0,\n            z: 0,\n            w: 1\n        }\n    },\n    link: 'world',\n    collision_mesh_uuid: COLLISION_MESHES[mesh]\n})\n\nexport const primitiveTypes = Object.keys(primitiveTemplates).filter(type => (!type.includes('skill')));\nexport const containerTypes = Object.keys(containerTemplates);\n\nexport const fromPrimitiveTemplate = (type) => {\n    return { uuid: generateUuid(type), type, ...primitiveTemplates[type] }\n}\n\nexport const fromContainerTemplate = (type) => {\n    return { uuid: generateUuid(type), type, ...containerTemplates[type] }\n}","import React from 'react';\n// import {\n//     SortableContext,\n//     verticalListSortingStrategy,\n// } from '@dnd-kit/sortable';\n// import { GenericSortable } from './Wrappers';\n\nimport { primitiveTypes, fromPrimitiveTemplate } from '../../stores/templates';\nimport { acceptLookup } from './acceptLookup';\nimport { ActionBlock } from './ActionBlock';\n\nexport const PrimitivesDrawer = (_) => {\n\n    const ancestors = [\n        {uuid:'drawer',...acceptLookup.drawer.default}\n    ];\n\n    return (\n        <React.Fragment>\n            {primitiveTypes.map((type,i)=>(\n                <div key={type} style={{paddingTop:5}} >\n                    <ActionBlock\n                        ancestors={ancestors} \n                        idx={i}\n                        parentData={{type:'drawer',uuid:'drawer'}}\n                        staticData={fromPrimitiveTemplate(type)} \n                        dragBehavior='copy'\n                        dropDisabled\n                        context={{}}/>\n                </div>\n            ))}\n        </React.Fragment>\n    );\n};\n","import React from 'react';\nimport { TrajectoryBlock } from './TrajectoryBlock';\nimport { SkillBlock } from './SkillBlock';\nimport { ActionBlock } from './ActionBlock';\nimport { fromContainerTemplate } from '../../stores/templates';\nimport { acceptLookup } from './acceptLookup';\n\nexport const ContainersDrawer = (_) => {\n\n    const ancestors = [\n        { uuid: 'drawer', ...acceptLookup.drawer.default }\n    ];\n\n    return (\n        <React.Fragment>\n            <div key='trajectory' style={{ paddingTop: 5 }} >\n                <TrajectoryBlock\n                    key='trajectory'\n                    staticData={fromContainerTemplate('node.trajectory.')}\n                    ancestors={ancestors}\n                    idx={0}\n                    parentData={{ type: 'drawer', uuid: 'drawer' }}\n                    dragBehavior='copy'\n                    context={{}} />\n            </div>\n            <div key='skill' style={{ paddingTop: 5 }} >\n                <SkillBlock\n                    key='skill'\n                    staticData={fromContainerTemplate('node.primitive.hierarchical.skill.')}\n                    ancestors={ancestors}\n                    idx={1}\n                    parentData={{type: 'drawer',uuid: 'drawer'}}\n                    dragBehavior='copy'\n                    context={{ }}/>\n            </div>\n            <div key='hierarchical' style={{paddingTop: 5}} >\n                <ActionBlock\n                    key='hierarchical'\n                    staticData={fromContainerTemplate('node.primitive.hierarchical.')}\n                    ancestors={ancestors}\n                    idx={2}\n                    parentData={{type: 'drawer',uuid: 'drawer'}}\n                    dragBehavior='copy'\n                    context={{ }}/>\n            </div>\n        </React.Fragment>\n    );\n};\n","import React, {useCallback} from 'react';\n// import { StaticSortable } from './Wrappers';\nimport { acceptLookup } from './acceptLookup';\nimport useStore from \"../../stores/Store\";\nimport shallow from 'zustand/shallow';\nimport { typeToKey, objectMap } from '../../stores/helpers';\nimport { UUIDBlock } from './UUIDBlock';\n\nexport const UUIDDrawer = ({itemType}) => {\n    // itemType is the \"type\" of item from the EvdStore that the uuid corresponds to.\n    // e.g. 'thingType', 'machine', 'waypoint', etc.\n    const data = useStore(useCallback(state=>\n        Object.values(state.data[typeToKey(itemType)])\n        .filter(data=>data.name.includes(state.searchTerm)),[itemType]),shallow);\n\n    const nameLookup = useStore(state=>({\n        ...objectMap(state.data.placeholders,placeholder=>({name:placeholder.pending_node.name,real:true})),\n        ...objectMap(state.data.locations,location=>({name:location.name,real:true})),\n        ...objectMap(state.data.waypoints,waypoint=>({name:waypoint.name,real:true})),\n        ...objectMap(state.data.machines,machine=>({name:machine.name,real:true})),\n        ...objectMap(state.data.trajectories,trajectory=>({name:trajectory.name,real:true})),\n    }),shallow)\n\n    const ancestors = [\n        {uuid:'drawer',...acceptLookup.drawer.default}\n    ];\n\n    return (\n        <React.Fragment>\n            {data.map((datum,i)=>(\n                <div key={datum.uuid} style={{paddingTop:5}} >\n                    <UUIDBlock \n                        ancestors={ancestors} \n                        idx={i} \n                        parentData={{type:'drawer',uuid:'drawer'}}\n                        data={{...datum,itemType,type:`uuid-${itemType}`}} \n                        dragBehavior='copy'\n                        dropDisabled\n                        context={nameLookup}/>\n                </div>\n            ))}\n        </React.Fragment>\n    );\n};\n","import React from 'react';\nimport { Row } from 'antd';\nimport { DeleteFilled } from '@ant-design/icons';\nimport { useDrop } from 'react-dnd';\nimport { acceptLookup } from './acceptLookup';\n// import useStore from '../../stores/Store';\n\nexport const DeleteZone = (_) => {\n\n    const acceptTypes = acceptLookup.trash.all.accepts;\n\n    // const [deleteChildPrimitive,deleteHierarchical] = useStore(state=>[state.deleteChildPrimitive,state.deleteHierarchical]);\n\n    const [{isOver, canDrop}, drop] = useDrop({\n        accept: acceptTypes,\n        drop: (item, _) => {\n            console.log(item)\n            if (item.onDelete && item.deleteable) {\n                item.onDelete(item)\n            }\n        },\n        canDrop: (item, _) => (acceptTypes.indexOf(item.type)>=0 && item.deleteable),\n        collect: (monitor) => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.canDrop()\n        })\n    })\n\n    if (!canDrop) {\n        console.log()\n    }\n\n    let opacity = 0.7;\n    let width = 70;\n    if (isOver) {\n        width = 300;\n        opacity = 0.5;\n    }\n\n    const styles = {\n        backgroundColor: '#a61d24',\n        width,\n        zIndex: 100,\n        position: 'absolute',\n        right:30,\n        bottom:30,\n        height:70,\n        borderRadius:3,\n        padding:2,\n        display:'flex',\n        flexDirection: 'row'\n    }\n\n    return (\n        <div hidden={!canDrop} ref={drop} style={styles} >\n            <Row align='middle' justify='center' style={{flex:1,height:'100%',width:'100%',backgroundColor:`rgba(0,0,0,${opacity})`}}>\n                <DeleteFilled style={{color:'#a61d24',fontSize:40}}/>\n            </Row>\n        </div>\n        \n    )\n};\n\n","import React from 'react';\nimport { acceptLookup } from './acceptLookup';\nimport useStore from '../../stores/Store';\nimport { generateUuid } from '../../stores/generateUuid';\nimport { SkillCallBlock } from './SkillCallBlock';\n\nconst skill2Call = (skill) => {\n    let parameters = {skill_uuid:skill.uuid};\n    skill.arguments.forEach(arg=>{parameters[arg.uuid] = null})\n\n    return {\n        type: 'node.primitive.skill-call.',\n        uuid: generateUuid('skill-call'),\n        name: `Execute Skill: ${skill.name}`,\n        editable: true,\n        deleteable: true,\n        description: '',\n        parameters\n    }\n}\n\nexport const SkillCallDrawer = (_) => {\n\n    const ancestors = [\n        { uuid: 'drawer', ...acceptLookup.drawer.default }\n    ];\n\n    const skills = useStore(state => Object.values(state.data.skills));\n\n    return (\n        <React.Fragment>\n            {skills.map(skill=>(\n                <div key={skill.uuid} style={{paddingTop: 5}}>\n                    <SkillCallBlock\n                        staticData={skill2Call(skill)}\n                        ancestors={ancestors}\n                        idx={0}\n                        parentData={{ type: 'drawer', uuid: 'drawer' }}\n                        dragBehavior='copy'\n                        context={{}}\n                    />\n                </div>\n            ))}\n        </React.Fragment>\n    );\n};\n","import React from 'react';\nimport { Layout, Button, Row, Input ,Tooltip} from 'antd';\nimport useStore from '../../stores/Store';\nimport shallow from 'zustand/shallow';\nimport Icon, {CloseOutlined, PlusOutlined} from '@ant-design/icons';\nimport { useSpring, animated } from '@react-spring/web';\nimport { config } from 'react-spring';\nimport { Canvas } from './Canvas';\nimport { PrimitivesDrawer } from './PrimitivesDrawer';\nimport { ContainersDrawer } from './ContainersDrawer';\nimport { UUIDDrawer } from './UUIDDrawer';\n// import { ExecuteMacrosDrawer } from './ExecuteMacrosDrawer';\nimport { DeleteZone } from './DeleteZone';\nimport {ReactComponent as LocationIcon} from '../CustomIcons/Location.svg';\nimport {ReactComponent as MachineIcon} from '../CustomIcons/Gear.svg';\nimport {ReactComponent as PrimitiveIcon} from '../CustomIcons/Primitive.svg';\nimport {ReactComponent as SkillIcon} from '../CustomIcons/Skill.svg';\nimport {ReactComponent as ThingIcon} from '../CustomIcons/Thing.svg';\nimport {ReactComponent as WaypointIcon} from '../CustomIcons/Waypoint.svg';\nimport {ReactComponent as ContainerIcon} from '../CustomIcons/Container.svg';\nimport { createWaypoint, createLocation, createMachine, createPlaceholder } from '../../stores/templates';\nimport { SkillCallDrawer } from './SkillCallDrawer';\n\nconst SEARCHABLE = ['machines','locations','waypoints','placeholders']\n\nexport const Editor = () => {\n\n    const [\n      activeDrawer, setActiveDrawer, searchTerm, \n      setSearchTerm, clearSearchTerm, addItem, setFocusItem] = useStore(store=>[\n      store.activeDrawer,\n      store.setActiveDrawer,\n      store.searchTerm,\n      store.setSearchTerm,\n      store.clearSearchTerm,\n      store.addItem,\n      store.setFocusItem\n    ],shallow);\n\n    const drawerStyle = useSpring({width: activeDrawer ? 270 : 0, padding: activeDrawer ? 5 : 0, config:config.stiff});\n\n    const drawers = {\n      machines: {\n        title: \"Machines\",\n        icon: <Icon component={MachineIcon}/>,\n        drawer: <UUIDDrawer itemType='machine'/>,\n        addFn: (mesh)=>{\n          const newMachine = createMachine(mesh);\n          addItem('machine',newMachine);\n          setFocusItem('machine',newMachine.uuid);\n        }\n      },\n      locations: {\n        title: \"Locations\",\n        icon: <Icon component={LocationIcon}/>,\n        drawer: <UUIDDrawer itemType='location'/>,\n        addFn: ()=>{\n          const newLocation = createLocation();\n          addItem('location',newLocation);\n          setFocusItem('location',newLocation.uuid);\n        }\n      },\n      waypoints: {\n        title: \"Waypoints\",\n        icon: <Icon component={WaypointIcon}/>,\n        drawer: <UUIDDrawer itemType='waypoint'/>,\n        addFn: ()=>{\n          const newWaypoint = createWaypoint();\n          addItem('waypoint',newWaypoint);\n          setFocusItem('waypoint',newWaypoint.uuid);\n        }\n      },\n      placeholders: {\n        title: \"Things\",\n        icon: <Icon component={ThingIcon}/>,\n        drawer: <UUIDDrawer itemType='placeholder'/>,\n        addFn: (thingTypeUuid)=>{\n          const newPlaceholder = createPlaceholder(thingTypeUuid);\n          addItem('placeholder',newPlaceholder);\n          setFocusItem('placeholder',newPlaceholder.uuid);\n        }\n      },\n      containers: {\n        title: \"Containers\",\n        icon: <Icon component={ContainerIcon}/>,\n        drawer: <ContainersDrawer/>\n      },\n      skills: {\n        title: \"Skills\",\n        icon: <Icon component={SkillIcon}/>,\n        drawer: <SkillCallDrawer/>\n      },\n      actions: {\n        title: \"Actions\",\n        icon: <Icon component={PrimitiveIcon}/>,\n        drawer: <PrimitivesDrawer/>\n      }\n    }\n    \n    return (\n        <Layout style={{ fontSize: 20, height: 'calc(100vh - 113pt)' }}>\n          <Layout.Sider collapsed collapsible trigger={null} style={{align: 'left', display: 'flex', flexDirection: 'column', padding: 5, height: 'calc(100vh - 113pt)' }}>\n            {Object.keys(drawers).map(drawerKey=>(\n              <Tooltip key={drawerKey} placement=\"right\" title = {drawers[drawerKey].title}>\n              <Button \n                type={activeDrawer === drawerKey ? 'primary' : 'text'} \n                block \n                icon={drawers[drawerKey].icon} \n                onClick={()=>{ clearSearchTerm(); drawerKey===activeDrawer ? setActiveDrawer(null) : setActiveDrawer(drawerKey)}}\n                style={{ marginBottom: 5, alignItems: 'left' }}/>\n               </Tooltip>\n            ))}\n          </Layout.Sider>\n          <animated.div onDrag={()=>setActiveDrawer(null)} style={{...drawerStyle, align: 'left', backgroundColor: '#2f2f2f', fontSize: 14, height: 'calc(100vh - 113pt)'}}>\n             {activeDrawer && (\n               <React.Fragment>\n                <Row align='middle' justify='space-between' style={{padding:5,marginLeft:5}}>\n                  <span style={{color:'white',padding:3}}>{drawers[activeDrawer].title}</span>\n                  {SEARCHABLE.indexOf(activeDrawer) >= 0 && (\n                    <Button\n                      type='outline'\n                      onClick={drawers[activeDrawer].addFn}\n                      icon={<PlusOutlined />}\n                    />\n                  )}\n                </Row>\n                {SEARCHABLE.indexOf(activeDrawer) >= 0 && (\n                  <Row style={{backgroundColor:'#f1f1f110', width:'100%'}}>\n                    <Input\n                      value={searchTerm} \n                      placeholder=\"Search...\" \n                      onChange={(e)=>setSearchTerm(e.target.value)} \n                      addonAfter={<CloseOutlined onClick={clearSearchTerm}/>}\n                      style={{ maxWidth: 300, minWidth: 100, display: \"block\" }} />\n                  </Row>\n                )}\n                <div style={{width:'100%',marginTop:10, overflowY: 'scroll',height: SEARCHABLE.indexOf(activeDrawer) === -1 ? 'calc(100vh - 155pt)' : 'calc(100vh - 183pt)'}}>\n                  {drawers[activeDrawer].drawer}\n                </div>\n                \n               </React.Fragment>\n             )}\n          </animated.div>\n          <Layout.Content style={{ height: 'calc(100vh - 113pt)'}}>\n            <Canvas/>\n            <DeleteZone/>\n          </Layout.Content>\n        </Layout>\n    )\n}","import React from 'react';\n\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { Editor } from './Editor';\n\nexport const ProgramEditor = (_) => {\n\n  return (\n    <div style={{ width: '100%', height: 'calc(100vh - 113pt)', display: 'flex',borderRadius:3 }}>\n      <DndProvider backend={HTML5Backend}>\n        <Editor/>\n      </DndProvider>\n    </div>\n  )\n\n}\n","const _AXES2TUPLE = {\r\n    sxyz: [0, 0, 0, 0], sxyx: [0, 0, 1, 0], sxzy: [0, 1, 0, 0],\r\n    sxzx: [0, 1, 1, 0], syzx: [1, 0, 0, 0], syzy: [1, 0, 1, 0],\r\n    syxz: [1, 1, 0, 0], syxy: [1, 1, 1, 0], szxy: [2, 0, 0, 0],\r\n    szxz: [2, 0, 1, 0], szyx: [2, 1, 0, 0], szyz: [2, 1, 1, 0],\r\n    rzyx: [0, 0, 0, 1], rxyx: [0, 0, 1, 1], ryzx: [0, 1, 0, 1],\r\n    rxzx: [0, 1, 1, 1], rxzy: [1, 0, 0, 1], ryzy: [1, 0, 1, 1],\r\n    rzxy: [1, 1, 0, 1], ryxy: [1, 1, 1, 1], ryxz: [2, 0, 0, 1],\r\n    rzxz: [2, 0, 1, 1], rxyz: [2, 1, 0, 1], rzyz: [2, 1, 1, 1]}\r\n\r\nconst _NEXT_AXIS = [1, 2, 0, 1]\r\n\r\nconst _EPS = 8.881784197001252*Math.pow(10,-16)\r\n\r\nconst dot = (a, b) => a.map((x, i) => a[i] * b[i]).reduce((m, n) => m + n);\r\n\r\nconst outer = (a,b) => a.map((x) => b.map(y => x*y));\r\n\r\nconst quaternionFromEuler = (vec3, axes='szxy') => {\r\n  /*\r\n  Return quaternion from Euler angles and axis sequence.\r\n  ai, aj, ak : Euler's roll, pitch and yaw angles\r\n  axes : One of 24 axis sequences as string or encoded tuple\r\n  >>> q = quaternion_from_euler(1, 2, 3, 'ryxz')\r\n  >>> numpy.allclose(q, [0.435953, 0.310622, -0.718287, 0.444435])\r\n  True\r\n  */\r\n  let [ai, aj, ak] = [...vec3];\r\n  let [firstaxis, parity, repetition, frame] = [..._AXES2TUPLE[axes.toLowerCase()]];\r\n\r\n  let i = firstaxis + 1;\r\n  let j = _NEXT_AXIS[i+parity-1] + 1;\r\n  let k = _NEXT_AXIS[i-parity] + 1;\r\n\r\n  if (frame !== 0) {\r\n    let values = [...[ai,ak]]\r\n    ai = values[1]\r\n    ak = values[0]\r\n  }\r\n  if (parity !== 0) {\r\n    aj = -1*aj\r\n  }\r\n\r\n  ai = ai/2.0;\r\n  aj = aj/2.0;\r\n  ak = ak/2.0;\r\n  let ci = Math.cos(ai);\r\n  let si = Math.sin(ai);\r\n  let cj = Math.cos(aj);\r\n  let sj = Math.sin(aj);\r\n  let ck = Math.cos(ak);\r\n  let sk = Math.sin(ak);\r\n  let cc = ci*ck;\r\n  let cs = ci*sk;\r\n  let sc = si*ck;\r\n  let ss = si*sk;\r\n\r\n  let q = [null,null,null,null];\r\n  if (repetition !== 0) {\r\n    q[0] = cj*(cc - ss)\r\n    q[i] = cj*(cs + sc)\r\n    q[j] = sj*(cc + ss)\r\n    q[k] = sj*(cs - sc)\r\n  } else {\r\n    q[0] = cj*cc + sj*ss\r\n    q[i] = cj*sc - sj*cs\r\n    q[j] = cj*ss + sj*cc\r\n    q[k] = cj*cs - sj*sc\r\n  }\r\n\r\n  if (parity !== 0) {\r\n    q[j] *= -1.0\r\n  }\r\n\r\n  return q\r\n}\r\n\r\nconst eulerFromMatrix = (matrix, axes='szxy') => {\r\n    /*\r\n    Return Euler angles from rotation matrix for specified axis sequence.\r\n    axes : One of 24 axis sequences as string or encoded tuple\r\n    Note that many Euler angle triplets can describe one matrix.\r\n    >>> R0 = euler_matrix(1, 2, 3, 'syxz')\r\n    >>> al, be, ga = euler_from_matrix(R0, 'syxz')\r\n    >>> R1 = euler_matrix(al, be, ga, 'syxz')\r\n    >>> numpy.allclose(R0, R1)\r\n    True\r\n    >>> angles = (4*math.pi) * (numpy.random.random(3) - 0.5)\r\n    >>> for axes in _AXES2TUPLE.keys():\r\n    ...    R0 = euler_matrix(axes=axes, *angles)\r\n    ...    R1 = euler_matrix(axes=axes, *euler_from_matrix(R0, axes))\r\n    ...    if not numpy.allclose(R0, R1): print(axes, \"failed\")\r\n    */\r\n    let [firstaxis, parity, repetition, frame] = [..._AXES2TUPLE[axes.toLowerCase()]];\r\n\r\n    let i = firstaxis;\r\n    let j = _NEXT_AXIS[i+parity];\r\n    let k = _NEXT_AXIS[i-parity+1];\r\n\r\n    let ax = 0.0;\r\n    let ay = 0.0;\r\n    let az = 0.0;\r\n\r\n    let M = JSON.parse(JSON.stringify(matrix));\r\n\r\n    if (repetition !== 0) {\r\n      let sy = Math.sqrt(M[i][j]*M[i][j] + M[i][k]*M[i][k]);\r\n      if (sy > _EPS) {\r\n        ax = Math.atan2( M[i][j],  M[i][k])\r\n        ay = Math.atan2( sy,       M[i][i])\r\n        az = Math.atan2( M[j][i], -M[k][i])\r\n      } else {\r\n        ax = Math.atan2(-M[j][k],  M[j][j]);\r\n        ay = Math.atan2( sy,       M[i][i]);\r\n        az = 0.0;\r\n      }\r\n    } else {\r\n      let cy = Math.sqrt(M[i][i]*M[i][i] + M[j][i]*M[j][i]);\r\n      if (cy > _EPS) {\r\n        ax = Math.atan2( M[k][j],  M[k][k]);\r\n        ay = Math.atan2(-M[k][i],  cy);\r\n        az = Math.atan2( M[j][i],  M[i][i]);\r\n      } else {\r\n        ax = Math.atan2(-M[j][k],  M[j][j]);\r\n        ay = Math.atan2(-M[k][i],  cy);\r\n        az = 0.0;\r\n      }\r\n    }\r\n\r\n    if (parity !== 0) {\r\n      [ax, ay, az] = [...[-ax, -ay, -az]]\r\n    }\r\n    if (frame !== 0) {\r\n      [ax, az] = [...[az, ax]]\r\n    }\r\n    return [ax, ay, az]\r\n}\r\n\r\nconst quaternionMatrix = (quaternion) => {\r\n    /*\r\n    Return homogeneous rotation matrix from quaternion.\r\n    >>> M = quaternion_matrix([0.99810947, 0.06146124, 0, 0])\r\n    >>> numpy.allclose(M, rotation_matrix(0.123, [1, 0, 0]))\r\n    True\r\n    >>> M = quaternion_matrix([1, 0, 0, 0])\r\n    >>> numpy.allclose(M, numpy.identity(4))\r\n    True\r\n    >>> M = quaternion_matrix([0, 1, 0, 0])\r\n    >>> numpy.allclose(M, numpy.diag([1, -1, -1, 1]))\r\n    True\r\n    */\r\n    let q = [...quaternion];\r\n    let n = dot(q, q);\r\n    if (n < _EPS) {\r\n      return [[1,0,0,0],\r\n              [0,1,0,0],\r\n              [0,0,1,0],\r\n              [0,0,0,1]]\r\n    }\r\n\r\n    q = q.map(v=>v*Math.sqrt(2.0 / n));\r\n    q = outer(q, q);\r\n    return [[1.0-q[2][2]-q[3][3],     q[1][2]-q[3][0],     q[1][3]+q[2][0], 0.0],\r\n            [    q[1][2]+q[3][0], 1.0-q[1][1]-q[3][3],     q[2][3]-q[1][0], 0.0],\r\n            [    q[1][3]-q[2][0],     q[2][3]+q[1][0], 1.0-q[1][1]-q[2][2], 0.0],\r\n            [                0.0,                 0.0,                 0.0, 1.0]];\r\n}\r\n\r\nconst eulerFromQuaternion = (quaternion, axes='szxy') => {\r\n  return eulerFromMatrix(quaternionMatrix(quaternion), axes)\r\n}\r\n\r\nconst quaternionLog = (quaternion) => {\r\n  /*\r\n  Returns the log map vec3 of quaternion\r\n  quaternion list is [w x y z]\r\n  :param quaternion:\r\n  :return:\r\n  */\r\n  let v = [quaternion[1], quaternion[2], quaternion[3]];\r\n  if (Math.abs(quaternion[0]) < 1.0) {\r\n    let a = Math.acos(quaternion[0]);\r\n    if (isNaN(a)) {\r\n      a = 1.0;\r\n    }\r\n    let sina = Math.sin(a)\r\n    if (Math.abs(sina) >= 0.005) {\r\n      let c = a/sina\r\n      v[0] *= c\r\n      v[1] *= c\r\n      v[2] *= c\r\n    }\r\n  }\r\n  return v\r\n}\r\n\r\nconst quaternionExp = (vec3) => {\r\n    /*\r\n    Returns the exponentiated quaternion from rotation vector vec3\r\n    :param vec3:\r\n    :return: quaternion in format [w x y z]\r\n    */\r\n    let q = [1.0, vec3[0], vec3[1], vec3[2]];\r\n    let a = Math.sqrt(Math.pow(q[0],2)+Math.pow(q[1],2)+Math.pow(q[2],2)+Math.pow(q[3],2));\r\n    let sina = Math.sin(a);\r\n    if (Math.abs(sina) >= 0.005) {\r\n      let c = sina/a;\r\n      q[1] *= c;\r\n      q[2] *= c;\r\n      q[3] *= c;\r\n    }\r\n\r\n    q[0] = Math.cos(a)\r\n\r\n    return q\r\n}\r\n\r\nconst quaternionSlerp = (quat0, quat1, fraction, spin=0, shortestpath=true) => {\r\n  /*Return spherical linear interpolation between two quaternions.\r\n  >>> q0 = random_quaternion()\r\n  >>> q1 = random_quaternion()\r\n  >>> q = quaternion_slerp(q0, q1, 0)\r\n  >>> numpy.allclose(q, q0)\r\n  True\r\n  >>> q = quaternion_slerp(q0, q1, 1, 1)\r\n  >>> numpy.allclose(q, q1)\r\n  True\r\n  >>> q = quaternion_slerp(q0, q1, 0.5)\r\n  >>> angle = math.acos(numpy.dot(q0, q))\r\n  >>> numpy.allclose(2, math.acos(numpy.dot(q0, q1)) / angle) or \\\r\n      numpy.allclose(2, math.acos(-numpy.dot(q0, q1)) / angle)\r\n  True\r\n  */\r\n  let q0 = unitVector(quat0);\r\n  let q1 = unitVector(quat1);\r\n  if (fraction === 0.0) {\r\n    return q0\r\n  } else if (fraction === 1.0) {\r\n    return q1\r\n  }\r\n\r\n  let d = dot(q0, q1);\r\n\r\n  if (Math.abs(Math.abs(d) - 1.0) < _EPS) {\r\n    return q0\r\n  }\r\n  if (shortestpath && d < 0.0) {\r\n    // invert rotation\r\n    d = -d;\r\n    q1 = q1.map(v=>-1*v);\r\n  }\r\n\r\n  let angle = Math.acos(d) + spin * Math.PI;\r\n  if (Math.abs(angle) < _EPS) {\r\n    return q0\r\n  }\r\n\r\n  let isin = 1.0 / Math.sin(angle);\r\n  q0 = q0.map(v=>v*Math.sin((1.0 - fraction) * angle) * isin);\r\n  q1 = q1.map(v=>v*Math.sin(fraction * angle) * isin);\r\n  q0 = q0.map((v,i)=>v*q1[i]);\r\n  return q0\r\n}\r\n\r\nconst unitVector = (data) => {\r\n  /*Return normalized by length, i.e. Euclidean norm, along axis.\r\n  */\r\n  let scale = Math.sqrt(dot(data,data))\r\n  return data.map(v=>v*scale);\r\n}\r\n\r\n\r\nexport {quaternionFromEuler, eulerFromQuaternion, quaternionExp, quaternionLog, quaternionSlerp};\r\n","import React, {useState} from 'react';\r\nimport { Space, Button, Popover,InputNumber } from 'antd';\r\nimport { EditOutlined } from '@ant-design/icons';\r\nimport {eulerFromQuaternion, quaternionFromEuler} from './Geometry';\r\n\r\n\r\nconst RAD_2_DEG = 180 / Math.PI;\r\nconst DEG_2_RAD = Math.PI / 180;\r\n\r\n\r\n\r\nconst eulerVecToDegrees = (vec) => {\r\n  return vec.map(v=>RAD_2_DEG*v)\r\n}\r\nconst eulerVecToRadians = (vec) => {\r\n  return vec.map(v=>DEG_2_RAD*v)\r\n}\r\n\r\nfunction OrientationInput (props)  {\r\n const [eulerValues, setEulerValues] = useState(eulerVecToDegrees(eulerFromQuaternion(props.value)));\r\n\r\n let limits = [-360,360];\r\n let steps = Math.PI / 12;\r\n if (props.onlyPositive) {\r\n   limits[0] = 0\r\n }\r\n\r\n \r\n\r\nconst [preVec, setPrevVec] = useState(null);\r\nif (props.value !== preVec){\r\n  setPrevVec(props.value);\r\n  setEulerValues(props.value);\r\n}\r\n\r\n  return(\r\n    <div style={{ display:'flex',justifyContent: 'space-between',alignItems:'center'}}>\r\n    <b style ={{color:'rgba(255, 255, 255, 0.85)'}}>Orientation:</b>\r\n    <Popover\r\n    placement=\"left\"\r\n    visible =  {props.openStatus}\r\n    //onVisibleChange = {()=> changeTransformMode()}\r\n    content={\r\n      <Space>\r\n        <h4 style={{ color: \"red\" }}>R</h4>\r\n        <InputNumber\r\n         min={limits[0]}\r\n         max={limits[1]}\r\n         step={steps}\r\n         precision={2}\r\n         style={{ margin: '0 16px' }}\r\n         value={eulerValues[0]}\r\n         onChange={(v)=>{if (typeof v === 'number') {\r\n           let updatedEulerValues = [v,eulerValues[1],eulerValues[2]];\r\n           setEulerValues(updatedEulerValues);\r\n           props.onChange(quaternionFromEuler(eulerVecToRadians(updatedEulerValues)));\r\n         }}}\r\n        />\r\n        <h4 style={{ color: \"lime\" }}>P</h4>\r\n        <InputNumber\r\n         min={limits[0]}\r\n         max={limits[1]}\r\n         step={steps}\r\n         precision={2}\r\n         style={{ margin: '0 16px' }}\r\n         value={eulerValues[1]}\r\n         onChange={(v)=>{if (typeof v === 'number') {\r\n           let updatedEulerValues = [eulerValues[0],v,eulerValues[2]];\r\n           setEulerValues(updatedEulerValues);\r\n           props.onChange(quaternionFromEuler(eulerVecToRadians(updatedEulerValues)));\r\n         }}}\r\n        />\r\n        <h4 style={{ color: \"blue\" }}>Y</h4>\r\n        <InputNumber\r\n         min={limits[0]}\r\n         max={limits[1]}\r\n         step={steps}\r\n         precision={2}\r\n         style={{ margin: '0 16px' }}\r\n         value={eulerValues[2]}\r\n         onChange={(v)=>{if (typeof v === 'number') {\r\n           let updatedEulerValues = [eulerValues[0],eulerValues[1],v];\r\n           setEulerValues(updatedEulerValues);\r\n           props.onChange(quaternionFromEuler(eulerVecToRadians(updatedEulerValues)));\r\n         }}}\r\n        />\r\n        <Button type=\"primary\" onClick = {props.onClose}>Close</Button>\r\n      </Space>\r\n    }\r\n    title=\"Set Orientation\"\r\n    trigger=\"click\"\r\n    \r\n  >\r\n    \r\n    \r\n    <Button\r\n      block\r\n      icon={<EditOutlined />}\r\n      style={{ margin: 3,width:\"30%\",height:\"4%\",placement:\"right\"}}\r\n      onClick = {props.openStatus ? props.onClose : props.onOpen}\r\n    >\r\n    </Button>\r\n    \r\n  </Popover>\r\n\r\n\r\n  </div>\r\n\r\n)\r\n\r\n}\r\nexport default (OrientationInput);\r\n","import React, {useState} from 'react';\r\nimport { Space, Button, Popover,InputNumber } from 'antd';\r\nimport { EditOutlined } from '@ant-design/icons';\r\n\r\nfunction PositionInput (props)  {\r\n   const [inputVec, setInputVec] = useState(props.value);\r\n   const [preVec, setPrevVec] = useState(null);\r\n   let minMax = [-10,10];\r\n   let steps = 0.01;\r\n  \r\n    if (props.value !== preVec){\r\n      setPrevVec(props.value);\r\n      setInputVec(props.value);\r\n    }\r\n   \r\n   return(\r\n     \r\n     <div style={{ display:'flex',justifyContent: 'space-between',alignItems:'center'}}>\r\n     <b style ={{color:'rgba(255, 255, 255, 0.85)'}}>Position:</b>\r\n     \r\n     <Popover\r\n     placement=\"left\"\r\n     visible =  {props.openStatus}\r\n     content={\r\n       <Space>\r\n         <h4 style={{ color: \"red\" }}>X</h4>\r\n         <InputNumber\r\n         min= {minMax[0]}\r\n         max= {minMax[1]}\r\n         step= {steps}\r\n         precision={2}\r\n         style={{ margin: '0 16px' }}\r\n         value={inputVec[0]}\r\n         onChange={(v)=>{if (typeof v === 'number') {\r\n           let updatedVec = [v,inputVec[1],inputVec[2]];\r\n           setInputVec(updatedVec)\r\n           props.onChange(updatedVec)\r\n         }}}\r\n         />\r\n         <h4 style={{ color: \"lime\" }}>Y</h4>\r\n         <InputNumber\r\n         min= {minMax[0]}\r\n         max= {minMax[1]}\r\n         step= {steps}\r\n         precision={2}\r\n         style={{ margin: '0 16px' }}\r\n         value={inputVec[1]}\r\n         onChange={(v)=>{if (typeof v === 'number') {\r\n           let updatedVec = [inputVec[0],v,inputVec[2]]\r\n           setInputVec(updatedVec)\r\n           props.onChange(updatedVec)\r\n         }}}\r\n         />\r\n         <h4 style={{ color: \"blue\" }}>Z</h4>\r\n         <InputNumber\r\n          min= {minMax[0]}\r\n          max= {minMax[1]}\r\n          step={steps}\r\n          precision={2}\r\n          style={{ margin: '0 16px' }}\r\n          value={inputVec[2]}\r\n          onChange={(v)=>{if (typeof v === 'number') {\r\n            let updatedVec = [inputVec[0],inputVec[1],v];\r\n            setInputVec(updatedVec)\r\n            props.onChange(updatedVec)\r\n          }}}\r\n         />\r\n          <Button type=\"primary\" onClick = {props.onClose}>Close</Button>\r\n       </Space>\r\n     }\r\n     title=\"Set Position\"\r\n     trigger=\"click\"\r\n\r\n\r\n   >\r\n     <Button\r\n       block\r\n       icon={<EditOutlined />}\r\n       style={{ margin: 3,width:\"30%\",height:\"4%\",placement:\"right\"}}\r\n       onClick = {props.openStatus ? props.onClose : props.onOpen}\r\n      \r\n\r\n     >\r\n     </Button>\r\n     \r\n   </Popover>\r\n   \r\n   </div>\r\n   )\r\n\r\n\r\n}\r\nexport default (PositionInput);\r\n","import React, { useCallback,useState } from 'react';\n\nimport useStore from '../../stores/Store';\n\nimport debounce from 'lodash.debounce';\nimport { Divider, Input, Switch } from 'antd';\nimport OrientationInput from './OrientationInput';\nimport PositionInput from './PositionInput';\n\nexport const LocationDetail = ({ uuid }) => {\n\n  const { location, setItemProperty } = useStore(useCallback(state => ({\n    location: state.data.locations[uuid],\n    setItemProperty: state.setItemProperty\n  })\n    , [uuid]))\n\n  const { TextArea } = Input;\n  \n  // const { deleteItem, setItemProperty } = useEvdStore(state=>({\n  //     deleteItem:state.deleteItem,\n  //     setItemProperty:state.setItemProperty\n  // }));\n  const setFocusItem = useStore(state=>state.setFocusItem);\n  const [activeTransform,setActiveTransform] = useState('inactive');\n  const requestJointProcessorUpdate = useStore(state => state.requestJointProcessorUpdate);\n\n  const debouncedRequest = debounce(()=>{\n    requestJointProcessorUpdate('waypoint',uuid)\n  },1000)\n\n  const positionOnOpen = () => {\n    setFocusItem('location',location.uuid,'translate');\n    setActiveTransform('translate');  \n  }\n  const positionOnClose = () => {\n    setFocusItem('location',location.uuid,'inactive');\n    setActiveTransform('inactive');\n  }\n  function orientationOnClose(){\n    setFocusItem('location',location.uuid,'inactive');\n    setActiveTransform('inactive');\n  }\n  function orientationOnOpen(){\n    setFocusItem('location',location.uuid,'rotate');\n    setActiveTransform('rotate');\n  }\n  const onPositionChange = (e) => {\n    setItemProperty('location',location.uuid,'location',{...location.position, x :e[0],y : e[1],z: e[2]});\n    debouncedRequest();\n  }\n  const onOrientationChange = (e) => {\n    setItemProperty('location',location.uuid,'orientation',{...location.orientation, w:e[0],x :e[1],y : e[2],z: e[3]})\n    debouncedRequest();\n  }\n\n  return (\n    <>\n\n      <TextArea\n        value={location.description}\n        disabled={!location.editable}\n      />\n\n      <Divider orientation=\"left\" style={{ color: 'white', borderTopColor: 'rgba(255,255,255,0.12)', lineHeight: '1.5715px', paddingTop: '20px', paddingBottom: '5px' }}>\n        Placement:\n      </Divider>\n\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        <PositionInput value={[location.position.x, location.position.y, location.position.z]} onOpen = {positionOnOpen} onClose = {positionOnClose}\n          onChange={onPositionChange} openStatus = {activeTransform === 'translate'}/>\n        <OrientationInput value={[location.orientation.w, location.orientation.x, location.orientation.y, location.orientation.z]} onOpen = {orientationOnOpen} onClose = {orientationOnClose}\n          onChange={onOrientationChange} openStatus = {activeTransform === 'rotate'}/>\n        <br />\n        <div style={{ paddingTop: '5px', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <b>Reachable:</b>\n          <Switch checked={location.joints.reachable} style={{ left: '-30px' }} />\n\n\n        </div>\n      </div>\n\n\n\n\n\n\n\n    </>\n\n  )\n}\n","import React, { useCallback } from 'react';\r\nimport useStore from '../../stores/Store';\r\nimport { List, Space, Button, InputNumber, Row } from 'antd';\r\n\r\nexport const InputOutputComponent = (props) => {\r\n  const type = useStore(useCallback(state => state.data.thingTypes[props.typeuuid], [props.typeuuid]));\r\n\r\n  const setChildrenDrawer = useStore(state => state.setChildrenDrawer)\r\n\r\n\r\n\r\n  const {setSecondaryFocusItem} = useStore(state => ({\r\n    setSecondaryFocusItem : state.setSecondaryFocusItem\r\n  }));\r\n\r\n\r\n\r\n  return (\r\n    <List.Item.Meta title={type.name} description={\r\n      <List\r\n          size='small'\r\n          split={false}\r\n          dataSource={props.data}\r\n          renderItem={(data)=>(\r\n            <List.Item style={{padding:0}}>\r\n              <Row justify='space-between' style={{width:'100%', padding:10, marginTop: 4, borderRadius: 4, backgroundColor:'rgba(100,100,100,0.2)'}}>\r\n                <Space>\r\n                  <b>Quantity:</b>\r\n                  <InputNumber min = {1} style={{ maxWidth: 50 }} defaultValue={data.quantity} />\r\n                </Space>\r\n                <Space>\r\n                  <b style={{ paddingRight: '4px' }}>Region:</b>\r\n                  <Button onClick={()=>{setChildrenDrawer(true); setSecondaryFocusItem('region',data.region_uuid)}}>\r\n                    Edit\r\n                  </Button>\r\n                </Space>\r\n              </Row>\r\n            </List.Item>\r\n          )}\r\n      />\r\n  }/>)\r\n}\r\n","import React from 'react';\r\nimport { List, Row, Button } from 'antd';\r\nimport {InputOutputComponent} from './InputOutputComponent'\r\n\r\n\r\n\r\nexport const MachineInOutTypeDetail = (props) => {\r\n  let comKeys = null;\r\n  if (props.input){\r\n     comKeys = Object.keys(props.machine.inputs);\r\n  }else {\r\n     comKeys = Object.keys(props.machine.outputs);\r\n  }\r\n  \r\n  return(\r\n    <>\r\n      <br/>\r\n      <List \r\n        header={<Row align='middle' justify='space-between'>{props.input ? 'Inputs' : 'Outputs'}<Button>Add</Button></Row>}\r\n        split={false}\r\n        bordered \r\n        dataSource={comKeys} \r\n        renderItem = {(uuid) => (\r\n          <List.Item> \r\n            <InputOutputComponent typeuuid={uuid} data = {props.machine[props.input ? 'inputs' : 'outputs'][uuid]}/>\r\n          </List.Item>\r\n        )}>\r\n\r\n      </List>\r\n    </>)\r\n\r\n\r\n}\r\n","import React, { useCallback } from 'react';\n\nimport useStore from '../../stores/Store';\n\nimport { Space, Divider, Row, Input } from 'antd';\nimport OrientationInput from './OrientationInput';\nimport PositionInput from './PositionInput';\nimport { MachineInOutTypeDetail } from './MachineInOutTypeDetail';\n\n\nexport const MachineDetail = ({ uuid }) => {\n\n  const machine = useStore(useCallback(state => state.data.machines[uuid], [uuid]));\n  const setItemProperty = useStore(state => state.setItemProperty);\n\n  const { TextArea } = Input;\n\n  return (\n    <>\n\n      <Space />\n\n      <TextArea\n        value={machine.description}\n        disabled={!machine.editable}\n      />\n\n      <Divider orientation=\"left\" style={{ color: 'white', borderTopColor: 'rgba(255,255,255,0.12)', lineHeight: '1.5715px', paddingTop: '20px', paddingBottom: '5px' }}>\n        Processing:\n      </Divider>\n\n      <Row justify='space-between' style={{paddingRight:20,paddingTop:10,paddingLeft:20}}>\n        <b>Time :</b>\n        <Input style={{maxWidth:100}} value={machine.process_time} disabled={!machine.editable} suffix='sec'/>\n      </Row>\n\n      <MachineInOutTypeDetail machine={machine} input />\n      <MachineInOutTypeDetail machine={machine} />\n\n      <Divider orientation=\"left\" style={{ color: 'white', borderTopColor: 'rgba(255,255,255,0.12)', lineHeight: '1.5715px', paddingTop: '20px', paddingBottom: '5px' }}>\n        Placement:\n      </Divider>\n\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        <PositionInput value={[machine.pose_offset.position.x, machine.pose_offset.position.y, machine.pose_offset.position.z]} \n          onChange={e => setItemProperty('machine', machine.uuid, 'position', { ...machine.pose_offset.position, x: e[0], y: e[1], z: e[2] })} />\n        <OrientationInput value={[machine.pose_offset.orientation.w, machine.pose_offset.orientation.x, machine.pose_offset.orientation.y, machine.pose_offset.orientation.z]}\n          onChange={e => setItemProperty('machine', machine.uuid, 'orientation', { ...machine.pose_offset.orientation, w: e[0], x: e[1], y: e[2], z: e[3] })} />\n      </div>\n      <br />\n\n\n\n    </>\n\n\n\n\n\n  )\n}\n","import React, { useCallback } from 'react';\nimport useStore from '../../stores/Store';\nimport { Space, Input } from 'antd';\nconst { TextArea } = Input;\n\nexport const ThingDetail = ({ uuid }) => {\n\n  const thing = useStore(useCallback(state => state.data.thingTypes[uuid], [uuid]));\n\n  return (\n    <>\n      <p>\n        <b>Description:</b>\n      </p>\n      <Space />\n\n      <TextArea\n        value={thing.description}\n        disabled={!thing.editable}\n      />\n\n\n    </>\n\n  )\n}\n","import React, { useCallback,useState } from 'react';\nimport useStore from '../../stores/Store';\nimport { Space, Divider, Input, Switch } from 'antd';\nimport OrientationInput from './OrientationInput';\nimport PositionInput from './PositionInput';\nimport debounce from 'lodash.debounce';\nconst { TextArea } = Input;\n\nexport const WaypointDetail = ({ uuid }) => {\n\n  const waypoint = useStore(useCallback(state => state.data.waypoints[uuid], [uuid]));\n\n  const setItemProperty = useStore(state => state.setItemProperty);\n  const requestJointProcessorUpdate = useStore(state => state.requestJointProcessorUpdate);\n\n  const setFocusItem = useStore(state=>state.setFocusItem);\n  const [activeTransform,setActiveTransform] = useState('inactive');\n\n  const debouncedRequest = debounce(()=>{\n    requestJointProcessorUpdate('waypoint',uuid)\n  },1000)\n\n  const positionOnOpen = () => {\n    setFocusItem('waypoint',waypoint.uuid,'translate');\n    setActiveTransform('translate'); \n  }\n  const positionOnClose = () => {\n    setFocusItem('waypoint',waypoint.uuid,'inactive');\n    setActiveTransform('inactive');\n  }\n  function orientationOnClose(){\n    setFocusItem('waypoint',waypoint.uuid,'inactive');\n    setActiveTransform('inactive');\n  }\n  function orientationOnOpen(){\n    setFocusItem('waypoint',waypoint.uuid,'rotate');\n    setActiveTransform('rotate');\n  }\n  const onPositionChange = (e) => {\n    setItemProperty('waypoint',waypoint.uuid,'waypoint',{...waypoint.position, x :e[0],y : e[1],z: e[2]});\n    debouncedRequest();\n  }\n  const onOrientationChange = (e) => {\n    setItemProperty('waypoint',waypoint.uuid,'orientation',{...waypoint.orientation, w:e[0],x :e[1],y : e[2],z: e[3]})\n    debouncedRequest();\n  }\n\n  return (\n    <>\n\n      <Space />\n\n      <TextArea\n        value={waypoint.description}\n        disabled={!waypoint.editable}\n      />\n\n      <Divider orientation=\"left\" style={{ color: 'white', borderTopColor: 'rgba(255,255,255,0.12)', lineHeight: '1.5715px', paddingTop: '20px', paddingBottom: '5px' }}>\n        Processing:\n      </Divider>\n      <div style={{display:'flex',flexDirection:'column'}}>\n      <PositionInput value={[waypoint.position.x, waypoint.position.y,waypoint.position.z]} onOpen = {positionOnOpen} onClose = {positionOnClose}\n      onChange={onPositionChange} openStatus = {activeTransform === 'translate'}/>\n      <OrientationInput value={[waypoint.orientation.w, waypoint.orientation.x, waypoint.orientation.y,waypoint.orientation.z]} onOpen = {orientationOnOpen} onClose = {orientationOnClose}\n      onChange={onOrientationChange} openStatus = {activeTransform === 'rotate'}/>\n      <br/>\n      <div style={{paddingTop: '5px',display:'flex',justifyContent: 'space-between',alignItems:'center'}}>\n       <b>Reachable:</b>\n       <Switch checked = {waypoint.joints.reachable} style={{left :'-30px' }}/>\n\n\n        </div>\n\n      </div>\n\n\n\n    </>\n\n  )\n}\n","import React, { useCallback, useState } from 'react';\r\nimport useStore from '../../stores/Store';\r\nimport { Divider, Input, Switch, Space, Card, Button } from 'antd';\r\nimport OrientationInput from './OrientationInput';\r\nimport PositionInput from './PositionInput';\r\nconst { TextArea } = Input;\r\n\r\nexport const MachineInOutRegionDetail = ({ uuid }) => {\r\n\r\n    const region = useStore(useCallback(state => state.data.regions[uuid], [uuid]));\r\n\r\n    const setItemProperty = useStore(state => state.setItemProperty);\r\n\r\n    const setSecondaryFocusItem = useStore(state => state.setSecondaryFocusItem);\r\n\r\n    const [activeTransform, setActiveTransform] = useState('inactive');\r\n\r\n    const positionOnOpen = () => {\r\n        setSecondaryFocusItem('region', region.uuid, 'translate');\r\n        setActiveTransform('translate');\r\n    }\r\n\r\n    const positionOnClose = () => {\r\n        setSecondaryFocusItem('region', region.uuid, 'inactive');\r\n        setActiveTransform('inactive');\r\n\r\n    }\r\n\r\n    function orientationOnClose() {\r\n        setSecondaryFocusItem('region', region.uuid, 'inactive');\r\n        setActiveTransform('inactive');\r\n\r\n    }\r\n\r\n    function orientationOnOpen() {\r\n        setSecondaryFocusItem('region', region.uuid, 'rotate');\r\n        setActiveTransform('rotate');\r\n\r\n    }\r\n\r\n\r\n    let defaultShape = \"Sphere\"\r\n    if (!region.uncertainty_radius) {\r\n        defaultShape = \"Cube\"\r\n    }\r\n\r\n\r\n    const [shape, setShape] = useState(defaultShape);\r\n    function changeShape(newShape) {\r\n        if (newShape !== shape) {\r\n            if (shape === 'Cube') {\r\n                let temp = region.uncertainty_x;\r\n\r\n                setItemProperty('region', region.uuid, 'uncertainty_radius', temp)\r\n                setItemProperty('region', region.uuid, 'uncertainty_x', null)\r\n                setItemProperty('region', region.uuid, 'uncertainty_y', null)\r\n                setItemProperty('region', region.uuid, 'uncertainty_z', null)\r\n                setShape('Sphere')\r\n            } else {\r\n                let temp = region.uncertainty_radius;\r\n\r\n                setItemProperty('region', region.uuid, 'uncertainty_x', temp)\r\n                setItemProperty('region', region.uuid, 'uncertainty_y', temp)\r\n                setItemProperty('region', region.uuid, 'uncertainty_z', temp)\r\n                setItemProperty('region', region.uuid, 'uncertainty_radius', null)\r\n                setShape('Cube')\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    let dimension = null;\r\n    if (shape === 'Cube') {\r\n        dimension = (\r\n            <Card size='small'>\r\n                <Space>\r\n                    <div style={{ display: \"flex\", alignItems: 'center' }}>\r\n                        <b style={{ color: \"red\", paddingRight: '5px' }}>X: </b>\r\n                        <Input\r\n                            disabled={!region.editable}\r\n                            value={region.uncertainty_x}\r\n                            style={{ width: '40%' }}\r\n\r\n                        />\r\n                    </div>\r\n                    <div style={{ display: \"flex\", alignItems: 'center' }}>\r\n                        <b style={{ color: \"lime\", paddingRight: '5px' }}>Y: </b>\r\n                        <Input\r\n                            disabled={!region.editable}\r\n                            style={{ width: '40%' }}\r\n                            value={region.uncertainty_y}\r\n\r\n                        />\r\n                    </div>\r\n                    <div style={{ display: \"flex\", alignItems: 'center' }}>\r\n                        <b style={{ color: \"blue\", paddingRight: '5px' }}>Z: </b>\r\n                        <Input\r\n                            disabled={!region.editable}\r\n                            style={{ width: '40%' }}\r\n                            value={region.uncertainty_z}\r\n\r\n                        />\r\n                    </div>\r\n                </Space>\r\n            </Card>)\r\n    } else {\r\n        dimension = (\r\n            <div>\r\n                <Card size='small'>\r\n                    <b sbyle={{ color: \"rgba(255, 255, 255, 0.85)\", paddingRight: '5px' }}>Radius: </b>\r\n                    <Input\r\n                        disabled={!region.editable}\r\n                        style={{ width: '10%' }}\r\n                        value={region.uncertainty_radius}\r\n\r\n                    />\r\n                </Card>\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <TextArea\r\n                defaultValue={region.description}\r\n                disabled={!region.editable}\r\n            />\r\n\r\n            <Divider orientation=\"left\" style={{ color: 'white', borderTopColor: 'rgba(255,255,255,0.12)', lineHeight: '1.5715px', paddingTop: '20px', paddingBottom: '5px' }}>\r\n                <span>Placement</span>\r\n            </Divider>\r\n\r\n            <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                <PositionInput value={[region.center_position.x, region.center_position.y, region.center_position.z]} onOpen={positionOnOpen} onClose={positionOnClose} openStatus={activeTransform === 'translate'}\r\n                    onChange={e => setItemProperty('region', region.uuid, 'center_position', { ...region.center_position, x: e[0], y: e[1], z: e[2] })} />\r\n                <OrientationInput value={[region.center_orientation.w, region.center_orientation.x, region.center_orientation.y, region.center_orientation.z]} onOpen={orientationOnOpen} onClose={orientationOnClose} openStatus={activeTransform === 'rotate'}\r\n                    onChange={e => setItemProperty('region', region.uuid, 'center_orientation', { ...region.center_orientation, w: e[0], x: e[1], y: e[2], z: e[3] })} />\r\n                <br />\r\n                <div style={{ paddingTop: '0px', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                    <b style={{ color: 'rgba(255, 255, 255, 0.85)' }}>Free Orientation:</b>\r\n                    <Switch disabled={!region.editable} checked={region.free_orientation} style={{ left: '-30px' }} />\r\n                </div>\r\n                <Divider orientation=\"left\" style={{ color: 'white', borderTopColor: 'rgba(255,255,255,0.12)', lineHeight: '1.5715px', paddingTop: '20px', paddingBottom: '5px' }}>\r\n                    <span>Shape</span>\r\n                    <br />\r\n                    <br />\r\n                </Divider>\r\n                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', paddingTop: '5px' }}>\r\n                    <b style={{ color: 'rgba(255, 255, 255, 0.85)' }}>Shape:</b>\r\n                    <div>\r\n\r\n                        <Button style={{ marginRight: 2 }} disabled={!region.editable && shape !== 'Cube'} type={shape === 'Cube' ? 'primary' : 'default'} onClick={() => { changeShape('Cube') }}>\r\n                            Cube\r\n                        </Button>\r\n                        <Button disabled={!region.editable && shape !== 'Sphere'} type={shape === 'Cube' ? 'default' : 'primary'} onClick={() => { changeShape('Sphere') }}>\r\n                            Sphere\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <br />\r\n\r\n\r\n\r\n\r\n                <b style={{ color: 'rgba(255, 255, 255, 0.85)' }}>Dimension:</b>\r\n\r\n                {dimension}\r\n\r\n            </div>\r\n\r\n        </>\r\n\r\n\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nimport { Drawer, Input, Empty, Space, Button, Popover } from 'antd';\r\n\r\nimport { LocationDetail } from './LocationDetail';\r\nimport { MachineDetail } from './MachineDetail';\r\nimport { ThingDetail } from './ThingDetail';\r\nimport { WaypointDetail } from './WaypointDetail';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport { MachineInOutRegionDetail } from './MachineInOutRegionDetail'\r\n\r\nimport useStore from '../../stores/Store';\r\n\r\nconst EDITOR_TYPES = ['primitive', 'skill', 'program', 'trajectory', 'scene']\r\n// const IGNORE_ITEMS = ['program','scene','trajectory']\r\n\r\nexport const Detail = (_) => {\r\n\r\n  const {\r\n    focusItem,\r\n    clearFocusItem,\r\n    childrenDrawer,\r\n    clearChildrenDrawer,\r\n    secondaryFocusItem,\r\n    deleteItem,\r\n    setItemProperty,\r\n    item,\r\n    childItem\r\n  } = useStore(state => ({\r\n    focusItem: state.focusItem,\r\n    clearFocusItem: state.clearFocusItem,\r\n    childrenDrawer: state.childrenDrawer,\r\n    clearChildrenDrawer: state.clearChildrenDrawer,\r\n    secondaryFocusItem: state.secondaryFocusItem,\r\n    deleteItem: state.deleteItem,\r\n    setItemProperty: state.setItemProperty,\r\n    item: state.focusItem.type && EDITOR_TYPES.indexOf(state.focusItem.type) < 0 ? state.data[state.focusItem.type + 's'][state.focusItem.uuid] : null,\r\n    childItem: ['region'].indexOf(state.secondaryFocusItem.type) > -1 ? state.data[state.secondaryFocusItem.type + 's'][state.secondaryFocusItem.uuid] : { name: 'nothing', editable: false }\r\n  }));\r\n\r\n  const handleOK = () => {\r\n    clearFocusItem();\r\n    deleteItem(focusItem.type, focusItem.uuid);\r\n  }\r\n\r\n  const content = (\r\n    <Button\r\n      danger\r\n      block\r\n      onClick={handleOK}\r\n      icon={<DeleteOutlined />}\r\n    >\r\n      Delete\r\n    </Button>\r\n\r\n  )\r\n\r\n  if (EDITOR_TYPES.indexOf(focusItem.type) < 0 && item && childItem) {\r\n    return (\r\n      <div style={{ color: 'white' }}>\r\n        <Drawer\r\n          title={\r\n            <Space>\r\n              <span style={{ textTransform: 'capitalize' }}>{focusItem.type} </span>\r\n              <Input\r\n                value={item.name}\r\n                disabled={!item.editable}\r\n                onChange={e => setItemProperty(focusItem.type, focusItem.uuid, 'name', e.target.value)} />\r\n            </Space>}\r\n          visible={focusItem.uuid !== null && focusItem.type !== null}\r\n          onClose={clearFocusItem}\r\n          getContainer={false}\r\n          mask={false}\r\n          footer={\r\n            <div>\r\n              {item.deleteable ? (\r\n                <Popover title=\"Are you sure you want to delete this item?\"\r\n                  trigger=\"click\"\r\n                  placement=\"top\"\r\n                  content={content}>\r\n                  <Button\r\n                    danger\r\n                    block\r\n                    disabled={!item.deleteable}\r\n                    icon={<DeleteOutlined />}\r\n\r\n                  />\r\n\r\n                </Popover>\r\n              ) : (\r\n                <Button\r\n                  danger\r\n                  block\r\n                  disabled={!item.deleteable}\r\n                  icon={<DeleteOutlined />}\r\n                />\r\n\r\n              )}\r\n\r\n\r\n            </div>\r\n          }\r\n          width='25%'\r\n        >\r\n          {focusItem.type === 'location' && (\r\n            <LocationDetail uuid={focusItem.uuid} />\r\n          )}\r\n          {focusItem.type === 'machine' && (\r\n            <>\r\n              <div>\r\n                <MachineDetail uuid={focusItem.uuid} />\r\n                <Drawer title={\r\n                  <Space>\r\n                    <span style={{ textTransform: 'capitalize' }}>{secondaryFocusItem.type} </span>\r\n                    <Input\r\n                      defaultValue={childItem.name}\r\n                      disabled={!childItem.editable}\r\n                      onChange={e => setItemProperty(secondaryFocusItem.type, secondaryFocusItem.uuid, 'name', e.target.value)} />\r\n                  </Space>}\r\n                  onClose={clearChildrenDrawer}\r\n                  visible={childrenDrawer}\r\n                  width='20%'\r\n                  mask={false}\r\n                  placement='right'>\r\n                  <MachineInOutRegionDetail uuid={secondaryFocusItem.uuid} />\r\n                </Drawer>\r\n              </div>\r\n            </>\r\n\r\n          )}\r\n          {focusItem.type === 'waypoint' && (\r\n            <WaypointDetail uuid={focusItem.uuid} />\r\n          )}\r\n          {focusItem.type === 'thingType' && (\r\n            <ThingDetail uuid={focusItem.uuid} />\r\n          )}\r\n          {focusItem.type === null && (\r\n            <Empty />\r\n          )}\r\n        </Drawer>\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <Drawer\r\n        title={<span style={{ textTransform: 'capitalize' }}>{focusItem.type} </span>}\r\n        visible={focusItem.uuid !== null && focusItem.type !== null && EDITOR_TYPES.indexOf(focusItem.type) < 0}\r\n        onClose={clearFocusItem}\r\n        getContainer={false}\r\n        width='25%'\r\n      >\r\n      </Drawer>\r\n    )\r\n\r\n  }\r\n}\r\n","import React from 'react';\nimport { Card } from 'antd';\nimport { ProgramEditor } from '../ProgramEditor';\nimport { Detail } from '../Detail';\n\n\n\nexport const ProgramTile = (props) => {\n\n\n    return (\n        <div style={{height:'calc(100vh - 48pt)',paddingRight:10,paddingTop:10,paddingBottom:10}}>\n            <Card \n                headStyle={{height:65, paddingTop:5}}\n                style={{height:'100%',display:'flex',flex:1,flexDirection:'column',}}\n                bodyStyle={{padding:0,display:'flex',flex:1,flexDirection:'column',}}\n                title=\"Program Editor\">\n                    <ProgramEditor/>\n            </Card>\n            <Detail/>\n        </div>\n    );\n};","import React from 'react';\n\nimport { Modal, Input, Alert } from 'antd';\n\nimport useStore from '../../stores/Store';\nimport shallow from 'zustand/shallow';\n\nexport const SettingsModal = (_) => {\n\n    const {activeModal, closeModal, url, setUrl, connection, connect, doBulkJointRequest} = useStore(state=>({\n        activeModal:state.activeModal,\n        closeModal:state.closeModal,\n        url:state.url,\n        setUrl:state.setUrl,\n        connection:state.connection,\n        connect:state.connect,\n        doBulkJointRequest:state.doBulkJointRequest\n    }),shallow);\n    \n    let connectButtonText = 'Connect';\n    if (connection === 'connecting') {\n        connectButtonText = 'Connecting'\n    } else if (connection === 'connected') {\n        connectButtonText = 'Reconnect'\n    }\n\n    return (\n        <Modal title=\"Settings\" visible={activeModal === 'settings'} onOk={closeModal} onCancel={closeModal}>\n            {connection === 'connected' && (\n                <Alert type=\"success\" showIcon message=\"Connected!\"/>\n            )}\n            {connection === 'connecting' && (\n                <Alert type=\"warning\" showIcon message=\"Connecting...\"/>\n            )}\n            {connection === 'disconnected' && (\n                <Alert type=\"error\" showIcon message=\"Not Connected!\"/>\n            )}\n            \n            <Input.Search \n                style={{marginTop:20}}\n                placeholder=\"e.g. ws://localhost:9090\" \n                defaultValue={url} \n                onChange={(e)=>setUrl(e.target.value)}\n                enterButton={connectButtonText} \n                size=\"large\" \n                loading={connection === 'connecting'} \n                onSearch={connect}\n                disabled={connection === 'connecting'}\n            />\n        </Modal>\n    );\n}\n","import React, {useRef} from 'react';\n\nimport { saveAs } from 'file-saver';\nimport YAML from 'yaml';\nimport { Modal, Button, Row, Col, message } from 'antd';\nimport { UploadOutlined, DownloadOutlined } from '@ant-design/icons';\n\nimport useStore from '../../stores/Store';\nimport shallow from 'zustand/shallow';\n\nexport const SyncModal = (_) => {\n\n    const { activeModal, closeModal } = useStore(state => ({\n        activeModal: state.activeModal,\n        closeModal: state.closeModal\n    }),shallow);\n\n    const fileInputRef = useRef();\n\n    const [getProgram, setProgram] = useStore(state => [state.getProgram, state.setProgram],shallow);\n\n    const download = () => {\n        const program = getProgram();\n        const text = JSON.stringify(program);\n\n        const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });\n        saveAs(blob, `${program.name.replace(' ', '_')}.json`);\n    }\n\n    const upload = async (event) => {\n        console.log(event);\n        const fileUploaded = event.target.files[0];\n        console.log(fileUploaded)\n        if (fileUploaded) {\n            const reader = new FileReader();\n            reader.onabort = () => { message.error('Upload Aborted') }\n            reader.onerror = () => { message.error('Upload Error') }\n            reader.onload = () => {\n\n                let data = YAML.parse(reader.result);\n                if (data) {\n                    // Do handling\n                    setProgram(data)\n                    closeModal()\n                }\n            }\n            reader.readAsText(fileUploaded)\n        }\n        //\n        // props.handleFile(fileUploaded);\n        // console.log(file)\n        // if (file) {\n        //     \n\n        // }\n    }\n\n    const handleUploadClick = (_) => {\n        fileInputRef.current.click();\n    };\n\n    return (\n        <Modal title=\"Upload and Download\" visible={activeModal === 'sync'} onOk={closeModal} onCancel={closeModal}>\n            <Row style={{ width: '100%' }}>\n                <Col span={12} style={{ padding: 10 }}>\n                    <input\n                        type='file'\n                        ref={fileInputRef}\n                        onChange={upload}\n                        style={{display: 'none'}}\n                    />\n                    <Button type='primary' size='large' block icon={<UploadOutlined />} onClick={handleUploadClick}>Upload</Button>\n                </Col>\n                <Col span={12} style={{ padding: 10 }}>\n                    <Button type='primary' size='large' block icon={<DownloadOutlined />} onClick={download}>Download</Button>\n                </Col>\n            </Row>\n        </Modal>\n    );\n}","import React, { Fragment } from \"react\";\n\nimport { SettingsModal } from \"./SettingsModal\";\nimport { SyncModal } from \"./SyncModal\";\n\n\nexport const Modals = (props) => {\n\n    return (\n        <Fragment>\n            \n            <SyncModal/>\n\n            <SettingsModal/>\n\n        </Fragment>\n    );\n};","import React, { useEffect } from \"react\";\nimport { useSpring, animated } from '@react-spring/web';\nimport { config } from 'react-spring';\nimport { Layout, Row, Button, Badge, Space } from 'antd';\nimport Icon, { SyncOutlined, SettingOutlined } from '@ant-design/icons';\nimport {ReactComponent as EvdIcon} from './components/CustomIcons/EVD.svg';\nimport './themes/safety.less';\nimport './themes/quality.less';\nimport './themes/performance.less';\nimport './themes/business.less';\nimport { ReviewTile } from \"./components/Body/ReviewTile\";\nimport { SimulatorTile } from \"./components/Body/SimulatorTile\";\nimport { ProgramTile } from \"./components/Body/ProgramTile\";\n\nimport { Modals } from \"./components/Modals\";\n\nimport useStore from \"./stores/Store\";\nimport shallow from 'zustand/shallow';\n\n\nexport function App() {\n\n    const setActiveModal = useStore(state=>state.setActiveModal);\n    const [frame,primaryColor] = useStore(state=>[state.frame,state.primaryColor],shallow);\n    const simMode = useStore(state=>state.simMode);\n    const simStyle = useSpring({width: simMode==='default' ? '45%' : '100%', config:config.stiff});\n    const editStyle = useSpring({width: simMode==='default' ? '55%' : '0%', config:config.stiff});\n    const connection = useStore(state=>state.connection);\n    const programName = useStore(state=>state.name);\n\n    useEffect(() => {\n        if (frame === 'safety') {\n            document.body.classList.remove('business');\n            document.body.classList.remove('performance');\n            document.body.classList.remove('quality');\n            document.body.classList.add('safety');\n        } else if (frame === 'quality') {\n            document.body.classList.remove('business');\n            document.body.classList.remove('performance');\n            document.body.classList.remove('safety');\n            document.body.classList.add('quality');\n        } else if (frame === 'performance') {\n            document.body.classList.remove('business');\n            document.body.classList.remove('quality');\n            document.body.classList.remove('safety');\n            document.body.classList.add('performance');\n        } else if (frame === 'business') {\n            document.body.classList.remove('performance');\n            document.body.classList.remove('quality');\n            document.body.classList.remove('safety');\n            document.body.classList.add('business');\n        }\n      }, [frame]\n    )\n\n    const menuItems = [\n        {\n            modalKey: 'settings',\n            name: 'Settings',\n            icon: <SettingOutlined />\n        },\n        {\n            modalKey: 'sync',\n            name: 'Sync',\n            icon: <SyncOutlined />\n        }\n    ];\n\n    return (\n        <>\n            <Layout style={{height:'100vh',width:'100vw'}}>\n                <Layout.Header className=\"header\">\n                    <Row align='middle' justify='space-between'>\n                        <Space style={{float:'left'}} >\n                            <Icon style={{color:primaryColor,fontSize:30}} component={EvdIcon}/>\n                            <h2 style={{paddingLeft:20}}><b>CoFrame<i> - {programName}</i></b></h2>\n                        </Space>\n                        <span style={{float:'right'}} >\n                            {menuItems.map(entry => (\n                                <Button type='text' key={entry.modalKey} icon={entry.icon} onClick={()=>setActiveModal(entry.modalKey)}>\n                                    {entry.name}\n                                </Button>\n                            ))}\n                            {connection === 'connected' && (\n                                <Badge status=\"success\" />\n                            )}\n                            {connection === 'connecting' && (\n                                <Badge status=\"warning\" />\n                            )}\n                            {connection === 'disconnected' && (\n                                <Badge status=\"error\" />\n                            )}\n                        </span>\n                    </Row>\n                </Layout.Header>\n                <Layout>\n                    <Layout.Sider width='25vw'>\n                        <ReviewTile/>\n                    </Layout.Sider>\n                    <Layout width='75vw'>\n                        <Layout.Content>\n                            <div style={{height:'100%',width:'100%'}}>\n                                <animated.div style={{...simStyle,float:'left'}}>\n                                    <SimulatorTile/>\n                                </animated.div>\n                                <animated.div style={{...editStyle,float:'right'}}>\n                                    <ProgramTile/>\n                                </animated.div>\n                                {/* <Col style={{width:simMode==='default'? '45%' : '100%', transition: 'width 0.2s linear'}}>\n                                    \n                                </Col>\n                                <Col hidden={simMode!=='default'} style={{width:'55%'}}>\n                                    \n                                </Col> */}\n                            </div>\n                        </Layout.Content>\n                    </Layout>\n                </Layout>\n            </Layout>\n\n            <Modals/>\n        </>\n    )\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker.register(swUrl).then((registration) => {\n        // eslint-disable-next-line no-param-reassign\n        registration.onupdatefound = () => {\n            const installingWorker = registration.installing;\n            if (installingWorker == null) {\n                return;\n            }\n\n            installingWorker.onstatechange = () => {\n                if (installingWorker.state === 'installed') {\n                    if (navigator.serviceWorker.controller) {\n                        // At this point, the updated precached content has been fetched,\n                        // but the previous service worker will still serve the older\n                        // content until all client tabs are closed.\n                        console.log(\n                            'New content is available and will be used when all ' +\n                            'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n                        );\n\n                        // Execute callback\n                        if (config && config.onUpdate) {\n                            config.onUpdate(registration);\n                        }\n                    } else {\n                        // At this point, everything has been precached.\n                        // It's the perfect time to display a\n                        // \"Content is cached for offline use.\" message.\n                        console.log('Content is cached for offline use.');\n\n                        // Execute callback\n                        if (config && config.onSuccess) {\n                            config.onSuccess(registration);\n                        }\n                    }\n                }\n            };\n        };\n    }).catch((error) => {\n        console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { 'Service-Worker': 'script' },\n    }).then((response) => {\n        // Ensure service worker exists, and that we really are getting a JS file.\n        const contentType = response.headers.get('content-type');\n        if ( response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n            // No service worker found. Probably a different app. Reload the page.\n            navigator.serviceWorker.ready.then((registration) => {\n                registration.unregister().then(() => {\n                    window.location.reload();\n                });\n            });\n        } else {\n            // Service worker found. Proceed as normal.\n            registerValidSW(swUrl, config);\n        }\n    }).catch(() => {\n        console.log(\n            'No internet connection found. App is running in offline mode.',\n        );\n    });\n}\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit https://bit.ly/CRA-PWA',\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then((registration) => {\n            registration.unregister();\n        }).catch((error) => {\n            console.error(error.message);\n        });\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport './index.css'\nimport * as serviceWorker from './serviceWorker';\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}