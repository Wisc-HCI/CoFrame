var Z=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Sn=Z((Tn,Q)=>{/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $=Symbol("Comlink.proxy"),nn=Symbol("Comlink.endpoint"),en=Symbol("Comlink.releaseProxy"),z=Symbol("Comlink.finalizer"),P=Symbol("Comlink.thrown"),q=n=>typeof n=="object"&&n!==null||typeof n=="function",tn={canHandle:n=>q(n)&&n[$],serialize(n){const{port1:e,port2:t}=new MessageChannel;return B(n,e),[t,[t]]},deserialize(n){return n.start(),sn(n)}},rn={canHandle:n=>q(n)&&P in n,serialize({value:n}){let e;return n instanceof Error?e={isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:e={isError:!1,value:n},[e,[]]},deserialize(n){throw n.isError?Object.assign(new Error(n.value.message),n.value):n.value}},G=new Map([["proxy",tn],["throw",rn]]);function on(n,e){for(const t of n)if(e===t||t==="*"||t instanceof RegExp&&t.test(e))return!0;return!1}function B(n,e=globalThis,t=["*"]){e.addEventListener("message",function r(o){if(!o||!o.data)return;if(!on(t,o.origin)){console.warn(`Invalid origin '${o.origin}' for comlink proxy`);return}const{id:_,type:s,path:a}=Object.assign({path:[]},o.data),u=(o.data.argumentList||[]).map(h);let b;try{const g=a.slice(0,-1).reduce((l,S)=>l[S],n),w=a.reduce((l,S)=>l[S],n);switch(s){case"GET":b=w;break;case"SET":g[a.slice(-1)[0]]=h(o.data.value),b=!0;break;case"APPLY":b=w.apply(g,u);break;case"CONSTRUCT":{const l=new w(...u);b=bn(l)}break;case"ENDPOINT":{const{port1:l,port2:S}=new MessageChannel;B(n,S),b=fn(l,[l])}break;case"RELEASE":b=void 0;break;default:return}}catch(g){b={value:g,[P]:0}}Promise.resolve(b).catch(g=>({value:g,[P]:0})).then(g=>{const[w,l]=U(g);e.postMessage(Object.assign(Object.assign({},w),{id:_}),l),s==="RELEASE"&&(e.removeEventListener("message",r),v(e),z in n&&typeof n[z]=="function"&&n[z]())}).catch(g=>{const[w,l]=U({value:new TypeError("Unserializable return value"),[P]:0});e.postMessage(Object.assign(Object.assign({},w),{id:_}),l)})}),e.start&&e.start()}function cn(n){return n.constructor.name==="MessagePort"}function v(n){cn(n)&&n.close()}function sn(n,e){return D(n,[],e)}function L(n){if(n)throw new Error("Proxy has been released and is not useable")}function Y(n){return E(n,{type:"RELEASE"}).then(()=>{v(n)})}const F=new WeakMap,N="FinalizationRegistry"in globalThis&&new FinalizationRegistry(n=>{const e=(F.get(n)||0)-1;F.set(n,e),e===0&&Y(n)});function an(n,e){const t=(F.get(e)||0)+1;F.set(e,t),N&&N.register(n,e,n)}function un(n){N&&N.unregister(n)}function D(n,e=[],t=function(){}){let r=!1;const o=new Proxy(t,{get(_,s){if(L(r),s===en)return()=>{un(o),Y(n),r=!0};if(s==="then"){if(e.length===0)return{then:()=>o};const a=E(n,{type:"GET",path:e.map(u=>u.toString())}).then(h);return a.then.bind(a)}return D(n,[...e,s])},set(_,s,a){L(r);const[u,b]=U(a);return E(n,{type:"SET",path:[...e,s].map(g=>g.toString()),value:u},b).then(h)},apply(_,s,a){L(r);const u=e[e.length-1];if(u===nn)return E(n,{type:"ENDPOINT"}).then(h);if(u==="bind")return D(n,e.slice(0,-1));const[b,g]=H(a);return E(n,{type:"APPLY",path:e.map(w=>w.toString()),argumentList:b},g).then(h)},construct(_,s){L(r);const[a,u]=H(s);return E(n,{type:"CONSTRUCT",path:e.map(b=>b.toString()),argumentList:a},u).then(h)}});return an(o,n),o}function _n(n){return Array.prototype.concat.apply([],n)}function H(n){const e=n.map(U);return[e.map(t=>t[0]),_n(e.map(t=>t[1]))]}const J=new WeakMap;function fn(n,e){return J.set(n,e),n}function bn(n){return Object.assign(n,{[$]:!0})}function U(n){for(const[e,t]of G)if(t.canHandle(n)){const[r,o]=t.serialize(n);return[{type:"HANDLER",name:e,value:r},o]}return[{type:"RAW",value:n},J.get(n)||[]]}function h(n){switch(n.type){case"HANDLER":return G.get(n.name).deserialize(n.value);case"RAW":return n.value}}function E(n,e,t){return new Promise(r=>{const o=gn();n.addEventListener("message",function _(s){!s.data||!s.data.id||s.data.id!==o||(n.removeEventListener("message",_),r(s.data))}),n.start&&n.start(),n.postMessage(Object.assign({id:o},e),t)})}function gn(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}let f;const X=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&X.decode();let M=null;function C(){return(M===null||M.byteLength===0)&&(M=new Uint8Array(f.memory.buffer)),M}function x(n,e){return n=n>>>0,X.decode(C().subarray(n,n+e))}const m=new Array(128).fill(void 0);m.push(void 0,null,!0,!1);let j=m.length;function i(n){j===m.length&&m.push(m.length+1);const e=j;return j=m[e],m[e]=n,e}function c(n){return m[n]}function ln(n){n<132||(m[n]=j,j=n)}function p(n){const e=c(n);return ln(n),e}function T(n){return n==null}let O=null;function wn(){return(O===null||O.byteLength===0)&&(O=new Float64Array(f.memory.buffer)),O}let k=null;function y(){return(k===null||k.byteLength===0)&&(k=new Int32Array(f.memory.buffer)),k}let A=0;const I=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},dn=typeof I.encodeInto=="function"?function(n,e){return I.encodeInto(n,e)}:function(n,e){const t=I.encode(n);return e.set(t),{read:n.length,written:t.length}};function W(n,e,t){if(t===void 0){const a=I.encode(n),u=e(a.length,1)>>>0;return C().subarray(u,u+a.length).set(a),A=a.length,u}let r=n.length,o=e(r,1)>>>0;const _=C();let s=0;for(;s<r;s++){const a=n.charCodeAt(s);if(a>127)break;_[o+s]=a}if(s!==r){s!==0&&(n=n.slice(s)),o=t(o,r,r=s+n.length*3,1)>>>0;const a=C().subarray(o+s,o+r),u=dn(n,a);s+=u.written}return A=s,o}let R=null;function yn(){return(R===null||R.byteLength===0)&&(R=new BigInt64Array(f.memory.buffer)),R}function V(n){const e=typeof n;if(e=="number"||e=="boolean"||n==null)return`${n}`;if(e=="string")return`"${n}"`;if(e=="symbol"){const o=n.description;return o==null?"Symbol":`Symbol(${o})`}if(e=="function"){const o=n.name;return typeof o=="string"&&o.length>0?`Function(${o})`:"Function"}if(Array.isArray(n)){const o=n.length;let _="[";o>0&&(_+=V(n[0]));for(let s=1;s<o;s++)_+=", "+V(n[s]);return _+="]",_}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(t.length>1)r=t[1];else return toString.call(n);if(r=="Object")try{return"Object("+JSON.stringify(n)+")"}catch{return"Object"}return n instanceof Error?`${n.name}: ${n.message}
${n.stack}`:r}function mn(n,e,t,r,o){try{const u=f.__wbindgen_add_to_stack_pointer(-16),b=W(n,f.__wbindgen_malloc,f.__wbindgen_realloc),g=A,w=W(r,f.__wbindgen_malloc,f.__wbindgen_realloc),l=A;f.computePose(u,b,g,i(e),i(t),w,l,i(o));var _=y()[u/4+0],s=y()[u/4+1],a=y()[u/4+2];if(a)throw p(s);return p(_)}finally{f.__wbindgen_add_to_stack_pointer(16)}}function d(n,e){try{return n.apply(this,e)}catch(t){f.__wbindgen_exn_store(i(t))}}async function hn(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(r){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}function pn(){const n={};return n.wbg={},n.wbg.__wbindgen_error_new=function(e,t){const r=new Error(x(e,t));return i(r)},n.wbg.__wbindgen_object_drop_ref=function(e){p(e)},n.wbg.__wbindgen_is_string=function(e){return typeof c(e)=="string"},n.wbg.__wbindgen_boolean_get=function(e){const t=c(e);return typeof t=="boolean"?t?1:0:2},n.wbg.__wbindgen_is_bigint=function(e){return typeof c(e)=="bigint"},n.wbg.__wbindgen_bigint_from_i64=function(e){return i(e)},n.wbg.__wbindgen_jsval_eq=function(e,t){return c(e)===c(t)},n.wbg.__wbindgen_number_get=function(e,t){const r=c(t),o=typeof r=="number"?r:void 0;wn()[e/8+1]=T(o)?0:o,y()[e/4+0]=!T(o)},n.wbg.__wbindgen_string_get=function(e,t){const r=c(t),o=typeof r=="string"?r:void 0;var _=T(o)?0:W(o,f.__wbindgen_malloc,f.__wbindgen_realloc),s=A;y()[e/4+1]=s,y()[e/4+0]=_},n.wbg.__wbindgen_is_object=function(e){const t=c(e);return typeof t=="object"&&t!==null},n.wbg.__wbindgen_in=function(e,t){return c(e)in c(t)},n.wbg.__wbindgen_bigint_from_u64=function(e){const t=BigInt.asUintN(64,e);return i(t)},n.wbg.__wbindgen_is_undefined=function(e){return c(e)===void 0},n.wbg.__wbindgen_object_clone_ref=function(e){const t=c(e);return i(t)},n.wbg.__wbg_log_70758e660e13bcb0=function(e,t){console.log(x(e,t))},n.wbg.__wbindgen_jsval_loose_eq=function(e,t){return c(e)==c(t)},n.wbg.__wbindgen_number_new=function(e){return i(e)},n.wbg.__wbindgen_string_new=function(e,t){const r=x(e,t);return i(r)},n.wbg.__wbg_getwithrefkey_15c62c2b8546208d=function(e,t){const r=c(e)[c(t)];return i(r)},n.wbg.__wbg_set_20cbc34131e76824=function(e,t,r){c(e)[p(t)]=p(r)},n.wbg.__wbg_getRandomValues_37fa2ca9e4e07fab=function(){return d(function(e,t){c(e).getRandomValues(c(t))},arguments)},n.wbg.__wbg_randomFillSync_dc1e9a60c158336d=function(){return d(function(e,t){c(e).randomFillSync(p(t))},arguments)},n.wbg.__wbg_crypto_c48a774b022d20ac=function(e){const t=c(e).crypto;return i(t)},n.wbg.__wbg_process_298734cf255a885d=function(e){const t=c(e).process;return i(t)},n.wbg.__wbg_versions_e2e78e134e3e5d01=function(e){const t=c(e).versions;return i(t)},n.wbg.__wbg_node_1cd7a5d853dbea79=function(e){const t=c(e).node;return i(t)},n.wbg.__wbg_msCrypto_bcb970640f50a1e8=function(e){const t=c(e).msCrypto;return i(t)},n.wbg.__wbg_require_8f08ceecec0f4fee=function(){return d(function(){const e=Q.require;return i(e)},arguments)},n.wbg.__wbindgen_is_function=function(e){return typeof c(e)=="function"},n.wbg.__wbg_performance_e5eb61626698b7a4=function(e){const t=c(e).performance;return i(t)},n.wbg.__wbg_now_928014da6271b17c=function(e){return c(e).now()},n.wbg.__wbg_get_44be0491f933a435=function(e,t){const r=c(e)[t>>>0];return i(r)},n.wbg.__wbg_length_fff51ee6522a1a18=function(e){return c(e).length},n.wbg.__wbg_new_898a68150f225f2e=function(){const e=new Array;return i(e)},n.wbg.__wbg_newnoargs_581967eacc0e2604=function(e,t){const r=new Function(x(e,t));return i(r)},n.wbg.__wbg_new_56693dbed0c32988=function(){return i(new Map)},n.wbg.__wbg_next_526fc47e980da008=function(e){const t=c(e).next;return i(t)},n.wbg.__wbg_next_ddb3312ca1c4e32a=function(){return d(function(e){const t=c(e).next();return i(t)},arguments)},n.wbg.__wbg_done_5c1f01fb660d73b5=function(e){return c(e).done},n.wbg.__wbg_value_1695675138684bd5=function(e){const t=c(e).value;return i(t)},n.wbg.__wbg_iterator_97f0c81209c6c35a=function(){return i(Symbol.iterator)},n.wbg.__wbg_get_97b561fb56f034b5=function(){return d(function(e,t){const r=Reflect.get(c(e),c(t));return i(r)},arguments)},n.wbg.__wbg_call_cb65541d95d71282=function(){return d(function(e,t){const r=c(e).call(c(t));return i(r)},arguments)},n.wbg.__wbg_new_b51585de1b234aff=function(){const e=new Object;return i(e)},n.wbg.__wbg_set_502d29070ea18557=function(e,t,r){c(e)[t>>>0]=p(r)},n.wbg.__wbg_isArray_4c24b343cb13cfb1=function(e){return Array.isArray(c(e))},n.wbg.__wbg_instanceof_ArrayBuffer_39ac22089b74fddb=function(e){let t;try{t=c(e)instanceof ArrayBuffer}catch{t=!1}return t},n.wbg.__wbg_call_01734de55d61e11d=function(){return d(function(e,t,r){const o=c(e).call(c(t),c(r));return i(o)},arguments)},n.wbg.__wbg_set_bedc3d02d0f05eb0=function(e,t,r){const o=c(e).set(c(t),c(r));return i(o)},n.wbg.__wbg_isSafeInteger_bb8e18dd21c97288=function(e){return Number.isSafeInteger(c(e))},n.wbg.__wbg_now_9c5990bda04c7e53=function(){return Date.now()},n.wbg.__wbg_entries_e51f29c7bba0c054=function(e){const t=Object.entries(c(e));return i(t)},n.wbg.__wbg_buffer_085ec1f694018c4f=function(e){const t=c(e).buffer;return i(t)},n.wbg.__wbg_self_1ff1d729e9aae938=function(){return d(function(){const e=self.self;return i(e)},arguments)},n.wbg.__wbg_window_5f4faef6c12b79ec=function(){return d(function(){const e=window.window;return i(e)},arguments)},n.wbg.__wbg_globalThis_1d39714405582d3c=function(){return d(function(){const e=globalThis.globalThis;return i(e)},arguments)},n.wbg.__wbg_global_651f05c6a0944d1c=function(){return d(function(){const e=global.global;return i(e)},arguments)},n.wbg.__wbg_newwithbyteoffsetandlength_6da8e527659b86aa=function(e,t,r){const o=new Uint8Array(c(e),t>>>0,r>>>0);return i(o)},n.wbg.__wbg_new_8125e318e6245eed=function(e){const t=new Uint8Array(c(e));return i(t)},n.wbg.__wbg_set_5cf90238115182c3=function(e,t,r){c(e).set(c(t),r>>>0)},n.wbg.__wbg_length_72e2208bbc0efc61=function(e){return c(e).length},n.wbg.__wbg_instanceof_Uint8Array_d8d9cb2b8e8ac1d4=function(e){let t;try{t=c(e)instanceof Uint8Array}catch{t=!1}return t},n.wbg.__wbg_newwithlength_e5d69174d6984cd7=function(e){const t=new Uint8Array(e>>>0);return i(t)},n.wbg.__wbg_subarray_13db269f57aa838d=function(e,t,r){const o=c(e).subarray(t>>>0,r>>>0);return i(o)},n.wbg.__wbindgen_bigint_get_as_i64=function(e,t){const r=c(t),o=typeof r=="bigint"?r:void 0;yn()[e/8+1]=T(o)?BigInt(0):o,y()[e/4+0]=!T(o)},n.wbg.__wbindgen_debug_string=function(e,t){const r=V(c(t)),o=W(r,f.__wbindgen_malloc,f.__wbindgen_realloc),_=A;y()[e/4+1]=_,y()[e/4+0]=o},n.wbg.__wbindgen_throw=function(e,t){throw new Error(x(e,t))},n.wbg.__wbindgen_memory=function(){const e=f.memory;return i(e)},n}function En(n,e){return f=n.exports,K.__wbindgen_wasm_module=e,R=null,O=null,k=null,M=null,f}async function K(n){if(f!==void 0)return f;typeof n>"u"&&(n="/CoFrame/assets/coframe_rust_bg.wasm");const e=pn();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:r}=await hn(await n,e);return En(t,r)}const An=async({urdf:n,gripperGoalPose:e,origin:t,attachmentLink:r,staticEnvironment:o})=>(await K(),mn(n,e,t,r,o));B({inverse:An})});export default Sn();
