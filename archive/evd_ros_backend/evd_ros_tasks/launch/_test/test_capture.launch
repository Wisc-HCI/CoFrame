<launch>
    <arg name="launch_rviz" default="true"/>
    <arg name="load_rviz_cfg" default="true"/>

    <arg name="robot_description_xacro" default="$(find evd_ros_tasks)/description/ur3e.urdf.xacro"/>
    <arg name="kinematics_config" default="$(find ur_description)/config/ur3_default.yaml"/>

    <!-- Global State Publishers -->
    <param name="robot_description" command="$(find xacro)/xacro --inorder '$(arg robot_description_xacro)' kinematics_config:=$(arg kinematics_config)"/>

    <node name="play_gripper_tfs" pkg="evd_ros_tasks" type="replay_gripper_tfs.py">
        <param name="file" value="$(find evd_ros_tasks)/capture_gripper_log.json"/>
    </node>

    <include file="$(find evd_ros_tasks)/launch/_common/rviz.launch">
        <arg name="launch_rviz" value="$(arg launch_rviz)"/>
        <arg name="load_rviz_cfg" value="$(arg load_rviz_cfg)"/>
        <arg name="task_name" value="3d_printer_machine_tending"/>
    </include>
</launch>